// Generated by Construct 2, the HTML5 game and app creator :: https://www.construct.net
'use strict';var aa,ba,ca,da,ea,fa,ga,w,ha,ia,ka,la,ma,na,N,qa,ra,sa,ta,ua,va,wa,O,xa,Aa,Ba,Ca,Da,Q,Ea,Fa,Ga,Ha,Ia,U,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb={},Yb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(f){return f.__proto__}:function(f){return f.constructor.prototype});
(function(){function f(a,c,d,b){this.set(a,c,d,b)}function l(){this.eb=this.cb=this.gb=this.fb=this.ob=this.nb=this.Oa=this.Na=0}function m(a,c,d,b){a<c?d<b?(y=a<d?a:d,L=c>b?c:b):(y=a<b?a:b,L=c>d?c:d):d<b?(y=c<d?c:d,L=a>b?a:b):(y=c<b?c:b,L=a>d?a:d)}function p(){this.items=this.Xc=null;this.og=0;v&&(this.Xc=new Set);this.Df=[];this.Bd=!0}function q(a){u[D++]=a}function r(){this.oa=this.Ei=this.y=this.Vi=0}function g(a){this.Ba=[];this.hh=this.jh=this.kh=this.ih=0;this.Og(a)}function a(a,c){this.$i=
a;this.Zi=c;this.cells={}}function b(a,c){this.$i=a;this.Zi=c;this.cells={}}function e(a,c,d){var b;return X.length?(b=X.pop(),b.Ej=a,b.x=c,b.y=d,b):new aa(a,c,d)}function c(a,c,d){this.Ej=a;this.x=c;this.y=d;this.Ua=new ba}function d(a,c,d){var b;return F.length?(b=F.pop(),b.Ej=a,b.x=c,b.y=d,b):new ca(a,c,d)}function k(a,c,d){this.Ej=a;this.x=c;this.y=d;this.Ua=[];this.kf=!0;this.Uc=new ba;this.Hf=!1}function h(a,c){return a.Kc-c.Kc}da=function(a){window.console&&window.console.log&&window.console.log(a)};
ea=function(a){window.console&&window.console.error&&window.console.error(a)};fa=function(a){return"undefined"===typeof a};ga=function(a){return"number"===typeof a};w=function(a){return"string"===typeof a};ha=function(a){return 0<a&&0===(a-1&a)};ia=function(a){--a;for(var c=1;32>c;c<<=1)a=a|a>>c;return a+1};ka=function(a){return 0>a?-a:a};la=function(a,c){return a>c?a:c};ma=function(a,c){return a<c?a:c};na=Math.PI;N=function(a){return 0<=a?a|0:(a|0)-1};qa=function(a){var c=a|0;return c===a?c:c+1};
ra=function(a,c,d,b,h,e,n,k){var x,z,B,A;a<d?(z=a,x=d):(z=d,x=a);h<n?(A=h,B=n):(A=n,B=h);if(x<A||z>B)return!1;c<b?(z=c,x=b):(z=b,x=c);e<k?(A=e,B=k):(A=k,B=e);if(x<A||z>B)return!1;x=h-a+n-d;z=e-c+k-b;a=d-a;c=b-c;h=n-h;e=k-e;k=ka(c*h-e*a);return ka(h*z-e*x)>k?!1:ka(a*z-c*x)<=k};f.prototype.set=function(a,c,d,b){this.left=a;this.top=c;this.right=d;this.bottom=b};f.prototype.Ye=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};f.prototype.width=function(){return this.right-
this.left};f.prototype.height=function(){return this.bottom-this.top};f.prototype.offset=function(a,c){this.left+=a;this.top+=c;this.right+=a;this.bottom+=c;return this};f.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};f.prototype.zm=function(a){return!(a.right<this.left||a.bottom<this.top||a.left>this.right||a.top>this.bottom)};f.prototype.Am=function(a,c,d){return!(a.right+
c<this.left||a.bottom+d<this.top||a.left+c>this.right||a.top+d>this.bottom)};f.prototype.hb=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};f.prototype.Rf=function(a){return this.left===a.left&&this.top===a.top&&this.right===a.right&&this.bottom===a.bottom};sa=f;l.prototype.$d=function(a){this.Na=a.left;this.Oa=a.top;this.nb=a.right;this.ob=a.top;this.fb=a.right;this.gb=a.bottom;this.cb=a.left;this.eb=a.bottom};l.prototype.Tn=function(a,c){if(0===c)this.$d(a);else{var d=
Math.sin(c),b=Math.cos(c),h=a.left*d,e=a.top*d,n=a.right*d,d=a.bottom*d,k=a.left*b,x=a.top*b,z=a.right*b,b=a.bottom*b;this.Na=k-e;this.Oa=x+h;this.nb=z-e;this.ob=x+n;this.fb=z-d;this.gb=b+n;this.cb=k-d;this.eb=b+h}};l.prototype.offset=function(a,c){this.Na+=a;this.Oa+=c;this.nb+=a;this.ob+=c;this.fb+=a;this.gb+=c;this.cb+=a;this.eb+=c;return this};var y=0,L=0;l.prototype.Hl=function(a){m(this.Na,this.nb,this.fb,this.cb);a.left=y;a.right=L;m(this.Oa,this.ob,this.gb,this.eb);a.top=y;a.bottom=L};l.prototype.hb=
function(a,c){var d=this.Na,b=this.Oa,h=this.nb-d,e=this.ob-b,n=this.fb-d,k=this.gb-b,x=a-d,z=c-b,B=h*h+e*e,A=h*n+e*k,e=h*x+e*z,f=n*n+k*k,g=n*x+k*z,t=1/(B*f-A*A),h=(f*e-A*g)*t,B=(B*g-A*e)*t;if(0<=h&&0<B&&1>h+B)return!0;h=this.cb-d;e=this.eb-b;B=h*h+e*e;A=h*n+e*k;e=h*x+e*z;t=1/(B*f-A*A);h=(f*e-A*g)*t;B=(B*g-A*e)*t;return 0<=h&&0<B&&1>h+B};l.prototype.gc=function(a,c){if(c)switch(a){case 0:return this.Na;case 1:return this.nb;case 2:return this.fb;case 3:return this.cb;case 4:return this.Na;default:return this.Na}else switch(a){case 0:return this.Oa;
case 1:return this.ob;case 2:return this.gb;case 3:return this.eb;case 4:return this.Oa;default:return this.Oa}};l.prototype.ln=function(){return(this.Na+this.nb+this.fb+this.cb)/4};l.prototype.mn=function(){return(this.Oa+this.ob+this.gb+this.eb)/4};l.prototype.fg=function(a,c,d,b){if(this.hb(a,c)||this.hb(d,b))return!0;var h,e,n,k,x;for(x=0;4>x;x++)if(h=this.gc(x,!0),e=this.gc(x,!1),n=this.gc(x+1,!0),k=this.gc(x+1,!1),ra(a,c,d,b,h,e,n,k))return!0;return!1};l.prototype.ym=function(a){var c=a.ln(),
d=a.mn();if(this.hb(c,d))return!0;c=this.ln();d=this.mn();if(a.hb(c,d))return!0;var b,h,e,n,k,x,z,B;for(z=0;4>z;z++)for(B=0;4>B;B++)if(c=this.gc(z,!0),d=this.gc(z,!1),b=this.gc(z+1,!0),h=this.gc(z+1,!1),e=a.gc(B,!0),n=a.gc(B,!1),k=a.gc(B+1,!0),x=a.gc(B+1,!1),ra(c,d,b,h,e,n,k,x))return!0;return!1};ta=l;ua=function(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);return a};va=function(a,c){var d,b;c=N(c);if(!(0>c||c>=a.length)){d=c;for(b=a.length-1;d<b;d++)a[d]=a[d+1];wa(a,b)}};wa=function(a,c){a.length=
c};O=function(a){wa(a,0)};xa=function(a,c){O(a);var d,b;d=0;for(b=c.length;d<b;++d)a[d]=c[d]};Aa=function(a,c){a.push.apply(a,c)};Ba=function(a,c){var d,b;d=0;for(b=a.length;d<b;++d)if(a[d]===c)return d;return-1};Ca=function(a,c){var d=Ba(a,c);-1!==d&&va(a,d)};Da=function(a,c,d){return a<c?c:a>d?d:a};Q=function(a){return a/(180/na)};Ea=function(a){return 180/na*a};Fa=function(a){a%=360;0>a&&(a+=360);return a};Ga=function(a){a%=2*na;0>a&&(a+=2*na);return a};Ha=function(a){return Fa(Ea(a))};Ia=function(a){return Ga(Q(a))};
U=function(a,c,d,b){return Math.atan2(b-c,d-a)};Ja=function(a,c){if(a===c)return 0;var d=Math.sin(a),b=Math.cos(a),h=Math.sin(c),e=Math.cos(c),d=d*h+b*e;return 1<=d?0:-1>=d?na:Math.acos(d)};Ka=function(a,c,d){var b=Math.sin(a),h=Math.cos(a),e=Math.sin(c),n=Math.cos(c);return Math.acos(b*e+h*n)>d?0<h*e-b*n?Ga(a+d):Ga(a-d):Ga(c)};La=function(a,c){var d=Math.sin(a),b=Math.cos(a),h=Math.sin(c),e=Math.cos(c);return 0>=b*h-d*e};Ma=function(a,c,d,b){a=d-a;c=b-c;return Math.sqrt(a*a+c*c)};Na=function(a,c){return!a!==
!c};Oa=function(a){for(var c in a)if(a.hasOwnProperty(c))return!0;return!1};Pa=function(a){for(var c in a)a.hasOwnProperty(c)&&delete a[c]};var H=+new Date;Qa=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==typeof a.msNow)return a.msNow()}return Date.now()-H};var n=!1,t=n=!1,C=!1;"undefined"!==typeof window&&
(n=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),n=!n&&/safari/i.test(navigator.userAgent),t=/(iphone|ipod|ipad)/i.test(navigator.userAgent),C=window.c2ejecta);var v=!n&&!C&&!t&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;p.prototype.contains=function(a){return this.gd()?!1:v?this.Xc.has(a):this.items&&this.items.hasOwnProperty(a)};p.prototype.add=function(a){if(v)this.Xc.has(a)||(this.Xc.add(a),this.Bd=!1);else{var c=a.toString(),d=this.items;
d?d.hasOwnProperty(c)||(d[c]=a,this.og++,this.Bd=!1):(this.items={},this.items[c]=a,this.og=1,this.Bd=!1)}};p.prototype.remove=function(a){if(!this.gd())if(v)this.Xc.has(a)&&(this.Xc["delete"](a),this.Bd=!1);else if(this.items){a=a.toString();var c=this.items;c.hasOwnProperty(a)&&(delete c[a],this.og--,this.Bd=!1)}};p.prototype.clear=function(){this.gd()||(v?this.Xc.clear():(this.items=null,this.og=0),O(this.Df),this.Bd=!0)};p.prototype.gd=function(){return 0===this.count()};p.prototype.count=function(){return v?
this.Xc.size:this.og};var u=null,D=0;p.prototype.jt=function(){if(!this.Bd){if(v)O(this.Df),u=this.Df,D=0,this.Xc.forEach(q),u=null,D=0;else{var a=this.Df;O(a);var c,d=0,b=this.items;if(b)for(c in b)b.hasOwnProperty(c)&&(a[d++]=b[c])}this.Bd=!0}};p.prototype.ec=function(){this.jt();return this.Df};ba=p;var T=new ba;Ra=function(a){var c,d;c=0;for(d=a.length;c<d;++c)T.add(a[c]);xa(a,T.ec());T.clear()};Sa=function(a,c){v?Ta(a,c.Xc):Ua(a,c.ec())};Ta=function(a,c){var d,b,h,e;b=d=0;for(h=a.length;d<h;++d)e=
a[d],c.has(e)||(a[b++]=e);wa(a,b)};Ua=function(a,c){var d,b,h,e;b=d=0;for(h=a.length;d<h;++d)e=a[d],-1===Ba(c,e)&&(a[b++]=e);wa(a,b)};r.prototype.add=function(a){this.y=a-this.Vi;this.Ei=this.oa+this.y;this.Vi=this.Ei-this.oa-this.y;this.oa=this.Ei};r.prototype.reset=function(){this.oa=this.Ei=this.y=this.Vi=0};Va=r;Wa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};g.prototype.Og=function(a){this.En=a;this.Zb=a.length/2;this.Ba.length=a.length;this.mh=this.nh=-1;this.Kl=0};g.prototype.hd=
function(){return!this.En.length};g.prototype.ba=function(){for(var a=this.Ba,c=a[0],d=c,b=a[1],h=b,e,n,k=1,x=this.Zb;k<x;++k)n=2*k,e=a[n],n=a[n+1],e<c&&(c=e),e>d&&(d=e),n<b&&(b=n),n>h&&(h=n);this.ih=c;this.jh=d;this.kh=b;this.hh=h};g.prototype.$d=function(a,c,d){this.Ba.length=8;this.Zb=4;var b=this.Ba;b[0]=a.left-c;b[1]=a.top-d;b[2]=a.right-c;b[3]=a.top-d;b[4]=a.right-c;b[5]=a.bottom-d;b[6]=a.left-c;b[7]=a.bottom-d;this.nh=a.right-a.left;this.mh=a.bottom-a.top;this.ba()};g.prototype.Zd=function(a,
c,d,b,h){this.Ba.length=8;this.Zb=4;var e=this.Ba;e[0]=a.Na-c;e[1]=a.Oa-d;e[2]=a.nb-c;e[3]=a.ob-d;e[4]=a.fb-c;e[5]=a.gb-d;e[6]=a.cb-c;e[7]=a.eb-d;this.nh=b;this.mh=h;this.ba()};g.prototype.Sn=function(a){this.Zb=a.Zb;xa(this.Ba,a.Ba);this.ih=a.ih;this.kh=a.kh;this.jh=a.jh;this.hh=a.hh};g.prototype.$c=function(a,c,d){if(this.nh!==a||this.mh!==c||this.Kl!==d){this.nh=a;this.mh=c;this.Kl=d;var b,h,e,n,k,x=0,z=1,B=this.En,A=this.Ba;0!==d&&(x=Math.sin(d),z=Math.cos(d));d=0;for(e=this.Zb;d<e;d++)b=2*d,
h=b+1,n=B[b]*a,k=B[h]*c,A[b]=n*z-k*x,A[h]=k*z+n*x;this.ba()}};g.prototype.hb=function(a,c){var d=this.Ba;if(a===d[0]&&c===d[1])return!0;var b,h,e,n=this.Zb,k=this.ih-110,x=this.kh-101,z=this.jh+131,B=this.hh+120,A,f,g=0,t=0;for(b=0;b<n;b++)h=2*b,e=(b+1)%n*2,A=d[h],h=d[h+1],f=d[e],e=d[e+1],ra(k,x,a,c,A,h,f,e)&&g++,ra(z,B,a,c,A,h,f,e)&&t++;return 1===g%2||1===t%2};g.prototype.eg=function(a,c,d){var b=a.Ba,h=this.Ba;if(this.hb(b[0]+c,b[1]+d)||a.hb(h[0]-c,h[1]-d))return!0;var e,n,k,x,z,B,A,f,g,t,y,v;
e=0;for(x=this.Zb;e<x;e++)for(n=2*e,k=(e+1)%x*2,f=h[n],n=h[n+1],g=h[k],t=h[k+1],k=0,A=a.Zb;k<A;k++)if(z=2*k,B=(k+1)%A*2,y=b[z]+c,z=b[z+1]+d,v=b[B]+c,B=b[B+1]+d,ra(f,n,g,t,y,z,v,B))return!0;return!1};g.prototype.fg=function(a,c,d,b,h,e){var n=this.Ba;if(this.hb(d-a,b-c))return!0;var k,x,z,B,A,f;k=0;for(x=this.Zb;k<x;k++)if(z=2*k,B=(k+1)%x*2,A=n[z]+a,z=n[z+1]+c,f=n[B]+a,B=n[B+1]+c,ra(d,b,h,e,A,z,f,B))return!0;return!1};Xa=g;a.prototype.Id=function(a,c,d){var b;b=this.cells[a];return b?(b=b[c])?b:d?
(b=e(this,a,c),this.cells[a][c]=b):null:d?(b=e(this,a,c),this.cells[a]={},this.cells[a][c]=b):null};a.prototype.pb=function(a){return N(a/this.$i)};a.prototype.qb=function(a){return N(a/this.Zi)};a.prototype.update=function(a,c,d){var b,h,e,n,k;if(c)for(b=c.left,h=c.right;b<=h;++b)for(e=c.top,n=c.bottom;e<=n;++e)if(!d||!d.hb(b,e))if(k=this.Id(b,e,!1))k.remove(a),k.gd()&&(k.Ua.clear(),1E3>X.length&&X.push(k),this.cells[b][e]=null);if(d)for(b=d.left,h=d.right;b<=h;++b)for(e=d.top,n=d.bottom;e<=n;++e)c&&
c.hb(b,e)||this.Id(b,e,!0).Lj(a)};a.prototype.qi=function(a,c){var d,b,h,e,n,k;d=this.pb(a.left);h=this.qb(a.top);b=this.pb(a.right);for(n=this.qb(a.bottom);d<=b;++d)for(e=h;e<=n;++e)(k=this.Id(d,e,!1))&&k.dump(c)};Ya=a;b.prototype.Id=function(a,c,b){var h;h=this.cells[a];return h?(h=h[c])?h:b?(h=d(this,a,c),this.cells[a][c]=h):null:b?(h=d(this,a,c),this.cells[a]={},this.cells[a][c]=h):null};b.prototype.pb=function(a){return N(a/this.$i)};b.prototype.qb=function(a){return N(a/this.Zi)};b.prototype.update=
function(a,c,d){var b,h,e,n,k;if(c)for(b=c.left,h=c.right;b<=h;++b)for(e=c.top,n=c.bottom;e<=n;++e)if(!d||!d.hb(b,e))if(k=this.Id(b,e,!1))k.remove(a),k.gd()&&(k.reset(),1E3>F.length&&F.push(k),this.cells[b][e]=null);if(d)for(b=d.left,h=d.right;b<=h;++b)for(e=d.top,n=d.bottom;e<=n;++e)c&&c.hb(b,e)||this.Id(b,e,!0).Lj(a)};b.prototype.qi=function(a,c,d,b,h){var e,n;a=this.pb(a);c=this.qb(c);d=this.pb(d);for(e=this.qb(b);a<=d;++a)for(b=c;b<=e;++b)(n=this.Id(a,b,!1))&&n.dump(h)};b.prototype.ms=function(a){var c,
d,b,h,e;c=a.left;b=a.top;d=a.right;for(h=a.bottom;c<=d;++c)for(a=b;a<=h;++a)if(e=this.Id(c,a,!1))e.kf=!1};$a=b;var X=[];c.prototype.gd=function(){return this.Ua.gd()};c.prototype.Lj=function(a){this.Ua.add(a)};c.prototype.remove=function(a){this.Ua.remove(a)};c.prototype.dump=function(a){Aa(a,this.Ua.ec())};aa=c;var F=[];k.prototype.gd=function(){if(!this.Ua.length)return!0;if(this.Ua.length>this.Uc.count())return!1;this.rj();return!0};k.prototype.Lj=function(a){this.Uc.contains(a)?(this.Uc.remove(a),
this.Uc.gd()&&(this.Hf=!1)):this.Ua.length?(this.Ua[this.Ua.length-1].Sc()>a.Sc()&&(this.kf=!1),this.Ua.push(a)):(this.Ua.push(a),this.kf=!0)};k.prototype.remove=function(a){this.Uc.add(a);this.Hf=!0;30<=this.Uc.count()&&this.rj()};k.prototype.rj=function(){this.Hf&&(this.Uc.count()===this.Ua.length?this.reset():(Sa(this.Ua,this.Uc),this.Uc.clear(),this.Hf=!1))};k.prototype.wq=function(){this.kf||(this.Ua.sort(h),this.kf=!0)};k.prototype.reset=function(){O(this.Ua);this.kf=!0;this.Uc.clear();this.Hf=
!1};k.prototype.dump=function(a){this.rj();this.wq();this.Ua.length&&a.push(this.Ua)};ca=k;var M="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");ab=function(a){return 0>=a||11<=a?"source-over":M[a-1]};bb=function(a,c,d){if(d)switch(a.lb=d.ONE,a.ib=d.ONE_MINUS_SRC_ALPHA,c){case 1:a.lb=d.ONE;a.ib=d.ONE;break;case 3:a.lb=d.ONE;a.ib=d.ZERO;break;case 4:a.lb=d.ONE_MINUS_DST_ALPHA;a.ib=d.ONE;break;case 5:a.lb=d.DST_ALPHA;a.ib=
d.ZERO;break;case 6:a.lb=d.ZERO;a.ib=d.SRC_ALPHA;break;case 7:a.lb=d.ONE_MINUS_DST_ALPHA;a.ib=d.ZERO;break;case 8:a.lb=d.ZERO;a.ib=d.ONE_MINUS_SRC_ALPHA;break;case 9:a.lb=d.DST_ALPHA;a.ib=d.ONE_MINUS_SRC_ALPHA;break;case 10:a.lb=d.ONE_MINUS_DST_ALPHA,a.ib=d.SRC_ALPHA}};cb=function(a){return Math.round(1E6*a)/1E6};db=function(a,c){return"string"!==typeof a||"string"!==typeof c||a.length!==c.length?!1:a===c?!0:a.toLowerCase()===c.toLowerCase()};eb=function(a){a=a.target;return!a||a===document||a===
window||document&&document.body&&a===document.body||db(a.tagName,"canvas")?!0:!1}})();var Zb="undefined"!==typeof Float32Array?Float32Array:Array;function $b(f){var l=new Zb(3);f&&(l[0]=f[0],l[1]=f[1],l[2]=f[2]);return l}function ac(f){var l=new Zb(16);f&&(l[0]=f[0],l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=f[6],l[7]=f[7],l[8]=f[8],l[9]=f[9],l[10]=f[10],l[11]=f[11],l[12]=f[12],l[13]=f[13],l[14]=f[14],l[15]=f[15]);return l}
function bc(f,l){l[0]=f[0];l[1]=f[1];l[2]=f[2];l[3]=f[3];l[4]=f[4];l[5]=f[5];l[6]=f[6];l[7]=f[7];l[8]=f[8];l[9]=f[9];l[10]=f[10];l[11]=f[11];l[12]=f[12];l[13]=f[13];l[14]=f[14];l[15]=f[15]}function cc(f,l){var m=l[0],p=l[1];l=l[2];f[0]*=m;f[1]*=m;f[2]*=m;f[3]*=m;f[4]*=p;f[5]*=p;f[6]*=p;f[7]*=p;f[8]*=l;f[9]*=l;f[10]*=l;f[11]*=l}
function dc(f,l,m,p){p||(p=ac());var q,r,g,a,b,e,c,d,k=f[0],h=f[1];f=f[2];r=m[0];g=m[1];q=m[2];m=l[1];e=l[2];k===l[0]&&h===m&&f===e?(f=p,f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1):(m=k-l[0],e=h-l[1],c=f-l[2],d=1/Math.sqrt(m*m+e*e+c*c),m*=d,e*=d,c*=d,l=g*c-q*e,q=q*m-r*c,r=r*e-g*m,(d=Math.sqrt(l*l+q*q+r*r))?(d=1/d,l*=d,q*=d,r*=d):r=q=l=0,g=e*r-c*q,a=c*l-m*r,b=m*q-e*l,(d=Math.sqrt(g*g+a*a+b*b))?(d=1/d,g*=d,a*=d,b*=d):b=a=g=0,
p[0]=l,p[1]=g,p[2]=m,p[3]=0,p[4]=q,p[5]=a,p[6]=e,p[7]=0,p[8]=r,p[9]=b,p[10]=c,p[11]=0,p[12]=-(l*k+q*h+r*f),p[13]=-(g*k+a*h+b*f),p[14]=-(m*k+e*h+c*f),p[15]=1)}
(function(){function f(a,b,e){this.Md=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.ia=!!e;this.Nh=this.hg=!1;this.wh=0;this.Oi=1;this.rl=1E3;this.ot=(this.rl-this.Oi)/32768;this.Xi=$b([0,0,100]);this.Tm=$b([0,0,0]);this.oo=$b([0,1,0]);this.bh=$b([1,1,1]);this.Zl=!0;this.hi=ac();this.Yb=ac();this.Yj=ac();this.gj=ac();this.q=a;this.version=0===this.q.getParameter(this.q.VERSION).indexOf("WebGL 2")?2:1;this.um()}function l(a,b,e){this.q=a;this.Pg=
b;this.name=e;this.ic=a.getAttribLocation(b,"aPos");this.Ud=a.getAttribLocation(b,"aTex");this.Rm=a.getUniformLocation(b,"matP");this.di=a.getUniformLocation(b,"matMV");this.sf=a.getUniformLocation(b,"opacity");this.jk=a.getUniformLocation(b,"colorFill");this.Sm=a.getUniformLocation(b,"samplerFront");this.vg=a.getUniformLocation(b,"samplerBack");this.Ce=a.getUniformLocation(b,"destStart");this.Be=a.getUniformLocation(b,"destEnd");this.xg=a.getUniformLocation(b,"seconds");this.lk=a.getUniformLocation(b,
"pixelWidth");this.kk=a.getUniformLocation(b,"pixelHeight");this.ug=a.getUniformLocation(b,"layerScale");this.tg=a.getUniformLocation(b,"layerAngle");this.yg=a.getUniformLocation(b,"viewOrigin");this.wg=a.getUniformLocation(b,"scrollPos");this.Qr=!!(this.lk||this.kk||this.xg||this.vg||this.Ce||this.Be||this.ug||this.tg||this.yg||this.wg);this.an=this.bn=-999;this.gi=1;this.Xm=this.Wm=0;this.Zm=this.Vm=this.Um=1;this.en=this.dn=this.cn=this.hn=this.gn=this.Ym=0;this.Xj=[];this.$m=ac();this.sf&&a.uniform1f(this.sf,
1);this.jk&&a.uniform4f(this.jk,1,1,1,1);this.Sm&&a.uniform1i(this.Sm,0);this.vg&&a.uniform1i(this.vg,1);this.Ce&&a.uniform2f(this.Ce,0,0);this.Be&&a.uniform2f(this.Be,1,1);this.ug&&a.uniform1f(this.ug,1);this.tg&&a.uniform1f(this.tg,0);this.yg&&a.uniform2f(this.yg,0,0);this.wg&&a.uniform2f(this.wg,0,0);this.xg&&a.uniform1f(this.xg,0);this.re=!1}function m(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&
a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function p(a,b){this.type=a;this.m=b;this.q=b.q;this.Vb=this.mb=this.wn=0;this.O=this.pc=null;this.Un=[]}var q=ac();f.prototype.um=function(){var a=this.q,b;this.Lm=1;this.ye=this.Od=null;this.vh=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.ia?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):
a.disable(a.DEPTH_TEST);this.Mm=a.ONE;this.Im=a.ONE_MINUS_SRC_ALPHA;this.ah=new Float32Array(8E3*(this.ia?3:2));this.Ug=new Float32Array(16E3);this.Bn=new Float32Array(32E3);this.vk=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.vk);a.bufferData(a.ARRAY_BUFFER,this.Bn.byteLength,a.DYNAMIC_DRAW);this.$g=Array(4);this.Tg=Array(4);for(b=0;4>b;b++)this.$g[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.$g[b]),a.bufferData(a.ARRAY_BUFFER,this.ah.byteLength,a.DYNAMIC_DRAW),this.Tg[b]=a.createBuffer(),
a.bindBuffer(a.ARRAY_BUFFER,this.Tg[b]),a.bufferData(a.ARRAY_BUFFER,this.Ug.byteLength,a.DYNAMIC_DRAW);this.ad=0;this.Tr=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Tr);for(var e=new Uint16Array(12E3),c=b=0;12E3>b;)e[b++]=c,e[b++]=c+1,e[b++]=c+2,e[b++]=c,e[b++]=c+2,e[b++]=c+3,c+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,e,a.STATIC_DRAW);this.wk=this.de=this.sc=0;this.za=[];b=this.ia?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";e=this.Nf({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.za.push(e);e=this.Nf({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.za.push(e);e=this.Nf({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.za.push(e);e=this.Nf({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.za.push(e);for(var d in ec)ec.hasOwnProperty(d)&&this.za.push(this.Nf(ec[d],b,d));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.Nc=[];this.vc=0;this.Sa=!1;this.Ul=this.pg=-1;this.$e=null;this.qj=a.createFramebuffer();this.yh=this.ri=null;this.El=!1;this.ia&&(this.yh=a.createRenderbuffer());this.ee=$b([0,0,0]);this.jn=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.jn&&(this.jn=2048);this.Db(0)};l.prototype.ll=function(a){m(this.$m,a)||(bc(a,this.$m),this.q.uniformMatrix4fv(this.di,
!1,a))};f.prototype.Nf=function(a,b,e){var c=this.q,d=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(d,a.src);c.compileShader(d);if(!c.getShaderParameter(d,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(d),c.deleteShader(d),Error("error compiling fragment shader: "+a);var k=c.createShader(c.VERTEX_SHADER);c.shaderSource(k,b);c.compileShader(k);if(!c.getShaderParameter(k,c.COMPILE_STATUS))throw a=c.getShaderInfoLog(k),c.deleteShader(d),c.deleteShader(k),Error("error compiling vertex shader: "+a);b=
c.createProgram();c.attachShader(b,d);c.attachShader(b,k);c.linkProgram(b);if(!c.getProgramParameter(b,c.LINK_STATUS))throw a=c.getProgramInfoLog(b),c.deleteShader(d),c.deleteShader(k),c.deleteProgram(b),Error("error linking shader program: "+a);c.useProgram(b);c.deleteShader(d);c.deleteShader(k);d=new l(c,b,e);d.oj=a.oj||0;d.pj=a.pj||0;d.Tl=!!a.Tl;d.Dc=!!a.Dc;d.Cl=!!a.Cl;d.P=a.P||[];a=0;for(k=d.P.length;a<k;a++)d.P[a][1]=c.getUniformLocation(b,d.P[a][0]),d.Xj.push(0),c.uniform1f(d.P[a][1],0);return d};
f.prototype.Bj=function(a){var b,e;b=0;for(e=this.za.length;b<e;b++)if(this.za[b].name===a)return b;return-1};f.prototype.Dn=function(a,b,e){var c=this.Yb,d=this.hi,k=[0,0,0,0,0,0,0,0];k[0]=c[0]*a+c[4]*b+c[12];k[1]=c[1]*a+c[5]*b+c[13];k[2]=c[2]*a+c[6]*b+c[14];k[3]=c[3]*a+c[7]*b+c[15];k[4]=d[0]*k[0]+d[4]*k[1]+d[8]*k[2]+d[12]*k[3];k[5]=d[1]*k[0]+d[5]*k[1]+d[9]*k[2]+d[13]*k[3];k[6]=d[2]*k[0]+d[6]*k[1]+d[10]*k[2]+d[14]*k[3];k[7]=-k[2];0!==k[7]&&(k[7]=1/k[7],k[4]*=k[7],k[5]*=k[7],k[6]*=k[7],e[0]=(.5*k[4]+
.5)*this.width,e[1]=(.5*k[5]+.5)*this.height)};f.prototype.Ne=function(a,b,e){if(this.width!==a||this.height!==b||e){this.cd();e=this.q;this.width=a;this.height=b;e.viewport(0,0,a,b);dc(this.Xi,this.Tm,this.oo,this.Yb);if(this.ia){var c=-a/2;a=a/2;var d=b/2;b=-b/2;var k=this.Oi,h=this.rl,f=this.hi;f||(f=ac());var g=a-c,m=b-d,n=h-k;f[0]=2/g;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2/m;f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=-2/n;f[11]=0;f[12]=-(c+a)/g;f[13]=-(b+d)/m;f[14]=-(h+k)/n;f[15]=1;this.bh[0]=1;this.bh[1]=
1}else b=a/b,c=this.Oi,a=this.rl,f=this.hi,h=c*Math.tan(45*Math.PI/360),b*=h,d=-b,k=-h,f||(f=ac()),g=b-d,m=h-k,n=a-c,f[0]=2*c/g,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=2*c/m,f[6]=0,f[7]=0,f[8]=(b+d)/g,f[9]=(h+k)/m,f[10]=-(a+c)/n,f[11]=-1,f[12]=0,f[13]=0,f[14]=-(a*c*2)/n,f[15]=0,c=[0,0],a=[0,0],this.Dn(0,0,c),this.Dn(1,1,a),this.bh[0]=1/(a[0]-c[0]),this.bh[1]=-1/(a[1]-c[1]);c=0;for(a=this.za.length;c<a;c++)d=this.za[c],d.re=!1,d.Rm&&(e.useProgram(d.Pg),e.uniformMatrix4fv(d.Rm,!1,this.hi));e.useProgram(this.za[this.pg].Pg);
e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE1);e.bindTexture(e.TEXTURE_2D,null);e.activeTexture(e.TEXTURE0);this.ye=this.Od=null;this.yh&&(e.bindFramebuffer(e.FRAMEBUFFER,this.qj),e.bindRenderbuffer(e.RENDERBUFFER,this.yh),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,this.width,this.height),this.El||(e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.yh),this.El=!0),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),
this.ri=null)}};f.prototype.mc=function(){dc(this.Xi,this.Tm,this.oo,this.Yb);cc(this.Yb,this.bh)};f.prototype.translate=function(a,b){if(0!==a||0!==b){this.ee[0]=a;this.ee[1]=b;this.ee[2]=0;var e=this.Yb,c=this.ee,d=c[0],k=c[1],c=c[2];e[12]=e[0]*d+e[4]*k+e[8]*c+e[12];e[13]=e[1]*d+e[5]*k+e[9]*c+e[13];e[14]=e[2]*d+e[6]*k+e[10]*c+e[14];e[15]=e[3]*d+e[7]*k+e[11]*c+e[15]}};f.prototype.scale=function(a,b){if(1!==a||1!==b)this.ee[0]=a,this.ee[1]=b,this.ee[2]=1,cc(this.Yb,this.ee)};f.prototype.ti=function(a){if(0!==
a){var b=this.Yb,e,c=Math.sin(a);a=Math.cos(a);var d=b[0],k=b[1],h=b[2],f=b[3],g=b[4],m=b[5],n=b[6],t=b[7];e?b!==e&&(e[8]=b[8],e[9]=b[9],e[10]=b[10],e[11]=b[11],e[12]=b[12],e[13]=b[13],e[14]=b[14],e[15]=b[15]):e=b;e[0]=d*a+g*c;e[1]=k*a+m*c;e[2]=h*a+n*c;e[3]=f*a+t*c;e[4]=d*-c+g*a;e[5]=k*-c+m*a;e[6]=h*-c+n*a;e[7]=f*-c+t*a}};f.prototype.ac=function(){if(!m(this.Yj,this.Yb)){var a=this.Bb();a.type=5;a.O?bc(this.Yb,a.O):a.O=ac(this.Yb);bc(this.Yb,this.Yj);this.Sa=!1}};f.prototype.xi=function(a){this.ia&&
(32760<a&&(a=32760),this.wh=this.Xi[2]-this.Oi-a*this.ot)};p.prototype.gq=function(){var a=this.q,b=this.m;0!==this.mb?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),a.bindFramebuffer(a.FRAMEBUFFER,b.qj),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.Nh=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.Nh=!1)};p.prototype.kq=function(){this.q.bindTexture(this.q.TEXTURE_2D,
this.pc)};p.prototype.lq=function(){var a=this.q;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.pc);a.activeTexture(a.TEXTURE0)};p.prototype.hq=function(){var a=this.wn,b=this.m;b.vh=a;b=b.$e;b.sf&&b.gi!==a&&(b.gi=a,this.q.uniform1f(b.sf,a))};p.prototype.aq=function(){this.q.drawElements(this.q.TRIANGLES,this.Vb,this.q.UNSIGNED_SHORT,this.mb)};p.prototype.cq=function(){this.q.blendFunc(this.mb,this.Vb)};p.prototype.mq=function(){var a,b,e,c=this.m.za,d=this.m.Ul;a=0;for(b=c.length;a<
b;a++)e=c[a],a===d&&e.di?(e.ll(this.O),e.re=!0):e.re=!1;bc(this.O,this.m.gj)};p.prototype.bq=function(){var a=this.q,b=this.m;this.pc?(b.ye===this.pc&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.ye=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.qj),b.Nh||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.pc,0)):(b.ia||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};
p.prototype.Yp=function(){var a=this.q,b=this.mb;0===b?(a.clearColor(this.O[0],this.O[1],this.O[2],this.O[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.O[0],this.O[1],this.O[2],this.O[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};p.prototype.fq=function(){var a=this.q;0!==this.mb?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};p.prototype.$p=function(){var a=this.q,b=this.m;b.ia&&a.disable(a.DEPTH_TEST);
var e=b.za[1];a.useProgram(e.Pg);!e.re&&e.di&&(e.ll(b.gj),e.re=!0);a.enableVertexAttribArray(e.ic);a.bindBuffer(a.ARRAY_BUFFER,b.vk);a.vertexAttribPointer(e.ic,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.mb/4,this.Vb);e=b.$e;a.useProgram(e.Pg);0<=e.ic&&(a.enableVertexAttribArray(e.ic),a.bindBuffer(a.ARRAY_BUFFER,b.$g[b.ad]),a.vertexAttribPointer(e.ic,b.ia?3:2,a.FLOAT,!1,0,0));0<=e.Ud&&(a.enableVertexAttribArray(e.Ud),a.bindBuffer(a.ARRAY_BUFFER,b.Tg[b.ad]),a.vertexAttribPointer(e.Ud,2,a.FLOAT,!1,
0,0));b.ia&&a.enable(a.DEPTH_TEST)};p.prototype.iq=function(){var a=this.q,b=this.m,e=b.za[this.mb];b.Ul=this.mb;b.$e=e;a.useProgram(e.Pg);!e.re&&e.di&&(e.ll(b.gj),e.re=!0);e.sf&&e.gi!==b.vh&&(e.gi=b.vh,a.uniform1f(e.sf,b.vh));0<=e.ic&&(a.enableVertexAttribArray(e.ic),a.bindBuffer(a.ARRAY_BUFFER,b.$g[b.ad]),a.vertexAttribPointer(e.ic,b.ia?3:2,a.FLOAT,!1,0,0));0<=e.Ud&&(a.enableVertexAttribArray(e.Ud),a.bindBuffer(a.ARRAY_BUFFER,b.Tg[b.ad]),a.vertexAttribPointer(e.Ud,2,a.FLOAT,!1,0,0))};p.prototype.dq=
function(){var a=this.O;this.q.uniform4f(this.m.$e.jk,a[0],a[1],a[2],a[3])};p.prototype.jq=function(){var a,b,e=this.m.$e,c=this.q;a=this.O;e.vg&&this.m.ye!==this.pc&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this.pc),this.m.ye=this.pc,c.activeTexture(c.TEXTURE0));var d=a[0];e.lk&&d!==e.bn&&(e.bn=d,c.uniform1f(e.lk,d));d=a[1];e.kk&&d!==e.an&&(e.an=d,c.uniform1f(e.kk,d));d=a[2];b=a[3];!e.Ce||d===e.Wm&&b===e.Xm||(e.Wm=d,e.Xm=b,c.uniform2f(e.Ce,d,b));d=a[4];b=a[5];!e.Be||d===e.Um&&b===
e.Vm||(e.Um=d,e.Vm=b,c.uniform2f(e.Be,d,b));d=a[6];e.ug&&d!==e.Zm&&(e.Zm=d,c.uniform1f(e.ug,d));d=a[7];e.tg&&d!==e.Ym&&(e.Ym=d,c.uniform1f(e.tg,d));d=a[8];b=a[9];!e.yg||d===e.gn&&b===e.hn||(e.gn=d,e.hn=b,c.uniform2f(e.yg,d,b));d=a[10];b=a[11];!e.wg||d===e.cn&&b===e.dn||(e.cn=d,e.dn=b,c.uniform2f(e.wg,d,b));d=a[12];e.xg&&d!==e.en&&(e.en=d,c.uniform1f(e.xg,d));if(e.P.length)for(a=0,b=e.P.length;a<b;a++)d=this.Un[a],d!==e.Xj[a]&&(e.Xj[a]=d,c.uniform1f(e.P[a][1],d))};f.prototype.Bb=function(){this.vc===
this.Nc.length&&this.Nc.push(new p(0,this));return this.Nc[this.vc++]};f.prototype.cd=function(){if(0!==this.vc&&!this.q.isContextLost()){var a=this.q;0<this.wk&&(a.bindBuffer(a.ARRAY_BUFFER,this.vk),a.bufferSubData(a.ARRAY_BUFFER,0,this.Bn.subarray(0,this.wk)),b&&0<=b.ic&&"<point>"===b.name&&a.vertexAttribPointer(b.ic,4,a.FLOAT,!1,0,0));if(0<this.sc){var b=this.$e;a.bindBuffer(a.ARRAY_BUFFER,this.$g[this.ad]);a.bufferSubData(a.ARRAY_BUFFER,0,this.ah.subarray(0,this.sc));b&&0<=b.ic&&"<point>"!==b.name&&
a.vertexAttribPointer(b.ic,this.ia?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Tg[this.ad]);a.bufferSubData(a.ARRAY_BUFFER,0,this.Ug.subarray(0,this.de));b&&0<=b.Ud&&"<point>"!==b.name&&a.vertexAttribPointer(b.Ud,2,a.FLOAT,!1,0,0)}for(var e,a=0,b=this.vc;a<b;a++)switch(e=this.Nc[a],e.type){case 1:e.aq();break;case 2:e.kq();break;case 3:e.hq();break;case 4:e.cq();break;case 5:e.mq();break;case 6:e.bq();break;case 7:e.Yp();break;case 8:e.$p();break;case 9:e.iq();break;case 10:e.jq();break;
case 11:e.lq();break;case 12:e.dq();break;case 13:e.fq();break;case 14:e.gq()}this.wk=this.de=this.sc=this.vc=0;this.Nh=this.Sa=!1;this.ad++;4<=this.ad&&(this.ad=0)}};f.prototype.Yd=function(a){if(a!==this.Lm&&!this.hg){var b=this.Bb();b.type=3;this.Lm=b.wn=a;this.Sa=!1}};f.prototype.Ma=function(a){if(a!==this.Od){var b=this.Bb();b.type=2;this.Od=b.pc=a;this.Sa=!1}};f.prototype.Xd=function(a,b){if((a!==this.Mm||b!==this.Im)&&!this.hg){var e=this.Bb();e.type=4;e.mb=a;e.Vb=b;this.Mm=a;this.Im=b;this.Sa=
!1}};f.prototype.Mn=function(){this.Xd(this.q.ONE,this.q.ONE_MINUS_SRC_ALPHA)};f.prototype.Le=function(a,b,e,c,d,k,h,f){15992<=this.sc&&this.cd();var g=this.sc,m=this.de,n=this.ah,t=this.Ug,l=this.wh;if(this.Sa)this.Nc[this.vc-1].Vb+=6;else{var v=this.Bb();v.type=1;v.mb=this.ia?g:g/2*3;v.Vb=6;this.Sa=!0}this.ia?(n[g++]=a,n[g++]=b,n[g++]=l,n[g++]=e,n[g++]=c,n[g++]=l,n[g++]=d,n[g++]=k,n[g++]=l,n[g++]=h,n[g++]=f,n[g++]=l):(n[g++]=a,n[g++]=b,n[g++]=e,n[g++]=c,n[g++]=d,n[g++]=k,n[g++]=h,n[g++]=f);t[m++]=
0;t[m++]=0;t[m++]=1;t[m++]=0;t[m++]=1;t[m++]=1;t[m++]=0;t[m++]=1;this.sc=g;this.de=m};f.prototype.Vc=function(a,b,e,c,d,k,h,f,g){15992<=this.sc&&this.cd();var m=this.sc,n=this.de,t=this.ah,l=this.Ug,v=this.wh;if(this.Sa)this.Nc[this.vc-1].Vb+=6;else{var u=this.Bb();u.type=1;u.mb=this.ia?m:m/2*3;u.Vb=6;this.Sa=!0}var u=g.left,D=g.top,p=g.right;g=g.bottom;this.ia?(t[m++]=a,t[m++]=b,t[m++]=v,t[m++]=e,t[m++]=c,t[m++]=v,t[m++]=d,t[m++]=k,t[m++]=v,t[m++]=h,t[m++]=f,t[m++]=v):(t[m++]=a,t[m++]=b,t[m++]=e,
t[m++]=c,t[m++]=d,t[m++]=k,t[m++]=h,t[m++]=f);l[n++]=u;l[n++]=D;l[n++]=p;l[n++]=D;l[n++]=p;l[n++]=g;l[n++]=u;l[n++]=g;this.sc=m;this.de=n};f.prototype.Hn=function(a,b,e,c,d,k,h,f,g,m,n,t,l){15992<=this.sc&&this.cd();var v=this.sc,u=this.de,D=this.ah,p=this.Ug,q=this.wh;if(this.Sa)this.Nc[this.vc-1].Vb+=6;else{var r=this.Bb();r.type=1;r.mb=this.ia?v:v/2*3;r.Vb=6;this.Sa=!0}this.ia?(D[v++]=a,D[v++]=b,D[v++]=q,D[v++]=e,D[v++]=c,D[v++]=q,D[v++]=d,D[v++]=k,D[v++]=q,D[v++]=h,D[v++]=f,D[v++]=q):(D[v++]=
a,D[v++]=b,D[v++]=e,D[v++]=c,D[v++]=d,D[v++]=k,D[v++]=h,D[v++]=f);p[u++]=g;p[u++]=m;p[u++]=n;p[u++]=0;p[u++]=t;p[u++]=0;p[u++]=l;p[u++]=0;this.sc=v;this.de=u};f.prototype.Rl=function(a){var b=a.length/2-2,e=b-1,c=a[0],d=a[1],k,h,f,g,m,n,t;for(k=0;k<b;k+=2)h=2*k,f=a[h+2],g=a[h+3],m=a[h+4],n=a[h+5],k===e?this.Le(c,d,f,g,m,n,m,n):(t=a[h+6],h=a[h+7],this.Le(c,d,f,g,m,n,t,h))};f.prototype.Db=function(a){if(this.pg!==a){if(!this.za[a]){if(0===this.pg)return;a=0}var b=this.Bb();b.type=9;this.pg=b.mb=a;this.Sa=
!1}};f.prototype.Ig=function(a){a=this.za[a];return!(!a.Ce&&!a.Be)};f.prototype.zk=function(a){a=this.za[a];return!!(a.Ce||a.Be||a.Tl)};f.prototype.yk=function(a){return this.za[a].Dc};f.prototype.Hs=function(a){a=this.za[a];return 0!==a.oj||0!==a.pj};f.prototype.ur=function(a){return this.za[a].oj};f.prototype.xr=function(a){return this.za[a].pj};f.prototype.yr=function(a,b){return this.za[a].P[b][2]};f.prototype.ni=function(a){return this.za[a].Cl};f.prototype.yf=function(a,b,e,c,d,k,h,f,g,m,n,
t,l,v,u){var D=this.za[this.pg],p,q;if(D.Qr||u.length){p=this.Bb();p.type=10;p.O?bc(this.Yb,p.O):p.O=ac();q=p.O;q[0]=b;q[1]=e;q[2]=c;q[3]=d;q[4]=k;q[5]=h;q[6]=f;q[7]=g;q[8]=m;q[9]=n;q[10]=t;q[11]=l;q[12]=v;D.vg?p.pc=a:p.pc=null;if(u.length)for(e=p.Un,e.length=u.length,a=0,b=u.length;a<b;a++)e[a]=u[a];this.Sa=!1}};f.prototype.clear=function(a,b,e,c){var d=this.Bb();d.type=7;d.mb=0;d.O||(d.O=ac());d.O[0]=a;d.O[1]=b;d.O[2]=e;d.O[3]=c;this.Sa=!1};f.prototype.clearRect=function(a,b,e,c){if(!(0>e||0>c)){var d=
this.Bb();d.type=7;d.mb=1;d.O||(d.O=ac());d.O[0]=a;d.O[1]=b;d.O[2]=e;d.O[3]=c;this.Sa=!1}};f.prototype.Pn=function(a){if(this.ia&&(a=!!a,this.hg!==a)){var b=this.Bb();b.type=14;b.mb=a?1:0;this.Sa=!1;this.hg=a;this.ri=null;this.hg?this.Db(2):this.Db(0)}};f.prototype.On=function(a){if(this.ia){var b=this.Bb();b.type=13;b.mb=a?1:0;this.Sa=!1}};f.prototype.gm=function(){bc(this.Yj,q);this.mc();this.ac();var a=this.width/2,b=this.height/2;this.Le(-a,b,a,b,a,-b,-a,-b);bc(q,this.Yb);this.ac()};f.prototype.Nn=
function(a,b,e){this.Db(3);var c=this.Bb();c.type=12;c.O||(c.O=ac());c.O[0]=a;c.O[1]=b;c.O[2]=e;c.O[3]=1;this.Sa=!1};f.prototype.Xs=function(){this.Db(0)};f.prototype.Ms=function(){this.Db(2)};f.prototype.Gs=function(){this.cd();this.q.flush()};var r=[],g={};f.prototype.Pp=function(){O(r);g={}};f.prototype.bi=function(a,b,e,c){b=!!b;e=!!e;var d=a.src+","+b+","+e+(b?",undefined":""),k=null;if("undefined"!==typeof a.src&&g.hasOwnProperty(d))return k=g[d],k.lh++,k;this.cd();var h=this.q,f=ha(a.width)&&
ha(a.height),k=h.createTexture();h.bindTexture(h.TEXTURE_2D,k);h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var m=h.RGBA,l=h.RGBA,n=h.UNSIGNED_BYTE;if(c&&!this.Md)switch(c){case 1:l=m=h.RGB;break;case 2:n=h.UNSIGNED_SHORT_4_4_4_4;break;case 3:n=h.UNSIGNED_SHORT_5_5_5_1;break;case 4:l=m=h.RGB,n=h.UNSIGNED_SHORT_5_6_5}if(1===this.version&&!f&&b){c=document.createElement("canvas");c.width=ia(a.width);c.height=ia(a.height);var t=c.getContext("2d");"undefined"!==typeof t.imageSmoothingEnabled?t.imageSmoothingEnabled=
e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e);t.drawImage(a,0,0,a.width,a.height,0,0,c.width,c.height);h.texImage2D(h.TEXTURE_2D,0,m,l,n,c)}else h.texImage2D(h.TEXTURE_2D,0,m,l,n,a);b?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE));e?(h.texParameteri(h.TEXTURE_2D,
h.TEXTURE_MAG_FILTER,h.LINEAR),(f||2<=this.version)&&this.Zl?(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR_MIPMAP_LINEAR),h.generateMipmap(h.TEXTURE_2D)):h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR)):(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST));h.bindTexture(h.TEXTURE_2D,null);this.Od=null;k.je=a.width;k.ie=a.height;k.lh=1;k.Jl=d;r.push(k);return g[d]=k};f.prototype.sb=function(a,b,e,c,d){this.cd();
var k=this.q;this.Md&&(c=!1);var h=k.createTexture();k.bindTexture(k.TEXTURE_2D,h);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,a,b,0,k.RGBA,c?k.UNSIGNED_SHORT_4_4_4_4:k.UNSIGNED_BYTE,null);d?(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT)):(k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE));k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,e?k.LINEAR:k.NEAREST);k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MIN_FILTER,e?k.LINEAR:k.NEAREST);k.bindTexture(k.TEXTURE_2D,null);this.Od=null;h.je=a;h.ie=b;r.push(h);return h};f.prototype.ol=function(a,b,e){this.cd();var c=this.q;this.Md&&(e=!1);c.bindTexture(c.TEXTURE_2D,b);c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,e?c.UNSIGNED_SHORT_4_4_4_4:c.UNSIGNED_BYTE,a)}catch(d){console&&console.error&&console.error("Error updating WebGL texture: ",d)}c.bindTexture(c.TEXTURE_2D,null);this.Od=null};f.prototype.deleteTexture=
function(a){a&&("undefined"!==typeof a.lh&&1<a.lh?a.lh--:(this.cd(),a===this.Od&&(this.q.bindTexture(this.q.TEXTURE_2D,null),this.Od=null),a===this.ye&&(this.q.activeTexture(this.q.TEXTURE1),this.q.bindTexture(this.q.TEXTURE_2D,null),this.q.activeTexture(this.q.TEXTURE0),this.ye=null),Ca(r,a),"undefined"!==typeof a.Jl&&delete g[a.Jl],this.q.deleteTexture(a)))};f.prototype.nc=function(a){if(a!==this.ri){var b=this.Bb();b.type=6;this.ri=b.pc=a;this.Sa=!1}};fb=f})();
(function(){function f(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var c=this;this.Ld=(this.Oj=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.ve=!!a.dc;this.Xr="undefined"!==typeof window.AppMobi||
this.ve;this.Ac=!!window.c2cocoonjs;this.Bc=!!window.c2ejecta;this.Ac&&(CocoonJS.App.onSuspended.addEventListener(function(){c.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){c.setSuspended(!1)}));this.Bc&&(document.addEventListener("pagehide",function(){c.setSuspended(!0)}),document.addEventListener("pageshow",function(){c.setSuspended(!1)}),document.addEventListener("resize",function(){c.setSize(window.innerWidth,window.innerHeight)}));this.yb=this.ve||this.Ac||this.Bc;this.Ph=
/edge\//i.test(navigator.userAgent);this.Md=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.Ph;this.Cm=/tizen/i.test(navigator.userAgent);this.Nj=/android/i.test(navigator.userAgent)&&!this.Cm&&!this.Md&&!this.Ph;this.Hm=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.Md&&!this.Ph;this.gs=/ipad/i.test(navigator.userAgent);this.Wj=this.Hm||this.gs||this.Bc;this.Zr=(/chrome/i.test(navigator.userAgent)||
/chromium/i.test(navigator.userAgent))&&!this.Md&&!this.Ph;this.Wr=/amazonwebappplatform/i.test(navigator.userAgent);this.as=/firefox/i.test(navigator.userAgent);this.Rj="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Fm=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.ds=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.lg=!("undefined"===
typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Uj=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Em=!!window.cr_windows10;this.cs=this.Fm||this.ds||this.Uj||this.Em;this.Yr=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.Bm=this.Nj&&!this.Zr&&!this.Oj&&!this.as&&!this.Wr&&!this.yb;this.devicePixelRatio=1;this.we=this.Ld||this.Oj||this.Xr||this.Ac||this.Nj||this.Wj||this.lg||this.Uj||this.Yr||this.Cm||this.Bc;this.we||
(this.we=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.Dm=!!(this.Wj&&this.Ld&&window.webkit);"undefined"===typeof cr_is_preview||this.Rj||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||(this.Rj=!0);this.canvas=a;this.Ll=document.getElementById("c2canvasdiv");this.m=this.q=null;this.Dj="(unavailable)";this.ia=!1;this.ne=0;this.pa=null;this.Dh=!1;this.un=this.vn=
0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.ontouchstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.ve&&(window.c2runtime=this);this.Rj&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.Bm&&"undefined"!==
typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.I=this.width;this.H=this.height;this.sh=this.width;this.Pf=this.height;this.pf=window.innerWidth;this.of=window.innerHeight;this.fa=!0;this.jg=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.p=[];this.wa=[];this.dk={};this.Lb=[];this.nj={};this.dd=[];this.Ff=[];this.Ji=[];this.Bp=[];this.Cp=[];this.Qk=this.Yk=null;this.ke={};this.Qj=this.Jd=!1;
this.Xb=0;this.Pj=this.Tj=!1;this.xc=[];this.ig=!1;this.$h=this.Mk="";this.Ja=null;this.jd="";this.Sg=this.Xn=!1;this.Ch=[];this.me=this.bf=0;this.nn=30;this.dj=this.zg=0;this.Bf=1;this.Kb=new Va;this.Ni=new Va;this.ji=this.Gh=this.qe=this.qc=this.Ae=this.sj=this.Th=0;this.Lf=null;this.jj=[];this.mj=[];this.Ah=-1;this.mk=[[]];this.gl=this.ei=0;this.pi(null);this.Uf=this.rn=this.Dg=0;this.Di=[];this.dl=this.Ck=-1;this.ng=!0;this.ci=0;this.Qh=!1;this.ct=0;this.Kf=null;this.Oh=!1;this.tn=new ba;this.pk=
new ba;this.qk=new ba;this.Me=[];this.Gc=new Xa([]);this.$k=new Xa([]);this.We=[];this.$f={};this.Dd={};this.zd={};this.Ef={};this.Gl={};this.Pm=this.Zh=this.Da=this.Ia=this.Om=this.Yh=this.aa=null;this.Cf=this.Vj=!1;this.tj=[null,null];this.ff=0;this.md={};this.Rg=this.Sd=null;this.Yn="";this.ii=[];this.Ls()}}function l(a,c){return 128>=c?a[3]:256>=c?a[2]:512>=c?a[1]:a[0]}function m(){try{return!!window.indexedDB}catch(a){return!1}}function p(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}
function q(a,c,d,b){try{var h=indexedDB.open("_C2SaveStates");h.onupgradeneeded=p;h.onerror=b;h.onsuccess=function(h){h=h.target.result;h.onerror=b;h.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:c}).onsuccess=d}}catch(e){b(e)}}function r(a,c,d){try{var b=indexedDB.open("_C2SaveStates");b.onupgradeneeded=p;b.onerror=d;b.onsuccess=function(b){b=b.target.result;b.onerror=d;var h=b.transaction(["saves"]).objectStore("saves").get(a);h.onsuccess=function(){h.result?c(h.result.data):
c(null)}}}catch(h){d(h)}}function g(){da("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function a(a){var c,d={};for(c in a)!a.hasOwnProperty(c)||a[c]instanceof ba||a[c]&&"undefined"!==typeof a[c].qu||"spriteCreatedDestroyCallback"!==c&&(d[c]=a[c]);return d}var b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;f.prototype.Ls=function(){var a=this;if(this.Dm)this.cr(function(c){a.sg(JSON.parse(c))},function(){alert("Error fetching data.js")});else{var c;this.lg?c=new ActiveXObject("Microsoft.XMLHTTP"):c=new XMLHttpRequest;var d="data.js";if(this.Fm||this.lg||this.Uj||this.Em)d="data.json";c.open("GET",d,!0);var b=!1;if(!this.yb&&"response"in c&&"responseType"in c)try{c.responseType="json",b="json"===c.responseType}catch(h){b=!1}if(!b&&"responseType"in
c)try{c.responseType="text"}catch(e){}if("overrideMimeType"in c)try{c.overrideMimeType("application/json; charset=utf-8")}catch(n){}this.lg?c.onreadystatechange=function(){4===c.readyState&&a.sg(JSON.parse(c.responseText))}:(c.onload=function(){if(b)a.sg(c.response);else if(a.Bc){var d=c.responseText,d=d.substr(d.indexOf("{"));a.sg(JSON.parse(d))}else a.sg(JSON.parse(c.responseText))},c.onerror=function(a){ea("Error requesting "+d+":");ea(a)});c.send()}};f.prototype.Ur=function(){var a=this,c,d,b,
h,e,n,k,f,g;this.xe=(!this.yb||this.Bc||this.Ld)&&this.lt&&!this.Bm;0===this.Hb&&this.Wj&&(this.xe=!1);this.devicePixelRatio=this.xe?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;"object"===typeof window.StatusBar&&window.StatusBar.hide();this.ab();0<this.Hb&&this.setSize(window.innerWidth,window.innerHeight,!0);this.canvas.addEventListener("webglcontextlost",function(c){c.preventDefault();a.ts();da("[Construct 2] WebGL context lost");
window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.m.um();a.m.Ne(a.m.width,a.m.height,!0);a.Ia=null;a.Da=null;a.tj[0]=null;a.tj[1]=null;a.us();a.fa=!0;da("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);try{this.uq&&(this.Ac||this.Bc||!this.yb)&&(c={alpha:!0,depth:!1,antialias:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!0},this.Nj||(this.q=this.canvas.getContext("webgl2",c)),this.q||(this.q=this.canvas.getContext("webgl",
c)||this.canvas.getContext("experimental-webgl",c)))}catch(t){}if(this.q){if(c=this.q.getExtension("WEBGL_debug_renderer_info"))this.Dj=this.q.getParameter(c.UNMASKED_RENDERER_WEBGL)+" ["+this.q.getParameter(c.UNMASKED_VENDOR_WEBGL)+"]";this.ia&&(this.Dj+=" [front-to-back enabled]");this.yb||(this.Za=document.createElement("canvas"),jQuery(this.Za).appendTo(this.canvas.parentNode),this.Za.oncontextmenu=function(){return!1},this.Za.onselectstart=function(){return!1},this.Za.width=Math.round(this.sh*
this.devicePixelRatio),this.Za.height=Math.round(this.Pf*this.devicePixelRatio),jQuery(this.Za).css({width:this.sh+"px",height:this.Pf+"px"}),this.Cn(),this.uk=this.Za.getContext("2d"));this.m=new fb(this.q,this.we,this.ia);this.m.Ne(this.canvas.width,this.canvas.height);this.m.Zl=0!==this.nq;this.pa=null;c=0;for(d=this.p.length;c<d;c++)for(e=this.p[c],b=0,h=e.L.length;b<h;b++)k=e.L[b],k.Fa=this.m.Bj(k.id),k.Dc=this.m.yk(k.Fa),this.Cf=this.Cf||this.m.Ig(k.Fa);c=0;for(d=this.Lb.length;c<d;c++){f=this.Lb[c];
b=0;for(h=f.L.length;b<h;b++)k=f.L[b],k.Fa=this.m.Bj(k.id),k.Dc=this.m.yk(k.Fa);f.Jc();b=0;for(h=f.M.length;b<h;b++){g=f.M[b];e=0;for(n=g.L.length;e<n;e++)k=g.L[e],k.Fa=this.m.Bj(k.id),k.Dc=this.m.yk(k.Fa),this.Cf=this.Cf||this.m.Ig(k.Fa);g.Jc()}}}else{if(0<this.Hb&&this.ve){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.pa=AppMobi.canvas.getContext("2d");try{this.pa.samplingMode=this.na?"smooth":"sharp",this.pa.globalScale=1,this.pa.HTML5CompatibilityMode=
!0,this.pa.imageSmoothingEnabled=this.na}catch(m){}0!==this.width&&0!==this.height&&(this.pa.width=this.width,this.pa.height=this.height)}this.pa||(this.Ac?(c={antialias:!!this.na,alpha:!0},this.pa=this.canvas.getContext("2d",c)):(c={alpha:!0},this.pa=this.canvas.getContext("2d",c)),this.wi(this.pa,this.na));this.uk=this.Za=null}this.ho=function(c){a.$b(!1,c)};window==window.top||this.yb||this.cs||this.lg||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",
function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Ac&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(da("Reloading for continuous preview"),this.$h="__c2_continuouspreview",this.Sg=!0),this.zs&&!this.we&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){var c=window.parent;c&&c.document.hasFocus()||a.setSuspended(!0)})));window.addEventListener("blur",function(){a.Je()});
this.yb||(c=function(a){if(eb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(c){}},"undefined"!==typeof PointerEvent?document.addEventListener("pointerdown",c):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",c):document.addEventListener("touchstart",c),document.addEventListener("mousedown",c));0===this.Hb&&this.xe&&1<this.devicePixelRatio&&this.setSize(this.La,
this.Ka,!0);this.lo();this.Nr();this.go();this.A={}};f.prototype.setSize=function(a,c,d){var b=0,h=0,e=0,n=0,n=0;if(this.pf!==a||this.of!==c||d){this.pf=a;this.of=c;var k=this.Hb;if((e=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Qh)&&!this.Ld)||0!==this.Hb||d)e&&(k=this.ff),d=this.devicePixelRatio,4<=k?(5===k&&1!==d&&(a+=1,c+=1),e=this.La/this.Ka,a/c>e?(e*=c,5===k?(n=e*d/this.La,1<n?n=Math.floor(n):1>n&&(n=1/Math.ceil(1/n)),e=this.La*
n/d,n=this.Ka*n/d,b=(a-e)/2,h=(c-n)/2,a=e,c=n):(b=(a-e)/2,a=e)):(n=a/e,5===k?(n=n*d/this.Ka,1<n?n=Math.floor(n):1>n&&(n=1/Math.ceil(1/n)),e=this.La*n/d,n=this.Ka*n/d,b=(a-e)/2,h=(c-n)/2,a=e):h=(c-n)/2,c=n)):e&&0===k&&(b=Math.floor((a-this.La)/2),h=Math.floor((c-this.Ka)/2),a=this.La,c=this.Ka),2>k&&(this.Jf=d),this.sh=Math.round(a),this.Pf=Math.round(c),this.width=Math.round(a*d),this.height=Math.round(c*d),this.fa=!0,this.wo?(this.I=this.width,this.H=this.height,this.Ub=!0):this.width<this.La&&this.height<
this.Ka||1===k?(this.I=this.width,this.H=this.height,this.Ub=!0):(this.I=this.La,this.H=this.Ka,this.Ub=!1,2===k?(e=this.La/this.Ka,k=this.pf/this.of,k<e?this.I=this.H*k:k>e&&(this.H=this.I/k)):3===k&&(e=this.La/this.Ka,k=this.pf/this.of,k>e?this.I=this.H*k:k<e&&(this.H=this.I/k))),this.Ll&&!this.yb&&(jQuery(this.Ll).css({width:Math.round(a)+"px",height:Math.round(c)+"px","margin-left":Math.floor(b)+"px","margin-top":Math.floor(h)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+
"px",height:Math.round(c)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*d),this.canvas.height=Math.round(c*d),this.Bc?(this.canvas.style.left=Math.floor(b)+"px",this.canvas.style.top=Math.floor(h)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px"):this.xe&&!this.yb&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(c)+"px")),this.Za&&(this.Za.width=Math.round(a*d),this.Za.height=Math.round(c*d),this.Za.style.width=this.sh+
"px",this.Za.style.height=this.Pf+"px"),this.m&&this.m.Ne(Math.round(a*d),Math.round(c*d)),this.ve&&this.pa&&(this.pa.width=Math.round(a),this.pa.height=Math.round(c)),this.pa&&this.wi(this.pa,this.na),this.lo(),this.Hm&&!this.Ld&&window.scrollTo(0,0)}};f.prototype.lo=function(){if(this.Ep&&0!==this.tk){var a="portrait";2===this.tk&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a).catch(function(){}):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?
screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}catch(c){console&&console.warn&&console.warn("Failed to lock orientation: ",c)}}};f.prototype.ts=function(){this.m.Pp();this.Vj=!0;var a,c,d;a=0;for(c=this.p.length;a<c;a++)d=this.p[a],d.Gg&&d.Gg()};f.prototype.us=function(){this.Vj=!1;var a,c,d;a=0;for(c=this.p.length;a<c;a++)d=this.p[a],d.ki&&d.ki()};f.prototype.Cn=function(){if(!this.yb){var a=(document.mozFullScreen||
document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Qh)&&!this.Ld?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Za).css(a)}};var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;f.prototype.setSuspended=function(a){var c;if(a&&!this.jg)for(da("[Construct 2] Suspending"),this.jg=!0,-1!==this.Ck&&e&&e(this.Ck),-1!==
this.dl&&clearTimeout(this.dl),a=0,c=this.Di.length;a<c;a++)this.Di[a](!0);else if(!a&&this.jg){da("[Construct 2] Resuming");this.jg=!1;this.Th=Qa();this.Ae=Qa();a=this.zg=this.Gh=0;for(c=this.Di.length;a<c;a++)this.Di[a](!1);this.$b(!1)}};f.prototype.xd=function(a){return this.ii[a]};f.prototype.sg=function(a){a&&a.project||ea("Project model unavailable");a=a.project;this.name=a[0];this.fm=a[1];this.Hb=a[12];this.La=a[10];this.Ka=a[11];this.xn=this.La/2;this.yn=this.Ka/2;this.yb&&!this.Bc&&(4<=a[12]||
0===a[12])&&(da("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Hb=3);this.nl=a[18];this.Td=a[19];if(0===this.Td){var c=new Image;c.crossOrigin="anonymous";this.Qn(c,"loading-logo.png");this.Sd={fi:c}}else if(4===this.Td){c=new Image;c.src="";var d=new Image;d.src="";var b=new Image;b.src="";var h=new Image;h.src="";var e=new Image;e.src="";var n=new Image;n.src="";var k=new Image;k.src="";var f=new Image;f.src="";var g=new Image;
g.src="";var t=new Image;t.src="";var m=new Image;m.src="";var v=new Image;v.src="";this.Sd={fi:[c,d,b,h],Ds:[e,n,k,f],nt:[g,t,m,v]}}this.Dg=a[21];this.ii=fc();this.Yc=new Y(this);c=0;for(d=a[2].length;c<d;c++)k=a[2][c],b=this.xd(k[0]),gb(k,b.prototype),f=new b(this),f.Bi=k[1],f.Nd=k[2],f.es=k[5],f.pn=k[9],f.V&&f.V(),this.plugins.push(f);this.ii=fc();c=0;for(d=a[3].length;c<d;c++){k=a[3][c];e=this.xd(k[1]);f=null;b=0;for(h=this.plugins.length;b<h;b++)if(this.plugins[b]instanceof e){f=this.plugins[b];
break}g=new f.ua(f);g.name=k[0];g.D=k[2];g.Mj=k[3].slice(0);g.mt=k[3].length;g.Fp=k[4];g.gr=k[5];g.T=k[11];g.D?(g.Ee=[],g.ed=this.Uf++,g.qa=null):(g.Ee=null,g.ed=-1,g.qa=[]);g.Bh=null;g.df=null;g.$l=null;g.jb=!1;g.Fb=null;k[6]?(g.al=k[6][0],g.bl=k[6][1],g.cl=k[6][2]):(g.al=null,g.bl=0,g.cl=0);k[7]?g.Eb=k[7]:g.Eb=null;g.index=c;g.d=[];g.xh=[];g.sd=[new hb(g)];g.Pc=0;g.hc=null;g.Wp=0;g.Af=!0;g.Ki=ib;g.lr=jb;g.sr=kb;g.R=lb;g.Kg=mb;g.oi=pb;g.Ke=qb;g.Ih=rb;g.uj=sb;g.yj=tb;g.Mc=ub;g.zj=vb;g.qh=new Ya(this.La,
this.Ka);g.fh=!0;g.gh=!1;g.A={};g.toString=wb;g.wa=[];b=0;for(h=k[8].length;b<h;b++){t=k[8][b];m=this.xd(t[1]);v=null;e=0;for(n=this.wa.length;e<n;e++)if(this.wa[e]instanceof m){v=this.wa[e];break}v||(v=new m(this),v.ok=[],v.Bg=new ba,v.V&&v.V(),this.wa.push(v),gc&&v instanceof gc&&(this.Yk=v),Yb.$s&&v instanceof Yb.$s&&(this.Qk=v));-1===v.ok.indexOf(g)&&v.ok.push(g);e=new v.ua(v,g);e.name=t[0];e.T=t[2];e.V();g.wa.push(e)}g.global=k[9];g.Sj=k[10];g.L=[];b=0;for(h=k[12].length;b<h;b++)g.L.push({id:k[12][b][0],
name:k[12][b][1],Fa:-1,Dc:!1,Sb:!0,index:b});g.Bu=k[13];this.nl&&!g.D&&!g.Sj&&f.Nd||g.V();g.name&&(this.types[g.name]=g);this.p.push(g);f.Bi&&(b=new f.ja(g),b.uid=this.Dg++,b.Fn=this.rn++,b.te=0,b.Yf=xb,b.toString=yb,b.K=k[14],b.V(),g.d.push(b),this.md[b.uid.toString()]=b)}c=0;for(d=a[4].length;c<d;c++)for(e=a[4][c],n=this.p[e[0]],b=1,h=e.length;b<h;b++)k=this.p[e[b]],k.qa.push(n),n.Ee.push(k);c=0;for(d=a[28].length;c<d;c++){e=a[28][c];n=[];b=0;for(h=e.length;b<h;b++)n.push(this.p[e[b]]);b=0;for(h=
n.length;b<h;b++)n[b].jb=!0,n[b].Fb=n}if(0<this.Uf)for(c=0,d=this.p.length;c<d;c++)if(k=this.p[c],!k.D&&k.qa.length){k.Bh=Array(this.Uf);k.df=Array(this.Uf);k.$l=Array(this.Uf);g=[];b=v=m=t=0;for(h=k.qa.length;b<h;b++)for(f=k.qa[b],k.Bh[f.ed]=t,t+=f.mt,k.df[f.ed]=m,m+=f.Fp,k.$l[f.ed]=v,v+=f.gr,e=0,n=f.L.length;e<n;e++)g.push(ua({},f.L[e]));k.L=g.concat(k.L);b=0;for(h=k.L.length;b<h;b++)k.L[b].index=b}c=0;for(d=a[5].length;c<d;c++)k=a[5][c],b=new zb(this,k),this.dk[b.name]=b,this.Lb.push(b);c=0;for(d=
a[6].length;c<d;c++)k=a[6][c],b=new Ab(this,k),this.nj[b.name]=b,this.dd.push(b);c=0;for(d=this.dd.length;c<d;c++)this.dd[c].Aa();c=0;for(d=this.dd.length;c<d;c++)this.dd[c].kl();c=0;for(d=this.Ji.length;c<d;c++)this.Ji[c].Aa();O(this.Ji);this.Dp=a[7];this.Cc=a[9];this.Jf=1;this.uq=a[13];this.na=a[14];this.Pl=a[15];this.lt=a[17];this.tk=a[20];this.Ep=0<this.tk;this.zs=a[22];this.Ub=this.wo=a[23];this.nq=a[24];this.Es=a[25];this.ia=a[27]&&!this.Md;this.Ci=Date.now();O(this.ii);this.Ur()};var c=!1,
d=0,k=[];f.prototype.Ks=function(a,c){function b(){d--;h.kn()}var h=this;a.addEventListener("load",b);a.addEventListener("error",b);k.push([a,c]);this.kn()};f.prototype.kn=function(){for(var a;k.length&&100>d;)d++,a=k.shift(),this.Qn(a[0],a[1])};f.prototype.pl=function(a,d){a.cocoonLazyLoad=!0;a.onerror=function(d){c=a.Il=!0;console&&console.error&&console.error("Error loading image '"+a.src+"': ",d)};this.Bc?a.src=d:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(d,function(c){a.src=c},function(b){c=
a.Il=!0;console&&console.error&&console.error("Error extracting image '"+d+"' from expansion file: ",b)}):(a.crossOrigin="anonymous",this.Ks(a,d)));this.Ff.push(a)};f.prototype.fr=function(a){var c,d;c=0;for(d=this.Ff.length;c<d;c++)if(this.Ff[c].Qp===a)return this.Ff[c];return null};var h=0,y=!1;f.prototype.Nr=function(){this.Kf&&(h=this.Kf.xu(this.Dp))};f.prototype.Dl=function(){var a=h,c=0,d=0,b=!0,e,k,d=0;for(e=this.Ff.length;d<e;d++){k=this.Ff[d];var n=k.ej;if(!n||0>=n)n=5E4;a+=n;k.src&&(k.complete||
k.loaded)&&!k.Il?c+=n:b=!1}b&&this.Es&&this.Kf&&(y||(this.Kf.yu(),y=!0),d=this.Kf.su(),c+=d,d<h&&(b=!1));this.Ec=0==a?1:c/a;return b};var L=!1;f.prototype.go=function(){if(this.pa||this.m){var a=this.pa||this.uk;this.Za&&this.Cn();var d=window.innerWidth,h=window.innerHeight;this.pf===d&&this.of===h||this.setSize(d,h);this.Ec=0;this.Nm=-1;var e=this;if(this.Dl()&&(4!==this.Td||L))this.Or();else{h=Date.now()-this.Ci;if(a){var k=this.width,n=this.height,d=this.devicePixelRatio;if(3>this.Td&&(this.Ac||
500<=h&&this.Nm!=this.Ec)){a.clearRect(0,0,k,n);var h=k/2,n=n/2,k=0===this.Td&&this.Sd.fi.complete,g=40*d,f=0,t=80*d,m;if(k){var v=this.Sd.fi,t=v.width*d;m=v.height*d;g=t/2;f=m/2;a.drawImage(v,N(h-g),N(n-f),t,m)}1>=this.Td?(h=N(h-g)+.5,n=N(n+(f+(k?12*d:0)))+.5,a.fillStyle=c?"red":"DodgerBlue",a.fillRect(h,n,Math.floor(t*this.Ec),6*d),a.strokeStyle="black",a.strokeRect(h,n,t,6*d),a.strokeStyle="white",a.strokeRect(h-1*d,n-1*d,t+2*d,8*d)):2===this.Td&&(a.font=this.Bc?"12pt ArialMT":"12pt Arial",a.fillStyle=
c?"#f00":"#999",a.Au="middle",d=Math.round(100*this.Ec)+"%",k=a.measureText?a.measureText(d):null,a.fillText(d,h-(k?k.width:0)/2,n));this.Nm=this.Ec}else if(4===this.Td){this.sq(a);b?b(function(){e.go()}):setTimeout(function(){e.go()},16);return}}setTimeout(function(){e.go()},this.Ac?10:100)}}};var H=-1,n="undefined"===typeof cr_is_preview?200:0,t=!0,C=!1,v=0,u=0,D="undefined"===typeof cr_is_preview?3E3:0,T=null,X=null,F=0;f.prototype.sq=function(a){if(!L){for(var d=Math.ceil(this.width),b=Math.ceil(this.height),
h=this.Sd.fi,e=this.Sd.Ds,k=this.Sd.nt,g=0;4>g;++g)if(!h[g].complete||!e[g].complete||!k[g].complete)return;0===F&&(H=Date.now());var g=Date.now(),f=!1,m=a,y,p;t||C?(a.clearRect(0,0,d,b),T&&T.width===d&&T.height===b||(T=document.createElement("canvas"),T.width=d,T.height=b,X=T.getContext("2d")),m=X,f=!0,t&&1===F&&(H=Date.now())):a.globalAlpha=1;m.fillStyle="#333333";m.fillRect(0,0,d,b);256<this.Pf?(y=Da(.22*b,105,.6*d),p=.25*y,m.drawImage(l(e,y),.5*d-y/2,.2*b-p/2,y,p),p=y=Math.min(.395*b,.95*d),m.drawImage(l(h,
y),.5*d-y/2,.485*b-p/2,y,p),y=Da(.22*b,105,.6*d),p=.25*y,m.drawImage(l(k,y),.5*d-y/2,.868*b-p/2,y,p),m.fillStyle="#3C3C3C",y=d,p=Math.max(.005*b,2),m.fillRect(0,.8*b-p/2,y,p),m.fillStyle=c?"red":"#E0FF65",y=d*this.Ec,m.fillRect(.5*d-y/2,.8*b-p/2,y,p)):(p=y=.55*b,m.drawImage(l(h,y),.5*d-y/2,.45*b-p/2,y,p),m.fillStyle="#3C3C3C",y=d,p=Math.max(.005*b,2),m.fillRect(0,.85*b-p/2,y,p),m.fillStyle=c?"red":"#E0FF65",y=d*this.Ec,m.fillRect(.5*d-y/2,.85*b-p/2,y,p));f&&(t?a.globalAlpha=0===F?0:Math.min((g-H)/
300,1):C&&(a.globalAlpha=Math.max(1-(g-u)/300,0)),a.drawImage(T,0,0,d,b));t&&300<=g-H&&2<=F&&(t=!1,v=g);!t&&g-v>=D&&!C&&1<=this.Ec&&(C=!0,u=g);if(C&&g-u>=300+n||"undefined"!==typeof cr_is_preview&&1<=this.Ec&&500>Date.now()-H)L=!0,C=t=!1,this.Sd=X=T=null;++F}};f.prototype.Or=function(){this.Za&&(this.canvas.parentNode.removeChild(this.Za),this.Za=this.uk=null);this.Ci=Date.now();this.Ae=Qa();var a,c,d;if(this.nl)for(a=0,c=this.p.length;a<c;a++)d=this.p[a],d.D||d.Sj||!d.ka.Nd||d.V();else this.ng=!1;
a=0;for(c=this.Lb.length;a<c;a++)this.Lb[a].Sp();2<=this.Hb&&(a=this.La/this.Ka,c=this.width/this.height,this.Jf=2!==this.Hb&&c>a||2===this.Hb&&c<a?this.height/this.Ka:this.width/this.La);this.fm?this.dk[this.fm].Zk():this.Lb[0].Zk();this.nl||(this.ci=1,this.trigger(Y.prototype.n.xl,null),window.C2_RegisterSW&&window.C2_RegisterSW());navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(c=this.p.length;a<c;a++)d=this.p[a],d.rs&&d.rs();document.hidden||document.webkitHidden||
document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.$b(!1);this.ve&&AppMobi.webview.execute("onGameReady();")};f.prototype.$b=function(a,c,d){if(this.aa){var h=Qa();if(d||!this.jg||a){a||(b?this.Ck=b(this.ho):this.dl=setTimeout(this.ho,this.we?1:16));c=c||h;var e=this.Hb;((d=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&!this.Ld)||this.Qh)&&0<this.ff&&(e=this.ff);if(0<e){var e=window.innerWidth,k=window.innerHeight;this.pf===
e&&this.of===k||this.setSize(e,k)}this.yb||(d?this.Dh||(this.Dh=!0):this.Dh?(this.Dh=!1,0===this.Hb&&this.setSize(Math.round(this.vn/this.devicePixelRatio),Math.round(this.un/this.devicePixelRatio),!0)):(this.vn=this.width,this.un=this.height));this.ng&&(d=this.Dl(),this.ci=this.Ec,d&&(this.ng=!1,this.Ec=1,this.trigger(Y.prototype.n.xl,null),window.C2_RegisterSW&&window.C2_RegisterSW()));this.ls(c);!this.fa&&!this.Ac||this.Vj||this.Sg||a||(this.fa=!1,this.m?this.tb():this.yc(),this.Rg&&(this.canvas&&
this.canvas.toDataURL&&(this.Yn=this.canvas.toDataURL(this.Rg[0],this.Rg[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.Yn),this.trigger(Y.prototype.n.bp,null)),this.Rg=null));this.tu||(this.qc++,this.qe++,this.Gh++);this.zg+=Qa()-h}}};f.prototype.ls=function(a){var c,d,b,h,e,k,n,g;1E3<=a-this.Ae&&(this.Ae+=1E3,1E3<=a-this.Ae&&(this.Ae=a),this.sj=this.Gh,this.Gh=0,this.dj=this.zg,this.zg=0);c=0;0!==this.Th&&(c=a-this.Th,0>c&&(c=0),this.me=c/=1E3,.5<this.me?this.me=0:this.me>1/this.nn&&(this.me=
1/this.nn));this.Th=a;this.bf=this.me*this.Bf;this.Kb.add(this.bf);this.Ni.add(c);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Qh)&&!this.Ld;2<=this.Hb||a&&0<this.ff?(c=this.La/this.Ka,d=this.width/this.height,b=this.Hb,a&&0<this.ff&&(b=this.ff),this.Jf=2!==b&&d>c||2===b&&d<c?this.height/this.Ka:this.width/this.La,this.aa&&(this.aa.Nk(this.aa.scrollX),this.aa.Ok(this.aa.scrollY))):this.Jf=this.xe?this.devicePixelRatio:1;this.ab();
this.Xb++;this.Yc.Ps();this.Xb--;this.ab();this.Xb++;d=this.tn.ec();a=0;for(c=d.length;a<c;a++)d[a].vu();a=0;for(c=this.p.length;a<c;a++)if(k=this.p[a],!k.D&&(k.wa.length||k.qa.length))for(d=0,b=k.d.length;d<b;d++)for(n=k.d[d],h=0,e=n.F.length;h<e;h++)n.F[h].$b();a=0;for(c=this.p.length;a<c;a++)if(k=this.p[a],!k.D&&(k.wa.length||k.qa.length))for(d=0,b=k.d.length;d<b;d++)for(n=k.d[d],h=0,e=n.F.length;h<e;h++)g=n.F[h],g.Cs&&g.Cs();d=this.pk.ec();a=0;for(c=d.length;a<c;a++)d[a].$b();this.Xb--;this.Pr();
for(a=0;this.Lf&&10>a++;)this.Yl(this.Lf);a=0;for(c=this.dd.length;a<c;a++)this.dd[a].Gj=!1;this.aa.oe&&this.aa.oe.Ea();O(this.Me);this.Xb++;a=0;for(c=this.p.length;a<c;a++)if(k=this.p[a],!k.D&&(k.wa.length||k.qa.length))for(d=0,b=k.d.length;d<b;d++)for(n=k.d[d],h=0,e=n.F.length;h<e;h++)g=n.F[h],g.Vg&&g.Vg();d=this.qk.ec();a=0;for(c=d.length;a<c;a++)d[a].Vg();this.Xb--};f.prototype.Je=function(){var a,c,d,b,h,e,k,n,g;a=0;for(c=this.p.length;a<c;a++)if(k=this.p[a],!k.D)for(d=0,b=k.d.length;d<b;d++)if(n=
k.d[d],n.Je&&n.Je(),n.F)for(h=0,e=n.F.length;h<e;h++)g=n.F[h],g.Je&&g.Je()};f.prototype.Yl=function(a){var c=this.aa;this.aa.dt();var d,b,h;if(this.m)for(d=0,b=this.p.length;d<b;d++)h=this.p[d],h.D||!h.jl||h.global&&0!==h.d.length||-1!==a.dg.indexOf(h)||h.jl();c==a&&O(this.Yc.Qb);O(this.Me);this.Jn(!0);a.Zk();this.Jn(!1);this.fa=!0;this.ab()};f.prototype.Jn=function(a){var c,d,b,h,e,k,n,g,f;c=0;for(d=this.wa.length;c<d;c++)b=this.wa[c],a?b.Eg&&b.Eg():b.Fg&&b.Fg();c=0;for(d=this.p.length;c<d;c++)if(b=
this.p[c],b.global||b.ka.Bi)for(h=0,e=b.d.length;h<e;h++)if(k=b.d[h],a?k.Eg&&k.Eg():k.Fg&&k.Fg(),k.F)for(n=0,g=k.F.length;n<g;n++)f=k.F[n],a?f.Eg&&f.Eg():f.Fg&&f.Fg()};f.prototype.Gi=function(a){this.pk.add(a)};f.prototype.ft=function(a){this.qk.add(a)};f.prototype.Jh=function(a){return a&&-1!==a.Cg?this.me*a.Cg:this.bf};f.prototype.yc=function(){this.aa.yc(this.pa);this.ve&&this.pa.present()};f.prototype.tb=function(){this.ia&&(this.ne=1,this.aa.le(this.m));this.aa.tb(this.m);this.m.Gs()};f.prototype.yp=
function(a){a&&this.jj.push(a)};f.prototype.mm=function(a){a=a.toString();return this.md.hasOwnProperty(a)?this.md[a]:null};var M=[];f.prototype.Re=function(a){var c,d;c=a.type.name;var b=null;if(this.ke.hasOwnProperty(c)){if(b=this.ke[c],b.contains(a))return}else b=M.length?M.pop():new ba,this.ke[c]=b;b.add(a);this.Jd=!0;if(a.jb)for(c=0,d=a.siblings.length;c<d;c++)this.Re(a.siblings[c]);this.Qj&&b.Df.push(a);this.Pj||(this.Xb++,this.trigger(Object.getPrototypeOf(a.type.ka).n.dp,a),this.Xb--)};f.prototype.ab=
function(){if(this.Jd){var a,c,d,b,h,e;this.Qj=!0;d=0;for(h=this.xc.length;d<h;++d)for(a=this.xc[d],c=a.type,c.d.push(a),b=0,e=c.qa.length;b<e;++b)c.qa[b].d.push(a),c.qa[b].Af=!0;O(this.xc);this.Vo();Pa(this.ke);this.Jd=this.Qj=!1}};f.prototype.Vo=function(){for(var a in this.ke)this.ke.hasOwnProperty(a)&&this.Bo(this.ke[a])};f.prototype.Bo=function(a){var c=a.ec(),d=c[0].type,b,h,e,k,n,g;Sa(d.d,a);d.Af=!0;0===d.d.length&&(d.gh=!1);b=0;for(h=d.qa.length;b<h;++b)g=d.qa[b],Sa(g.d,a),g.Af=!0;b=0;for(h=
this.Yc.Qb.length;b<h;++b)if(n=this.Yc.Qb[b],n.Pb.hasOwnProperty(d.index)&&Sa(n.Pb[d.index].ue,a),!d.D)for(e=0,k=d.qa.length;e<k;++e)g=d.qa[e],n.Pb.hasOwnProperty(g.index)&&Sa(n.Pb[g.index].ue,a);if(n=c[0].k){if(n.cc)for(e=n.d,b=0,h=e.length;b<h;++b)k=e[b],a.contains(k)&&(k.ba(),n.$a.update(k,k.Cb,null),k.Cb.set(0,0,-1,-1));Sa(n.d,a);n.Ng(0)}for(b=0;b<c.length;++b)this.Ao(c[b],d);a.clear();M.push(a);this.fa=!0};f.prototype.Ao=function(a,c){var d,b,h;d=0;for(b=this.jj.length;d<b;++d)this.jj[d](a);
a.Ed&&c.qh.update(a,a.Ed,null);(d=a.k)&&d.wf(a,!0);if(a.F)for(d=0,b=a.F.length;d<b;++d)h=a.F[d],h.Ie&&h.Ie(),h.behavior.Bg.remove(a);this.tn.remove(a);this.pk.remove(a);this.qk.remove(a);a.Ie&&a.Ie();this.md.hasOwnProperty(a.uid.toString())&&delete this.md[a.uid.toString()];this.ji--;100>c.xh.length&&c.xh.push(a)};f.prototype.fj=function(a,c,d,b){if(a.D){var h=N(Math.random()*a.Ee.length);return this.fj(a.Ee[h],c,d,b)}return a.hc?this.Fd(a.hc,c,!1,d,b,!1):null};var V=[];f.prototype.Fd=function(a,
c,d,b,h,e){var k,n,g,f;if(!a)return null;var t=this.p[a[1]],m=t.ka.Nd;if(this.ng&&m&&!t.Sj||m&&!this.m&&11===a[0][11])return null;var v=c;m||(c=null);var l;t.xh.length?(l=t.xh.pop(),l.lc=!0,t.ka.ja.call(l,t)):(l=new t.ka.ja(t),l.lc=!1);!d||e||this.md.hasOwnProperty(a[2].toString())?l.uid=this.Dg++:l.uid=a[2];this.md[l.uid.toString()]=l;l.Fn=this.rn++;l.te=t.d.length;k=0;for(n=this.xc.length;k<n;++k)this.xc[k].type===t&&l.te++;l.Yf=xb;l.toString=yb;g=a[3];if(l.lc)Pa(l.A);else{l.A={};if("undefined"!==
typeof cr_is_preview)for(l.xm=[],l.xm.length=g.length,k=0,n=g.length;k<n;k++)l.xm[k]=g[k][1];l.Ha=[];l.Ha.length=g.length}k=0;for(n=g.length;k<n;k++)l.Ha[k]=g[k][0];if(m){var u=a[0];l.x=fa(b)?u[0]:b;l.y=fa(h)?u[1]:h;l.z=u[2];l.width=u[3];l.height=u[4];l.depth=u[5];l.j=u[6];l.opacity=u[7];l.wb=u[8];l.xb=u[9];l.bb=u[10];k=u[11];!this.m&&t.L.length&&(l.bb=k);l.Mf=ab(l.bb);this.q&&bb(l,l.bb,this.q);if(l.lc){k=0;for(n=u[12].length;k<n;k++)for(g=0,f=u[12][k].length;g<f;g++)l.xa[k][g]=u[12][k][g];l.ea.set(0,
0,0,0);l.Ed.set(0,0,-1,-1);l.Cb.set(0,0,-1,-1);l.Pa.$d(l.ea);O(l.Ui)}else{l.xa=u[12].slice(0);k=0;for(n=l.xa.length;k<n;k++)l.xa[k]=u[12][k].slice(0);l.X=[];l.yd=[];l.yd.length=t.L.length;l.ea=new sa(0,0,0,0);l.Ed=new sa(0,0,-1,-1);l.Cb=new sa(0,0,-1,-1);l.Pa=new ta;l.Ui=[];l.J=Bb;l.pu=Cb;l.hb=Db;l.ba=Eb;l.kt=Fb;l.so=Gb;l.Sc=Hb}l.td=!1;l.it=0;l.ht=0;l.gt=null;14===u.length&&(l.td=!0,l.it=u[13][0],l.ht=u[13][1],l.gt=u[13][2]);k=0;for(n=t.L.length;k<n;k++)l.yd[k]=!0;l.qd=!0;l.Jc=Ib;l.Jc();l.uo=!!l.X.length;
l.Ti=!0;l.Yi=!0;t.fh=!0;l.visible=!0;l.Cg=-1;l.k=c;l.Kc=c.d.length;l.ne=0;"undefined"===typeof l.G&&(l.G=null);this.fa=l.Oc=!0}var y;O(V);k=0;for(n=t.qa.length;k<n;k++)V.push.apply(V,t.qa[k].wa);V.push.apply(V,t.wa);if(l.lc)for(k=0,n=V.length;k<n;k++){var p=V[k];y=l.F[k];y.lc=!0;p.behavior.ja.call(y,p,l);u=a[4][k];g=0;for(f=u.length;g<f;g++)y.K[g]=u[g];y.V();p.behavior.Bg.add(l)}else for(l.F=[],k=0,n=V.length;k<n;k++)p=V[k],y=new p.behavior.ja(p,l),y.lc=!1,y.K=a[4][k].slice(0),y.V(),l.F.push(y),p.behavior.Bg.add(l);
u=a[5];if(l.lc)for(k=0,n=u.length;k<n;k++)l.K[k]=u[k];else l.K=u.slice(0);this.xc.push(l);this.Jd=!0;c&&(c.If(l,!0),1!==c.nd||1!==c.od)&&(t.gh=!0);this.ji++;if(t.jb){if(l.jb=!0,l.lc?O(l.siblings):l.siblings=[],!d&&!e){k=0;for(n=t.Fb.length;k<n;k++)if(t.Fb[k]!==t){if(!t.Fb[k].hc)return null;l.siblings.push(this.Fd(t.Fb[k].hc,v,!1,m?l.x:b,m?l.y:h,!0))}k=0;for(n=l.siblings.length;k<n;k++)for(l.siblings[k].siblings.push(l),g=0;g<n;g++)k!==g&&l.siblings[k].siblings.push(l.siblings[g])}}else l.jb=!1,l.siblings=
null;l.V();k=0;for(n=l.F.length;k<n;k++)l.F[k].Bs&&l.F[k].Bs();return l};f.prototype.pr=function(a){var c,d;c=0;for(d=this.aa.M.length;c<d;c++){var b=this.aa.M[c];if(db(b.name,a))return b}return null};f.prototype.qr=function(a){a=N(a);0>a&&(a=0);a>=this.aa.M.length&&(a=this.aa.M.length-1);return this.aa.M[a]};f.prototype.aj=function(a){var c,d;c=0;for(d=a.length;c<d;c++)a[c].R().W=!0};f.prototype.Kg=function(a){var c,d;c=0;for(d=a.length;c<d;c++)a[c].Kg()};f.prototype.oi=function(a){var c,d;c=0;for(d=
a.length;c<d;c++)a[c].oi()};f.prototype.Ke=function(a){var c,d;c=0;for(d=a.length;c<d;c++)a[c].Ke()};f.prototype.qo=function(a){if(a.fh){var c,d,b=a.d;c=0;for(d=b.length;c<d;++c)b[c].so();b=this.xc;c=0;for(d=b.length;c<d;++c)b[c].type===a&&b[c].so();a.fh=!1}};f.prototype.vj=function(a,c,d,b){var h,k,e=a?1!==a.nd||1!==a.od:!1;if(c.D)for(a=0,h=c.Ee.length;a<h;++a)k=c.Ee[a],e||k.gh?Aa(b,k.d):(this.qo(k),k.qh.qi(d,b));else e||c.gh?Aa(b,c.d):(this.qo(c),c.qh.qi(d,b))};f.prototype.Cj=function(a,c,d,b){var h,
k;h=0;for(k=c.length;h<k;++h)this.vj(a,c[h],d,b)};f.prototype.om=function(a,c,d){var b=this.Yk;b&&this.Cj(a,b.ok,c,d)};f.prototype.be=function(a,c){if(!(a&&c&&a!==c&&a.Oc&&c.Oc))return!1;a.ba();c.ba();var d=a.k,b=c.k,h,k,e,n,g,f,l,t;if(d===b||d.nd===b.nd&&b.od===b.od&&d.scale===b.scale&&d.j===b.j&&d.dh===b.dh){if(!a.ea.zm(c.ea)||!a.Pa.ym(c.Pa)||a.td&&c.td)return!1;if(a.td)return this.co(a,c);if(c.td)return this.co(c,a);l=a.G&&!a.G.hd();h=c.G&&!c.G.hd();if(!l&&!h)return!0;l?(a.G.$c(a.width,a.height,
a.j),l=a.G):(this.Gc.Zd(a.Pa,a.x,a.y,a.width,a.height),l=this.Gc);h?(c.G.$c(c.width,c.height,c.j),t=c.G):(this.Gc.Zd(c.Pa,c.x,c.y,c.width,c.height),t=this.Gc);return l.eg(t,c.x-a.x,c.y-a.y)}l=a.G&&!a.G.hd();h=c.G&&!c.G.hd();l?(a.G.$c(a.width,a.height,a.j),this.Gc.Sn(a.G)):this.Gc.Zd(a.Pa,a.x,a.y,a.width,a.height);l=this.Gc;h?(c.G.$c(c.width,c.height,c.j),this.$k.Sn(c.G)):this.$k.Zd(c.Pa,c.x,c.y,c.width,c.height);t=this.$k;h=0;for(k=l.Zb;h<k;h++)e=2*h,n=e+1,g=l.Ba[e],f=l.Ba[n],l.Ba[e]=d.ra(g+a.x,f+
a.y,!0),l.Ba[n]=d.ra(g+a.x,f+a.y,!1);l.ba();h=0;for(k=t.Zb;h<k;h++)e=2*h,n=e+1,g=t.Ba[e],f=t.Ba[n],t.Ba[e]=b.ra(g+c.x,f+c.y,!0),t.Ba[n]=b.ra(g+c.x,f+c.y,!1);t.ba();return l.eg(t,0,0)};var G=new ta,R=new sa(0,0,0,0),E=[];f.prototype.co=function(a,c){var d,b,h,k,e=c.ea,n=a.x,g=a.y;a.wj(e,E);var f=c.G&&!c.G.hd();d=0;for(b=E.length;d<b;++d)if(h=E[d],k=h.Ek,e.Am(k,n,g)&&(G.$d(k),G.offset(n,g),G.ym(c.Pa)))if(f)if(c.G.$c(c.width,c.height,c.j),h.pd){if(h.pd.eg(c.G,c.x-(n+k.left),c.y-(g+k.top)))return O(E),
!0}else{if(this.Gc.Zd(G,0,0,k.right-k.left,k.bottom-k.top),this.Gc.eg(c.G,c.x,c.y))return O(E),!0}else if(h.pd){if(this.Gc.Zd(c.Pa,0,0,c.width,c.height),h.pd.eg(this.Gc,-(n+k.left),-(g+k.top)))return O(E),!0}else return O(E),!0;O(E);return!1};f.prototype.bo=function(a,c,d,b,h){if(!h||!h.Oc)return!1;h.ba();R.set(ma(a,d),ma(c,b),la(a,d),la(c,b));if(!h.ea.zm(R))return!1;if(h.td){h.wj(R,E);var k,e,n,g=h.x,f=h.y;h=0;for(k=E.length;h<k;++h)if(e=E[h],n=e.Ek,R.Am(n,g,f)&&(G.$d(n),G.offset(g,f),G.fg(a,c,d,
b)))if(e.pd){if(e.pd.fg(g+n.left,f+n.top,a,c,d,b))return O(E),!0}else return O(E),!0;O(E);return!1}if(!h.Pa.fg(a,c,d,b))return!1;if(!h.G||h.G.hd())return!0;h.G.$c(h.width,h.height,h.j);return h.G.fg(h.x,h.y,a,c,d,b)};f.prototype.mo=function(a,c){if(!c)return!1;var d,b,h,k,e;d=0;for(b=a.wa.length;d<b;d++)if(a.wa[d].behavior instanceof c)return!0;if(!a.D)for(d=0,b=a.qa.length;d<b;d++)for(e=a.qa[d],h=0,k=e.wa.length;h<k;h++)if(e.wa[h].behavior instanceof c)return!0;return!1};f.prototype.hl=function(a){return this.mo(a,
Yb.Pt)};f.prototype.il=function(a){return this.mo(a,Yb.Qt)};var I=[];f.prototype.Hc=function(a){var c,d,b;a.ba();this.om(a.k,a.ea,I);c=0;for(d=I.length;c<d;++c)if(b=I[c],b.A.solidEnabled&&this.be(a,b))return O(I),b;O(I);return null};f.prototype.Ak=function(a,c,d,b){b=b||50;var h=a.x,k=a.y,e,n=null,g=null;for(e=0;e<b;e++)if(a.x=h+c*e,a.y=k+d*e,a.J(),!this.be(a,n)&&((n=this.Hc(a))&&(g=n),!n&&!n))return g&&this.Is(a,c,d,g),!0;a.x=h;a.y=k;a.J();return!1};f.prototype.Is=function(a,c,d,b){var h=2,k,e=!1;
k=!1;for(var n=a.x,g=a.y;16>=h;)k=1/h,h*=2,a.x+=c*k*(e?1:-1),a.y+=d*k*(e?1:-1),a.J(),this.be(a,b)?k=e=!0:(k=e=!1,n=a.x,g=a.y);k&&(a.x=n,a.y=g,a.J())};f.prototype.Gn=function(a,c){var d=fa(c)?100:c,b=0,h=a.x,k=a.y,e=0,n=0,g=0,f=this.Hc(a);if(!f)return!0;for(;b<=d;){switch(e){case 0:n=0;g=-1;b++;break;case 1:n=1;g=-1;break;case 2:n=1;g=0;break;case 3:g=n=1;break;case 4:n=0;g=1;break;case 5:n=-1;g=1;break;case 6:n=-1;g=0;break;case 7:g=n=-1}e=(e+1)%8;a.x=N(h+n*b);a.y=N(k+g*b);a.J();if(!this.be(a,f)&&
(f=this.Hc(a),!f))return!0}a.x=h;a.y=k;a.J();return!1};f.prototype.Lg=function(a,c){a.Oc&&c.Oc&&this.Me.push([a,c])};f.prototype.Ap=function(a,c,d){var b,h,k;b=0;for(h=this.Me.length;b<h;++b){k=this.Me[b];if(k[0]===a)k=k[1];else if(k[1]===a)k=k[0];else continue;if(c.D){if(-1===c.Ee.indexOf(c))continue}else if(k.type!==c)continue;-1===d.indexOf(k)&&d.push(k)}};f.prototype.Np=function(a,c){var d,b,h;d=0;for(b=this.Me.length;d<b;d++)if(h=this.Me[d],h[0]===a&&h[1]===c||h[0]===c&&h[1]===a)return!0;return!1};
f.prototype.Mp=function(a,c,d){var b=a.x,h=a.y,k=la(10,Ma(c,d,b,h)),e=U(c,d,b,h),n=this.Hc(a);if(!n)return Ga(e+na);var g=n,f,l,t,m,v=Q(5);for(f=1;36>f;f++)if(l=e-f*v,a.x=c+Math.cos(l)*k,a.y=d+Math.sin(l)*k,a.J(),!this.be(a,g)&&(g=this.Hc(a),!g)){t=l;break}36===f&&(t=Ga(e+na));g=n;for(f=1;36>f;f++)if(l=e+f*v,a.x=c+Math.cos(l)*k,a.y=d+Math.sin(l)*k,a.J(),!this.be(a,g)&&(g=this.Hc(a),!g)){m=l;break}36===f&&(m=Ga(e+na));a.x=b;a.y=h;a.J();if(m===t)return m;a=Ja(m,t)/2;a=La(m,t)?Ga(t+a+na):Ga(m+a);t=Math.cos(e);
e=Math.sin(e);m=Math.cos(a);a=Math.sin(a);c=t*m+e*a;return U(0,0,t-2*c*m,e-2*c*a)};var W=-1;f.prototype.trigger=function(a,c,d){if(!this.aa)return!1;var b=this.aa.oe;if(!b)return!1;var h=!1,k,e,n;W++;var g=b.ij;e=0;for(n=g.length;e<n;++e)k=this.jo(a,c,g[e],d),h=h||k;k=this.jo(a,c,b,d);W--;return h||k};f.prototype.jo=function(a,c,d,b){var h=!1,k,e,n,g;if(c)for(n=this.fl(a,c,c.type.name,d,b),h=h||n,g=c.type.qa,k=0,e=g.length;k<e;++k)n=this.fl(a,c,g[k].name,d,b),h=h||n;else n=this.fl(a,c,"system",d,
b),h=h||n;return h};f.prototype.fl=function(a,c,d,b,h){var k,e=!1,n=!1,n="undefined"!==typeof h,g=(n?b.cm:b.ko)[d];if(!g)return e;var f=null;b=0;for(k=g.length;b<k;++b)if(g[b].method==a){f=g[b].Tf;break}if(!f)return e;var l;n?l=f[h]:l=f;if(!l)return null;b=0;for(k=l.length;b<k;b++)a=l[b][0],h=l[b][1],n=this.$q(c,d,a,h),e=e||n;return e};f.prototype.$q=function(a,c,d,b){var h,k,e=!1;this.gl++;var n=this.Ra().Gb;n&&this.Kg(n.ae);var g=1<this.gl;this.Kg(d.ae);g&&this.Js();var f=this.pi(d);f.Gb=d;a&&(h=
this.types[c].R(),h.W=!1,O(h.d),h.d[0]=a,this.types[c].Mc());a=!0;if(d.parent){c=f.ao;for(h=d.parent;h;)c.push(h),h=h.parent;c.reverse();h=0;for(k=c.length;h<k;h++)if(!c[h].Rs()){a=!1;break}}a&&(this.qe++,d.jc?d.Qs(b):d.Ea(),e=e||f.ze);this.mi();g&&this.As();this.Ke(d.ae);n&&this.Ke(n.ae);this.Jd&&0===this.Xb&&0===W&&!this.Tj&&this.ab();this.gl--;return e};f.prototype.gf=function(){var a=this.Ra();return a.Gb.Qa[a.Ga]};f.prototype.kr=function(){return this.gf().type};f.prototype.$r=function(){return 0===
this.Ra().Ga};f.prototype.jr=function(){var a=this.Ra();return a.Gb.fc[a.Rb]};f.prototype.Js=function(){this.ei++;this.ei>=this.mk.length&&this.mk.push([])};f.prototype.As=function(){this.ei--};f.prototype.im=function(){return this.mk[this.ei]};f.prototype.pi=function(a){this.Ah++;this.Ah>=this.mj.length&&this.mj.push(new Jb);var c=this.Ra();c.reset(a);return c};f.prototype.mi=function(){this.Ah--};f.prototype.Ra=function(){return this.mj[this.Ah]};f.prototype.jm=function(a,c){for(var d,b,h,k,e,n;c;){d=
0;for(b=c.oc.length;d<b;d++)if(n=c.oc[d],n instanceof Kb&&db(a,n.name))return n;c=c.parent}d=0;for(b=this.dd.length;d<b;d++)for(e=this.dd[d],h=0,k=e.Hd.length;h<k;h++)if(n=e.Hd[h],n instanceof Kb&&db(a,n.name))return n;return null};f.prototype.km=function(a){var c,d;c=0;for(d=this.Lb.length;c<d;c++)if(this.Lb[c].T===a)return this.Lb[c];return null};f.prototype.Wf=function(a){var c,d;c=0;for(d=this.p.length;c<d;c++)if(this.p[c].T===a)return this.p[c];return null};f.prototype.mr=function(a){var c,d;
c=0;for(d=this.We.length;c<d;c++)if(this.We[c].T===a)return this.We[c];return null};f.prototype.Xp=function(a,c){this.Rg=[a,c];this.fa=!0};f.prototype.Pr=function(){var a=this,c=this.Mk,d=this.jd,b=this.$h,h=!1;this.Xn&&(h=!0,c="__c2_continuouspreview",this.Xn=!1);if(c.length){this.ab();d=this.Vs();if(m()&&!this.Ac)q(c,d,function(){da("Saved state to IndexedDB storage ("+d.length+" bytes)");a.jd=d;a.trigger(Y.prototype.n.Pi,null);d=a.jd="";h&&g()},function(b){try{localStorage.setItem("__c2save_"+
c,d),da("Saved state to WebStorage ("+d.length+" bytes)"),a.jd=d,a.trigger(Y.prototype.n.Pi,null),d=a.jd="",h&&g()}catch(k){da("Failed to save game state: "+b+"; "+k),a.trigger(Y.prototype.n.yl,null)}});else try{localStorage.setItem("__c2save_"+c,d),da("Saved state to WebStorage ("+d.length+" bytes)"),a.jd=d,this.trigger(Y.prototype.n.Pi,null),d=a.jd="",h&&g()}catch(k){da("Error saving to WebStorage: "+k),a.trigger(Y.prototype.n.yl,null)}this.$h=this.Mk="";this.Ja=null}if(b.length){if(m()&&!this.Ac)r(b,
function(c){c?(a.Ja=c,da("Loaded state from IndexedDB storage ("+a.Ja.length+" bytes)")):(a.Ja=localStorage.getItem("__c2save_"+b)||"",da("Loaded state from WebStorage ("+a.Ja.length+" bytes)"));a.Sg=!1;a.Ja||(a.Ja=null,a.trigger(Y.prototype.n.eh,null))},function(){a.Ja=localStorage.getItem("__c2save_"+b)||"";da("Loaded state from WebStorage ("+a.Ja.length+" bytes)");a.Sg=!1;a.Ja||(a.Ja=null,a.trigger(Y.prototype.n.eh,null))});else{try{this.Ja=localStorage.getItem("__c2save_"+b)||"",da("Loaded state from WebStorage ("+
this.Ja.length+" bytes)")}catch(e){this.Ja=null}this.Sg=!1;a.Ja||(a.Ja=null,a.trigger(Y.prototype.n.eh,null))}this.Mk=this.$h=""}null!==this.Ja&&(this.ab(),this.ks(this.Ja)?(this.jd=this.Ja,this.trigger(Y.prototype.n.hp,null),this.jd=""):a.trigger(Y.prototype.n.eh,null),this.Ja=null)};f.prototype.Vs=function(){var c,d,b,h,k,e,n,g={c2save:!0,version:1,rt:{time:this.Kb.oa,walltime:this.Ni.oa,timescale:this.Bf,tickcount:this.qc,execcount:this.qe,next_uid:this.Dg,running_layout:this.aa.T,start_time_offset:Date.now()-
this.Ci},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};c=0;for(d=this.p.length;c<d;c++)if(k=this.p[c],!k.D&&!this.hl(k)){e={instances:[]};Oa(k.A)&&(e.ex=a(k.A));b=0;for(h=k.d.length;b<h;b++)e.instances.push(this.Lk(k.d[b]));g.types[k.T.toString()]=e}c=0;for(d=this.Lb.length;c<d;c++)b=this.Lb[c],g.layouts[b.T.toString()]=b.kb();h=g.events.groups;c=0;for(d=this.We.length;c<d;c++)b=this.We[c],h[b.T.toString()]=this.$f[b.Zf].hf;d=g.events.cnds;for(n in this.Dd)this.Dd.hasOwnProperty(n)&&
(c=this.Dd[n],Oa(c.A)&&(d[n]={ex:a(c.A)}));d=g.events.acts;for(n in this.zd)this.zd.hasOwnProperty(n)&&(c=this.zd[n],Oa(c.A)&&(d[n]={ex:a(c.A)}));d=g.events.vars;for(n in this.Ef)this.Ef.hasOwnProperty(n)&&(c=this.Ef[n],c.Rh||c.parent&&!c.mg||(d[n]=c.data));g.system=this.Yc.kb();return JSON.stringify(g)};f.prototype.In=function(){var a,c,d,b,h,k;this.md={};a=0;for(c=this.p.length;a<c;a++)if(d=this.p[a],!d.D)for(b=0,h=d.d.length;b<h;b++)k=d.d[b],this.md[k.uid.toString()]=k};f.prototype.ks=function(a){var c;
try{c=JSON.parse(a)}catch(d){return!1}if(!c.c2save||1<c.version)return!1;this.ig=!0;a=c.rt;this.Kb.reset();this.Kb.oa=a.time;this.Ni.reset();this.Ni.oa=a.walltime||0;this.Bf=a.timescale;this.qc=a.tickcount;this.qe=a.execcount;this.Ci=Date.now()-a.start_time_offset;var b=a.running_layout;if(b!==this.aa.T)if(b=this.km(b))this.Yl(b);else return;var h,k,e,n,g,f,l;f=c.types;for(k in f)if(f.hasOwnProperty(k)&&(n=this.Wf(parseInt(k,10)))&&!n.D&&!this.hl(n)){f[k].ex?n.A=f[k].ex:Pa(n.A);g=n.d;e=f[k].instances;
b=0;for(h=ma(g.length,e.length);b<h;b++)this.ai(g[b],e[b]);b=e.length;for(h=g.length;b<h;b++)this.Re(g[b]);b=g.length;for(h=e.length;b<h;b++){g=null;if(n.ka.Nd&&(g=this.aa.Kh(e[b].w.l),!g))continue;g=this.Fd(n.hc,g,!1,0,0,!0);this.ai(g,e[b])}n.Af=!0}this.ab();this.In();h=c.layouts;for(k in h)h.hasOwnProperty(k)&&(b=this.km(parseInt(k,10)))&&b.zb(h[k]);h=c.events.groups;for(k in h)h.hasOwnProperty(k)&&(b=this.mr(parseInt(k,10)))&&this.$f[b.Zf]&&this.$f[b.Zf].Ws(h[k]);b=c.events.cnds;for(k in this.Dd)this.Dd.hasOwnProperty(k)&&
(b.hasOwnProperty(k)?this.Dd[k].A=b[k].ex:this.Dd[k].A={});b=c.events.acts;for(k in this.zd)this.zd.hasOwnProperty(k)&&(b.hasOwnProperty(k)?this.zd[k].A=b[k].ex:this.zd[k].A={});b=c.events.vars;for(k in b)b.hasOwnProperty(k)&&this.Ef.hasOwnProperty(k)&&(this.Ef[k].data=b[k]);this.Dg=a.next_uid;this.ig=!1;b=0;for(h=this.Ch.length;b<h;++b)g=this.Ch[b],this.trigger(Object.getPrototypeOf(g.type.ka).n.Ue,g);O(this.Ch);this.Yc.zb(c.system);b=0;for(h=this.p.length;b<h;b++)if(n=this.p[b],!n.D&&!this.hl(n))for(c=
0,k=n.d.length;c<k;c++){g=n.d[c];if(n.jb)for(f=g.Yf(),O(g.siblings),a=0,e=n.Fb.length;a<e;a++)l=n.Fb[a],n!==l&&g.siblings.push(l.d[f]);g.Ad&&g.Ad();if(g.F)for(a=0,e=g.F.length;a<e;a++)f=g.F[a],f.Ad&&f.Ad()}return this.fa=!0};f.prototype.Lk=function(c,d){var b,h,k,e,n;e=c.type;k=e.ka;var g={};d?g.c2=!0:g.uid=c.uid;Oa(c.A)&&(g.ex=a(c.A));if(c.Ha&&c.Ha.length)for(g.ivs={},b=0,h=c.Ha.length;b<h;b++)g.ivs[c.type.Mj[b].toString()]=c.Ha[b];if(k.Nd){k={x:c.x,y:c.y,w:c.width,h:c.height,l:c.k.T,zi:c.Sc()};
0!==c.j&&(k.a=c.j);1!==c.opacity&&(k.o=c.opacity);.5!==c.wb&&(k.hX=c.wb);.5!==c.xb&&(k.hY=c.xb);0!==c.bb&&(k.bm=c.bb);c.visible||(k.v=c.visible);c.Oc||(k.ce=c.Oc);-1!==c.Cg&&(k.mts=c.Cg);if(e.L.length)for(k.fx=[],b=0,h=e.L.length;b<h;b++)n=e.L[b],k.fx.push({name:n.name,active:c.yd[n.index],params:c.xa[n.index]});g.w=k}if(c.F&&c.F.length)for(g.behs={},b=0,h=c.F.length;b<h;b++)e=c.F[b],e.kb&&(g.behs[e.type.T.toString()]=e.kb());c.kb&&(g.data=c.kb());return g};f.prototype.or=function(a,c){var d,b;d=
0;for(b=a.Mj.length;d<b;d++)if(a.Mj[d]===c)return d;return-1};f.prototype.ir=function(a,c){var d,b;d=0;for(b=a.F.length;d<b;d++)if(a.F[d].type.T===c)return d;return-1};f.prototype.ai=function(a,c,d){var b,h,k,e,n;n=a.type;var g=n.ka;if(d){if(!c.c2)return}else a.uid=c.uid;c.ex?a.A=c.ex:Pa(a.A);if(h=c.ivs)for(b in h)h.hasOwnProperty(b)&&(k=this.or(n,parseInt(b,10)),0>k||k>=a.Ha.length||(e=h[b],null===e&&(e=NaN),a.Ha[k]=e));if(g.Nd){k=c.w;a.k.T!==k.l&&(h=a.k,a.k=this.aa.Kh(k.l),a.k?(h.wf(a,!0),a.k.If(a,
!0),a.J(),a.k.Ng(0)):(a.k=h,d||this.Re(a)));a.x=k.x;a.y=k.y;a.width=k.w;a.height=k.h;a.Kc=k.zi;a.j=k.hasOwnProperty("a")?k.a:0;a.opacity=k.hasOwnProperty("o")?k.o:1;a.wb=k.hasOwnProperty("hX")?k.hX:.5;a.xb=k.hasOwnProperty("hY")?k.hY:.5;a.visible=k.hasOwnProperty("v")?k.v:!0;a.Oc=k.hasOwnProperty("ce")?k.ce:!0;a.Cg=k.hasOwnProperty("mts")?k.mts:-1;a.bb=k.hasOwnProperty("bm")?k.bm:0;a.Mf=ab(a.bb);this.q&&bb(a,a.bb,this.q);a.J();if(k.hasOwnProperty("fx"))for(d=0,h=k.fx.length;d<h;d++)e=n.yj(k.fx[d].name),
0>e||(a.yd[e]=k.fx[d].active,a.xa[e]=k.fx[d].params);a.Jc()}if(n=c.behs)for(b in n)n.hasOwnProperty(b)&&(d=this.ir(a,parseInt(b,10)),0>d||a.F[d].zb(n[b]));c.data&&a.zb(c.data)};f.prototype.dm=function(a,c,d){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(c,d)},d)};f.prototype.cr=function(a,c){this.dm("data.js",function(d){var b=new FileReader;b.onload=function(c){a(c.target.result)};b.onerror=c;b.readAsText(d)},c)};var ja=[],K=0;f.prototype.nk=function(){if(ja.length&&
!(8<=K)){K++;var a=ja.shift();this.Zp(a.filename,a.et,a.xq)}};f.prototype.br=function(a,c,d){var b=this;ja.push({filename:a,et:function(a){K--;b.nk();c(a)},xq:function(a){K--;b.nk();d(a)}});this.nk()};f.prototype.Zp=function(a,c,d){this.dm(a,function(a){var d=new FileReader;d.onload=function(a){c(a.target.result)};d.readAsArrayBuffer(a)},d)};f.prototype.dr=function(a,c,d){var b="",k=a.toLowerCase(),h=k.substr(k.length-4),k=k.substr(k.length-5);".mp4"===h?b="video/mp4":".webm"===k?b="video/webm":".m4a"===
h?b="audio/mp4":".mp3"===h&&(b="audio/mpeg");this.br(a,function(a){a=URL.createObjectURL(new Blob([a],{type:b}));c(a)},d)};f.prototype.Vr=function(a){return/^(?:[a-z]+:)?\/\//.test(a)||"data:"===a.substr(0,5)||"blob:"===a.substr(0,5)};f.prototype.Qn=function(a,c){this.Dm&&!this.Vr(c)?this.dr(c,function(c){a.src=c},function(a){alert("Failed to load image: "+a)}):a.src=c};f.prototype.wi=function(a,c){"undefined"!==typeof a.imageSmoothingEnabled?a.imageSmoothingEnabled=c:(a.webkitImageSmoothingEnabled=
c,a.mozImageSmoothingEnabled=c,a.msImageSmoothingEnabled=c)};Lb=function(a){return new f(document.getElementById(a))};Mb=function(a,c){return new f({dc:!0,width:a,height:c})};window.cr_createRuntime=Lb;window.cr_createDCRuntime=Mb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.Fl=!0;document.body.appendChild(a);a=new f(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,
window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a};window.createEjectaRuntime=function(){var a=new f(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var f=document.getElementById("c2canvas");return f?f.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(f,l){var m=window.cr_getC2Runtime();m&&m.Xp(f,l)};
window.cr_sizeCanvas=function(f,l){if(0!==f&&0!==l){var m=window.cr_getC2Runtime();m&&m.setSize(f,l)}};window.cr_setSuspended=function(f){var l=window.cr_getC2Runtime();l&&l.setSuspended(f)};
(function(){function f(a,d){this.b=a;this.oe=null;this.scrollX=this.b.La/2;this.scrollY=this.b.Ka/2;this.scale=1;this.j=0;this.ef=!0;this.name=d[0];this.xs=d[1];this.ws=d[2];this.width=d[1];this.height=d[2];this.no=d[3];this.Vn=d[4];this.T=d[5];var b=d[6],h,e;this.M=[];this.dg=[];h=0;for(e=b.length;h<e;h++){var g=new Nb(this,b[h]);g.sn=h;this.M.push(g)}b=d[7];this.Kd=[];h=0;for(e=b.length;h<e;h++){var g=b[h],f=this.b.p[g[1]];f.hc||(f.hc=g);this.Kd.push(g);-1===this.dg.indexOf(f)&&this.dg.push(f)}this.L=
[];this.X=[];this.qd=!0;this.xa=[];h=0;for(e=d[8].length;h<e;h++)this.L.push({id:d[8][h][0],name:d[8][h][1],Fa:-1,Dc:!1,Sb:!0,index:h}),this.xa.push(d[8][h][2].slice(0));this.Jc();this.Wd=new sa(0,0,1,1);this.Fk=new sa(0,0,1,1);this.Vd={}}function l(a,d){return a.Kc-d.Kc}function m(a,d){this.Ca=a;this.b=a.b;this.d=[];this.scale=1;this.j=0;this.bd=!1;this.ud=new sa(0,0,0,0);this.io=new ta;this.ca=this.Z=this.da=this.Y=0;this.Qe=!1;this.wd=-1;this.bj=0;this.name=d[0];this.index=d[1];this.T=d[2];this.visible=
d[3];this.uc=d[4];this.Ic=d[5];this.nd=d[6];this.od=d[7];this.opacity=d[8];this.Fh=d[9];this.cc=d[10];this.dh=d[11];this.bb=d[12];this.tq=d[13];this.Mf="source-over";this.ib=this.lb=0;this.$a=null;this.kd=p();this.Fc=!0;this.qf=new sa(0,0,-1,-1);this.Wa=new sa(0,0,-1,-1);this.cc&&(this.$a=new $a(this.b.La,this.b.Ka));this.Wc=!1;var b=d[14],h,e;this.$n=[];this.Wb=[];this.Of=[];h=0;for(e=b.length;h<e;h++){var g=b[h],f=this.b.p[g[1]];f.hc||(f.hc=g,f.Wp=this.index);this.Wb.push(g);-1===this.Ca.dg.indexOf(f)&&
this.Ca.dg.push(f)}xa(this.$n,this.Wb);this.L=[];this.X=[];this.qd=!0;this.xa=[];h=0;for(e=d[15].length;h<e;h++)this.L.push({id:d[15][h][0],name:d[15][h][1],Fa:-1,Dc:!1,Sb:!0,index:h}),this.xa.push(d[15][h][2].slice(0));this.Jc();this.Wd=new sa(0,0,1,1);this.Fk=new sa(0,0,1,1)}function p(){return a.length?a.pop():[]}function q(c){O(c);a.push(c)}f.prototype.Us=function(a){var d=a.type.T.toString();this.Vd.hasOwnProperty(d)||(this.Vd[d]=[]);this.Vd[d].push(this.b.Lk(a))};f.prototype.pm=function(){var a=
this.M[0];return!a.Ic&&1===a.opacity&&!a.Fh&&a.visible};f.prototype.Jc=function(){O(this.X);this.qd=!0;var a,d,b;a=0;for(d=this.L.length;a<d;a++)b=this.L[a],b.Sb&&(this.X.push(b),b.Dc||(this.qd=!1))};f.prototype.xj=function(a){var d,b,h;d=0;for(b=this.L.length;d<b;d++)if(h=this.L[d],h.name===a)return h;return null};var r=[],g=!0;f.prototype.Zk=function(){this.Vn&&(this.oe=this.b.nj[this.Vn],this.oe.kl());this.b.aa=this;this.width=this.xs;this.height=this.ws;this.scrollX=this.b.La/2;this.scrollY=this.b.Ka/
2;var a,d,b,h,e,f,m;a=0;for(b=this.b.p.length;a<b;a++)if(d=this.b.p[a],!d.D)for(e=d.d,d=0,h=e.length;d<h;d++)if(f=e[d],f.k){var n=f.k.sn;n>=this.M.length&&(n=this.M.length-1);f.k=this.M[n];-1===f.k.d.indexOf(f)&&f.k.d.push(f);f.k.Qe=!0}if(!g)for(a=0,b=this.M.length;a<b;++a)this.M[a].d.sort(l);O(r);this.Hp();a=0;for(b=this.M.length;a<b;a++)f=this.M[a],f.Tp(),f.Li();e=!1;if(!this.ef){for(m in this.Vd)if(this.Vd.hasOwnProperty(m)&&(d=this.b.Wf(parseInt(m,10)))&&!d.D&&this.b.il(d)){h=this.Vd[m];a=0;for(b=
h.length;a<b;a++){f=null;if(d.ka.Nd&&(f=this.Kh(h[a].w.l),!f))continue;f=this.b.Fd(d.hc,f,!1,0,0,!0);this.b.ai(f,h[a]);e=!0;r.push(f)}O(h)}a=0;for(b=this.M.length;a<b;a++)this.M[a].d.sort(l),this.M[a].Qe=!0}e&&(this.b.ab(),this.b.In());for(a=0;a<r.length;a++)if(f=r[a],f.type.jb)for(b=f.Yf(),d=0,h=f.type.Fb.length;d<h;d++)m=f.type.Fb[d],f.type!==m&&(m.d.length>b?f.siblings.push(m.d[b]):m.hc&&(e=this.b.Fd(m.hc,f.k,!0,f.x,f.y,!0),this.b.ab(),m.Ki(),f.siblings.push(e),r.push(e)));a=0;for(b=this.Kd.length;a<
b;a++)f=this.Kd[a],d=this.b.p[f[1]],d.jb||this.b.Fd(this.Kd[a],null,!0);this.b.Lf=null;this.b.ab();if(this.b.pa&&!this.b.yb)for(a=0,b=this.b.p.length;a<b;a++)m=this.b.p[a],!m.D&&m.d.length&&m.xk&&m.xk(this.b.pa);if(this.b.ig)xa(this.b.Ch,r);else for(a=0,b=r.length;a<b;a++)f=r[a],this.b.trigger(Object.getPrototypeOf(f.type.ka).n.Ue,f);O(r);this.b.ig||this.b.trigger(Y.prototype.n.gp,null);this.ef=!1};f.prototype.Sp=function(){var a,d,b,h,e;d=a=0;for(b=this.Kd.length;a<b;a++)h=this.Kd[a],e=this.b.p[h[1]],
e.global?e.jb||this.b.Fd(h,null,!0):(this.Kd[d]=h,d++);wa(this.Kd,d)};f.prototype.dt=function(){this.b.ig||this.b.trigger(Y.prototype.n.fp,null);this.b.Pj=!0;O(this.b.Yc.Qb);var a,d,b,h,e,f;if(!this.ef)for(a=0,d=this.M.length;a<d;a++)for(this.M[a].ml(),e=this.M[a].d,b=0,h=e.length;b<h;b++)f=e[b],f.type.global||this.b.il(f.type)&&this.Us(f);a=0;for(d=this.M.length;a<d;a++){e=this.M[a].d;b=0;for(h=e.length;b<h;b++)f=e[b],f.type.global||this.b.Re(f);this.b.ab();O(e);this.M[a].Qe=!0}a=0;for(d=this.b.p.length;a<
d;a++)if(e=this.b.p[a],!(e.global||e.ka.Nd||e.ka.Bi||e.D)){b=0;for(h=e.d.length;b<h;b++)this.b.Re(e.d[b]);this.b.ab()}g=!1;this.b.Pj=!1};new sa(0,0,0,0);f.prototype.yc=function(a){var d,b=a,h=!1,e=!this.b.Ub;e&&(this.b.Zh||(this.b.Zh=document.createElement("canvas"),d=this.b.Zh,d.width=this.b.I,d.height=this.b.H,this.b.Pm=d.getContext("2d"),h=!0),d=this.b.Zh,b=this.b.Pm,d.width!==this.b.I&&(d.width=this.b.I,h=!0),d.height!==this.b.H&&(d.height=this.b.H,h=!0),h&&this.b.wi(b,this.b.na));b.globalAlpha=
1;b.globalCompositeOperation="source-over";this.b.Pl&&!this.pm()&&b.clearRect(0,0,this.b.I,this.b.H);var g,f,h=0;for(g=this.M.length;h<g;h++)f=this.M[h],f.visible&&0<f.opacity&&11!==f.bb&&(f.d.length||!f.Ic)?f.yc(b):f.Li();e&&a.drawImage(d,0,0,this.b.width,this.b.height)};f.prototype.le=function(a){a.Pn(!0);this.b.Da||(this.b.Da=a.sb(this.b.I,this.b.H,this.b.na));if(this.b.Da.je!==this.b.I||this.b.Da.ie!==this.b.H)a.deleteTexture(this.b.Da),this.b.Da=a.sb(this.b.I,this.b.H,this.b.na);a.nc(this.b.Da);
this.b.Ub||a.Ne(this.b.I,this.b.H);var d,b;for(d=this.M.length-1;0<=d;--d)b=this.M[d],b.visible&&1===b.opacity&&b.qd&&0===b.bb&&(b.d.length||!b.Ic)?b.le(a):b.Li();a.Pn(!1)};f.prototype.tb=function(a){var d=0<this.X.length||this.b.Cf||!this.b.Ub||this.b.ia;if(d){this.b.Da||(this.b.Da=a.sb(this.b.I,this.b.H,this.b.na));if(this.b.Da.je!==this.b.I||this.b.Da.ie!==this.b.H)a.deleteTexture(this.b.Da),this.b.Da=a.sb(this.b.I,this.b.H,this.b.na);a.nc(this.b.Da);this.b.Ub||a.Ne(this.b.I,this.b.H)}else this.b.Da&&
(a.nc(null),a.deleteTexture(this.b.Da),this.b.Da=null);this.b.Pl&&!this.pm()&&a.clear(0,0,0,0);var b,h,e;b=0;for(h=this.M.length;b<h;b++)e=this.M[b],e.visible&&0<e.opacity&&(e.d.length||!e.Ic)?e.tb(a):e.Li();d&&(0===this.X.length||1===this.X.length&&this.b.Ub?(1===this.X.length?(d=this.X[0].index,a.Db(this.X[0].Fa),a.yf(null,1/this.b.I,1/this.b.H,0,0,1,1,this.scale,this.j,0,0,this.b.I/2,this.b.H/2,this.b.Kb.oa,this.xa[d]),a.ni(this.X[0].Fa)&&(this.b.fa=!0)):a.Db(0),this.b.Ub||a.Ne(this.b.width,this.b.height),
a.nc(null),a.On(!1),a.Yd(1),a.Ma(this.b.Da),a.Mn(),a.mc(),a.ac(),d=this.b.width/2,b=this.b.height/2,a.Le(-d,b,d,b,d,-b,-d,-b),a.Ma(null),a.On(!0)):this.Gk(a,null,null,null))};f.prototype.Xf=function(){return 0<this.X.length||this.b.Cf||!this.b.Ub||this.b.ia?this.b.Da:null};f.prototype.lm=function(){var a=this.M[0].Jb(),d,b,h;d=1;for(b=this.M.length;d<b;d++)h=this.M[d],(0!==h.nd||0!==h.od)&&h.Jb()<a&&(a=h.Jb());return a};f.prototype.Nk=function(a){if(!this.no){var d=1/this.lm()*this.b.I/2;a>this.width-
d&&(a=this.width-d);a<d&&(a=d)}this.scrollX!==a&&(this.scrollX=a,this.b.fa=!0)};f.prototype.Ok=function(a){if(!this.no){var d=1/this.lm()*this.b.H/2;a>this.height-d&&(a=this.height-d);a<d&&(a=d)}this.scrollY!==a&&(this.scrollY=a,this.b.fa=!0)};f.prototype.Hp=function(){this.Nk(this.scrollX);this.Ok(this.scrollY)};f.prototype.Gk=function(a,d,b,h){var e=b?b.X:d?d.X:this.X,g=1,f=0,n=0,l=0,m=this.b.I,v=this.b.H;b?(g=b.k.Jb(),f=b.k.Ib(),n=b.k.Y,l=b.k.Z,m=b.k.da,v=b.k.ca):d&&(g=d.Jb(),f=d.Ib(),n=d.Y,l=
d.Z,m=d.da,v=d.ca);var u=this.b.tj,p,q,r,F,M=0,V=1,G,R,E=this.b.I,I=this.b.H,W=E/2,ja=I/2,K=d?d.Wd:this.Wd,x=d?d.Fk:this.Fk,z=0,B=0,A=0,J=0,S=E,ya=E,P=I,za=I,pa=r=0;F=b?b.k.Ib():0;if(b){p=0;for(q=e.length;p<q;p++)r+=a.ur(e[p].Fa),pa+=a.xr(e[p].Fa);J=b.ea;z=d.ra(J.left,J.top,!0,!0);A=d.ra(J.left,J.top,!1,!0);S=d.ra(J.right,J.bottom,!0,!0);P=d.ra(J.right,J.bottom,!1,!0);0!==F&&(p=d.ra(J.right,J.top,!0,!0),q=d.ra(J.right,J.top,!1,!0),B=d.ra(J.left,J.bottom,!0,!0),J=d.ra(J.left,J.bottom,!1,!0),F=Math.min(z,
S,p,B),S=Math.max(z,S,p,B),z=F,F=Math.min(A,P,q,J),P=Math.max(A,P,q,J),A=F);z-=r;A-=pa;S+=r;P+=pa;x.left=z/E;x.top=1-A/I;x.right=S/E;x.bottom=1-P/I;B=z=N(z);J=A=N(A);ya=S=qa(S);za=P=qa(P);B-=r;J-=pa;ya+=r;za+=pa;0>z&&(z=0);0>A&&(A=0);S>E&&(S=E);P>I&&(P=I);0>B&&(B=0);0>J&&(J=0);ya>E&&(ya=E);za>I&&(za=I);K.left=z/E;K.top=1-A/I;K.right=S/E;K.bottom=1-P/I}else K.left=x.left=0,K.top=x.top=0,K.right=x.right=1,K.bottom=x.bottom=1;pa=b&&(a.Ig(e[0].Fa)||0!==r||0!==pa||1!==b.opacity||b.type.ka.pn)||d&&!b&&
1!==d.opacity;a.Mn();if(pa){u[M]||(u[M]=a.sb(E,I,this.b.na));if(u[M].je!==E||u[M].ie!==I)a.deleteTexture(u[M]),u[M]=a.sb(E,I,this.b.na);a.Db(0);a.nc(u[M]);R=za-J;a.clearRect(B,I-J-R,ya-B,R);b?b.tb(a):(a.Ma(this.b.Ia),a.Yd(d.opacity),a.mc(),a.translate(-W,-ja),a.ac(),a.Vc(z,P,S,P,S,A,z,A,K));x.left=x.top=0;x.right=x.bottom=1;b&&(F=K.top,K.top=K.bottom,K.bottom=F);M=1;V=0}a.Yd(1);r=e.length-1;var Za=a.zk(e[r].Fa)||!d&&!b&&!this.b.Ub;p=F=0;for(q=e.length;p<q;p++){u[M]||(u[M]=a.sb(E,I,this.b.na));if(u[M].je!==
E||u[M].ie!==I)a.deleteTexture(u[M]),u[M]=a.sb(E,I,this.b.na);a.Db(e[p].Fa);F=e[p].index;a.ni(e[p].Fa)&&(this.b.fa=!0);0!=p||pa?(a.yf(h,1/E,1/I,x.left,x.top,x.right,x.bottom,g,f,n,l,(n+m)/2,(l+v)/2,this.b.Kb.oa,b?b.xa[F]:d?d.xa[F]:this.xa[F]),a.Ma(null),p!==r||Za?(a.nc(u[M]),R=za-J,G=I-J-R,a.clearRect(B,G,ya-B,R)):(b?a.Xd(b.lb,b.ib):d&&a.Xd(d.lb,d.ib),a.nc(h)),a.Ma(u[V]),a.mc(),a.translate(-W,-ja),a.ac(),a.Vc(z,P,S,P,S,A,z,A,K),p!==r||Za||a.Ma(null)):(a.nc(u[M]),R=za-J,G=I-J-R,a.clearRect(B,G,ya-
B,R),b?(b.Va&&b.Va.U?(G=b.Va.U,V=1/G.width,G=1/G.height):(V=1/b.width,G=1/b.height),a.yf(h,V,G,x.left,x.top,x.right,x.bottom,g,f,n,l,(n+m)/2,(l+v)/2,this.b.Kb.oa,b.xa[F]),b.tb(a)):(a.yf(h,1/E,1/I,0,0,1,1,g,f,n,l,(n+m)/2,(l+v)/2,this.b.Kb.oa,d?d.xa[F]:this.xa[F]),a.Ma(d?this.b.Ia:this.b.Da),a.mc(),a.translate(-W,-ja),a.ac(),a.Vc(z,P,S,P,S,A,z,A,K)),x.left=x.top=0,x.right=x.bottom=1,b&&!Za&&(F=P,P=A,A=F));M=0===M?1:0;V=0===M?1:0}Za&&(a.Db(0),b?a.Xd(b.lb,b.ib):d?a.Xd(d.lb,d.ib):this.b.Ub||(a.Ne(this.b.width,
this.b.height),W=this.b.width/2,ja=this.b.height/2,A=z=0,S=this.b.width,P=this.b.height),a.nc(h),a.Ma(u[V]),a.mc(),a.translate(-W,-ja),a.ac(),b&&1===e.length&&!pa?a.Vc(z,A,S,A,S,P,z,P,K):a.Vc(z,P,S,P,S,A,z,A,K),a.Ma(null))};f.prototype.Kh=function(a){var b,e;b=0;for(e=this.M.length;b<e;b++)if(this.M[b].T===a)return this.M[b];return null};f.prototype.kb=function(){var a,b,e,h={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.j,w:this.width,h:this.height,fv:this.ef,persist:this.Vd,fx:[],layers:{}};
a=0;for(b=this.L.length;a<b;a++)e=this.L[a],h.fx.push({name:e.name,active:e.Sb,params:this.xa[e.index]});a=0;for(b=this.M.length;a<b;a++)e=this.M[a],h.layers[e.T.toString()]=e.kb();return h};f.prototype.zb=function(a){var b,e,h,g;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.j=a.a;this.width=a.w;this.height=a.h;this.Vd=a.persist;"undefined"!==typeof a.fv&&(this.ef=a.fv);var f=a.fx;b=0;for(e=f.length;b<e;b++)if(h=this.xj(f[b].name))h.Sb=f[b].active,this.xa[h.index]=f[b].params;this.Jc();
b=a.layers;for(g in b)b.hasOwnProperty(g)&&(a=this.Kh(parseInt(g,10)))&&a.zb(b[g])};zb=f;m.prototype.Jc=function(){O(this.X);this.qd=!0;var a,b,e;a=0;for(b=this.L.length;a<b;a++)e=this.L[a],e.Sb&&(this.X.push(e),e.Dc||(this.qd=!1))};m.prototype.xj=function(a){var b,e,h;b=0;for(e=this.L.length;b<e;b++)if(h=this.L[b],h.name===a)return h;return null};m.prototype.Tp=function(){var a,b,e,h,g,f;b=a=0;for(e=this.Wb.length;a<e;a++){h=this.Wb[a];g=this.b.p[h[1]];f=this.b.il(g);g=!0;if(!f||this.Ca.ef){h=this.b.Fd(h,
this,!0);if(!h)continue;r.push(h);h.type.global&&(g=!1,this.Of.push(h.uid))}g&&(this.Wb[b]=this.Wb[a],b++)}this.Wb.length=b;this.b.ab();!this.b.m&&this.L.length&&(this.bb=this.tq);this.Mf=ab(this.bb);this.b.q&&bb(this,this.bb,this.b.q);this.Fc=!0};m.prototype.wf=function(a,b){var e=Ba(this.d,a);0>e||(b&&this.cc&&a.Cb&&a.Cb.right>=a.Cb.left&&(a.ba(),this.$a.update(a,a.Cb,null),a.Cb.set(0,0,-1,-1)),e===this.d.length-1?this.d.pop():(va(this.d,e),this.Ng(e)),this.Fc=!0)};m.prototype.If=function(a,b){a.Kc=
this.d.length;this.d.push(a);b&&this.cc&&a.Cb&&a.J();this.Fc=!0};m.prototype.Fs=function(a){this.d.unshift(a);this.Ng(0)};m.prototype.os=function(a,b,e){var h=a.Sc();b=b.Sc();va(this.d,h);h<b&&b--;e&&b++;b===this.d.length?this.d.push(a):this.d.splice(b,0,a);this.Ng(h<b?h:b)};m.prototype.Ng=function(a){-1===this.wd?this.wd=a:a<this.wd&&(this.wd=a);this.Fc=this.Qe=!0};m.prototype.ml=function(){if(this.Qe){-1===this.wd&&(this.wd=0);var a,b,e;if(this.cc)for(a=this.wd,b=this.d.length;a<b;++a)e=this.d[a],
e.Kc=a,this.$a.ms(e.Cb);else for(a=this.wd,b=this.d.length;a<b;++a)this.d[a].Kc=a;this.Qe=!1;this.wd=-1}};m.prototype.Jb=function(a){return this.rr()*(this.b.Ub||a?this.b.Jf:1)};m.prototype.rr=function(){return(this.scale*this.Ca.scale-1)*this.dh+1};m.prototype.Ib=function(){return this.bd?0:Ga(this.Ca.j+this.j)};var a=[],b=[],e=[];m.prototype.Aj=function(){this.ml();this.$a.qi(this.Y,this.Z,this.da,this.ca,e);if(!e.length)return p();if(1===e.length){var a=p();xa(a,e[0]);O(e);return a}for(var d=!0;1<
e.length;){for(var a=e,k=void 0,h=void 0,g=void 0,f=void 0,l=void 0,k=0,h=a.length;k<h-1;k+=2){var g=a[k],f=a[k+1],l=p(),n=g,t=f,m=l,v=0,u=0,D=0,r=n.length,X=t.length,F=void 0,M=void 0;for(m.length=r+X;v<r&&u<X;++D)F=n[v],M=t[u],F.Kc<M.Kc?(m[D]=F,++v):(m[D]=M,++u);for(;v<r;++v,++D)m[D]=n[v];for(;u<X;++u,++D)m[D]=t[u];d||(q(g),q(f));b.push(l)}1===h%2&&(d?(g=p(),xa(g,a[h-1]),b.push(g)):b.push(a[h-1]));xa(a,b);O(b);d=!1}a=e[0];O(e);return a};m.prototype.yc=function(a){this.Wc=this.Fh||1!==this.opacity||
0!==this.bb;var b=this.b.canvas,e=a,h=!1;this.Wc&&(this.b.Yh||(this.b.Yh=document.createElement("canvas"),b=this.b.Yh,b.width=this.b.I,b.height=this.b.H,this.b.Om=b.getContext("2d"),h=!0),b=this.b.Yh,e=this.b.Om,b.width!==this.b.I&&(b.width=this.b.I,h=!0),b.height!==this.b.H&&(b.height=this.b.H,h=!0),h&&this.b.wi(e,this.b.na),this.Ic&&e.clearRect(0,0,this.b.I,this.b.H));e.globalAlpha=1;e.globalCompositeOperation="source-over";this.Ic||(e.fillStyle="rgb("+this.uc[0]+","+this.uc[1]+","+this.uc[2]+")",
e.fillRect(0,0,this.b.I,this.b.H));e.save();this.bd=!0;var h=this.Cd(!0),g=this.Cd(!1);this.bd=!1;this.b.Cc&&(h=Math.round(h),g=Math.round(g));this.si(h,g,e);var f=this.Jb();e.scale(f,f);e.translate(-h,-g);this.cc?(this.Wa.left=this.$a.pb(this.Y),this.Wa.top=this.$a.qb(this.Z),this.Wa.right=this.$a.pb(this.da),this.Wa.bottom=this.$a.qb(this.ca),this.Fc||!this.Wa.Rf(this.qf)?(q(this.kd),h=this.Aj(),this.Fc=!1,this.qf.Ye(this.Wa)):h=this.kd):h=this.d;for(var l,n=null,g=0,f=h.length;g<f;++g)l=h[g],l!==
n&&(this.oq(l,e),n=l);this.cc&&(this.kd=h);e.restore();this.Wc&&(a.globalCompositeOperation=this.Mf,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};m.prototype.oq=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ba();var e=a.ea;e.right<this.Y||e.bottom<this.Z||e.left>this.da||e.top>this.ca||(b.globalCompositeOperation=a.Mf,a.yc(b))}};m.prototype.Li=function(){this.bd=!0;var a=this.Cd(!0),b=this.Cd(!1);this.bd=!1;this.b.Cc&&(a=Math.round(a),b=Math.round(b));this.si(a,b,null)};m.prototype.si=
function(a,b,e){var h=this.Jb();this.Y=a;this.Z=b;this.da=a+1/h*this.b.I;this.ca=b+1/h*this.b.H;this.Y>this.da&&(a=this.Y,this.Y=this.da,this.da=a);this.Z>this.ca&&(a=this.Z,this.Z=this.ca,this.ca=a);a=this.Ib();0!==a&&(e&&(e.translate(this.b.I/2,this.b.H/2),e.rotate(-a),e.translate(this.b.I/-2,this.b.H/-2)),this.ud.set(this.Y,this.Z,this.da,this.ca),this.ud.offset((this.Y+this.da)/-2,(this.Z+this.ca)/-2),this.io.Tn(this.ud,a),this.io.Hl(this.ud),this.ud.offset((this.Y+this.da)/2,(this.Z+this.ca)/
2),this.Y=this.ud.left,this.Z=this.ud.top,this.da=this.ud.right,this.ca=this.ud.bottom)};m.prototype.le=function(a){if(this.Wc=this.Fh){this.b.Ia||(this.b.Ia=a.sb(this.b.I,this.b.H,this.b.na));if(this.b.Ia.je!==this.b.I||this.b.Ia.ie!==this.b.H)a.deleteTexture(this.b.Ia),this.b.Ia=a.sb(this.b.I,this.b.H,this.b.na);a.nc(this.b.Ia)}this.bd=!0;var b=this.Cd(!0),e=this.Cd(!1);this.bd=!1;this.b.Cc&&(b=Math.round(b),e=Math.round(e));this.si(b,e,null);b=this.Jb();a.mc();a.scale(b,b);a.ti(-this.Ib());a.translate((this.Y+
this.da)/-2,(this.Z+this.ca)/-2);a.ac();this.cc?(this.Wa.left=this.$a.pb(this.Y),this.Wa.top=this.$a.qb(this.Z),this.Wa.right=this.$a.pb(this.da),this.Wa.bottom=this.$a.qb(this.ca),this.Fc||!this.Wa.Rf(this.qf)?(q(this.kd),b=this.Aj(),this.Fc=!1,this.qf.Ye(this.Wa)):b=this.kd):b=this.d;for(var h,g=null,e=b.length-1;0<=e;--e)h=b[e],h!==g&&(this.qq(b[e],a),g=h);this.cc&&(this.kd=b);this.Ic||(this.bj=this.b.ne++,a.xi(this.bj),a.Nn(1,1,1),a.gm(),a.Ms())};m.prototype.tb=function(a){var b=0,e=0;if(this.Wc=
this.Fh||1!==this.opacity||0<this.X.length||0!==this.bb){this.b.Ia||(this.b.Ia=a.sb(this.b.I,this.b.H,this.b.na));if(this.b.Ia.je!==this.b.I||this.b.Ia.ie!==this.b.H)a.deleteTexture(this.b.Ia),this.b.Ia=a.sb(this.b.I,this.b.H,this.b.na);a.nc(this.b.Ia);this.Ic&&a.clear(0,0,0,0)}this.Ic||(this.b.ia?(a.xi(this.bj),a.Nn(this.uc[0]/255,this.uc[1]/255,this.uc[2]/255),a.gm(),a.Xs()):a.clear(this.uc[0]/255,this.uc[1]/255,this.uc[2]/255,1));this.bd=!0;var h=this.Cd(!0),b=this.Cd(!1);this.bd=!1;this.b.Cc&&
(h=Math.round(h),b=Math.round(b));this.si(h,b,null);h=this.Jb();a.mc();a.scale(h,h);a.ti(-this.Ib());a.translate((this.Y+this.da)/-2,(this.Z+this.ca)/-2);a.ac();this.cc?(this.Wa.left=this.$a.pb(this.Y),this.Wa.top=this.$a.qb(this.Z),this.Wa.right=this.$a.pb(this.da),this.Wa.bottom=this.$a.qb(this.ca),this.Fc||!this.Wa.Rf(this.qf)?(q(this.kd),b=this.Aj(),this.Fc=!1,this.qf.Ye(this.Wa)):b=this.kd):b=this.d;var g,f,l=null,e=0;for(g=b.length;e<g;++e)f=b[e],f!==l&&(this.pq(b[e],a),l=f);this.cc&&(this.kd=
b);this.Wc&&(b=this.X.length?this.X[0].Fa:0,e=this.X.length?this.X[0].index:0,0===this.X.length||1===this.X.length&&!a.zk(b)&&1===this.opacity?(1===this.X.length?(a.Db(b),a.yf(this.Ca.Xf(),1/this.b.I,1/this.b.H,0,0,1,1,h,this.Ib(),this.Y,this.Z,(this.Y+this.da)/2,(this.Z+this.ca)/2,this.b.Kb.oa,this.xa[e]),a.ni(b)&&(this.b.fa=!0)):a.Db(0),a.nc(this.Ca.Xf()),a.Yd(this.opacity),a.Ma(this.b.Ia),a.Xd(this.lb,this.ib),a.mc(),a.ac(),h=this.b.I/2,b=this.b.H/2,a.Le(-h,b,h,b,h,-b,-h,-b),a.Ma(null)):this.Ca.Gk(a,
this,null,this.Ca.Xf()))};m.prototype.pq=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ba();var e=a.ea;e.right<this.Y||e.bottom<this.Z||e.left>this.da||e.top>this.ca||(b.xi(a.ne),a.uo?this.rq(a,b):(b.Db(0),b.Xd(a.lb,a.ib),a.tb(b)))}};m.prototype.qq=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.ba();var e=a.ea;e.right<this.Y||e.bottom<this.Z||e.left>this.da||e.top>this.ca||(a.ne=this.b.ne++,0===a.bb&&1===a.opacity&&a.qd&&a.le&&(b.xi(a.ne),a.le(b)))}};m.prototype.rq=function(a,
b){var e=a.X[0].Fa,h=a.X[0].index,g=this.Jb();if(1!==a.X.length||b.zk(e)||b.Hs(e)||(a.j||a.k.Ib())&&b.Ig(e)||1!==a.opacity||a.type.ka.pn)this.Ca.Gk(b,this,a,this.Wc?this.b.Ia:this.Ca.Xf()),b.mc(),b.scale(g,g),b.ti(-this.Ib()),b.translate((this.Y+this.da)/-2,(this.Z+this.ca)/-2),b.ac();else{b.Db(e);b.Xd(a.lb,a.ib);b.ni(e)&&(this.b.fa=!0);var f=0,l=0,n=0,t=0;b.Ig(e)&&(t=a.ea,f=this.ra(t.left,t.top,!0,!0),l=this.ra(t.left,t.top,!1,!0),n=this.ra(t.right,t.bottom,!0,!0),t=this.ra(t.right,t.bottom,!1,!0),
f=f/windowWidth,l=1-l/windowHeight,n=n/windowWidth,t=1-t/windowHeight);var m;a.Va&&a.Va.U?(m=a.Va.U,e=1/m.width,m=1/m.height):(e=1/a.width,m=1/a.height);b.yf(this.Wc?this.b.Ia:this.Ca.Xf(),e,m,f,l,n,t,g,this.Ib(),this.Y,this.Z,(this.Y+this.da)/2,(this.Z+this.ca)/2,this.b.Kb.oa,a.xa[h]);a.tb(b)}};m.prototype.Cd=function(a){var b=0,e=0,h=this.b.devicePixelRatio;this.b.xe&&(b*=h,e*=h);var h=this.b.xn,g=this.b.yn,h=(this.Ca.scrollX-h)*this.nd+h,g=(this.Ca.scrollY-g)*this.od+g,f,l,n=1/this.Jb(!1);f=h-
this.b.I*n/2;l=g-this.b.H*n/2;f+=b*n;l+=e*n;e=this.Ib();0!==e&&(f-=h,l-=g,b=Math.cos(e),e=Math.sin(e),n=f*b-l*e,l=l*b+f*e,f=n+h,l+=g);return a?f:l};m.prototype.ra=function(a,b,e,h){var g=this.b.xn,f=this.b.yn,l=(this.Ca.scrollX-g)*this.nd+g,n=(this.Ca.scrollY-f)*this.od+f,f=l,g=n,m=this.Ib();if(0!==m){a-=l;b-=n;var p=Math.cos(-m),m=Math.sin(-m),v=a*p-b*m;b=b*p+a*m;a=v+l;b+=n}l=1/this.Jb(!h);h?(f-=this.b.I*l/2,g-=this.b.H*l/2):(f-=this.b.width*l/2,g-=this.b.height*l/2);f=(a-f)/l;g=(b-g)/l;a=this.b.devicePixelRatio;
this.b.xe&&!h&&(f/=a,g/=a);return e?f:g};m.prototype.kb=function(){var a,b,e,h={s:this.scale,a:this.j,vl:this.Y,vt:this.Z,vr:this.da,vb:this.ca,v:this.visible,bc:this.uc,t:this.Ic,px:this.nd,py:this.od,o:this.opacity,zr:this.dh,fx:[],cg:this.Of,instances:[]};a=0;for(b=this.L.length;a<b;a++)e=this.L[a],h.fx.push({name:e.name,active:e.Sb,params:this.xa[e.index]});return h};m.prototype.zb=function(a){var b,e,h;this.scale=a.s;this.j=a.a;this.Y=a.vl;this.Z=a.vt;this.da=a.vr;this.ca=a.vb;this.visible=a.v;
this.uc=a.bc;this.Ic=a.t;this.nd=a.px;this.od=a.py;this.opacity=a.o;this.dh=a.zr;this.Of=a.cg||[];xa(this.Wb,this.$n);var g=new ba;b=0;for(h=this.Of.length;b<h;++b)g.add(this.Of[b]);e=b=0;for(h=this.Wb.length;b<h;++b)g.contains(this.Wb[b][2])||(this.Wb[e]=this.Wb[b],++e);wa(this.Wb,e);e=a.fx;b=0;for(h=e.length;b<h;b++)if(a=this.xj(e[b].name))a.Sb=e[b].active,this.xa[a.index]=e[b].params;this.Jc();this.d.sort(l);this.Qe=!0};Nb=m})();
(function(){function f(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function l(a,b){return a.index-b.index}function m(a){var b,c,d,e;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(l);a.length>=y.length&&(y.length=a.length+1);y[a.length]||(y[a.length]=[]);e=y[a.length];b=0;for(c=e.length;b<c;b++)if(d=e[b],f(a,d))return d;e.push(a);return a}
function p(a,b){this.b=a;this.ko={};this.cm={};this.Gj=!1;this.tm=new ba;this.ij=[];this.Qi=[];this.name=b[0];var c=b[1];this.Hd=[];var d,e;d=0;for(e=c.length;d<e;d++)this.vm(c[d],null,this.Hd)}function q(a){this.type=a;this.d=[];this.Q=[];this.W=!0}function r(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ta=[];this.ae=[];this.qm=this.Hi=this.el=this.Kj=this.group=this.Zn=!1;this.Qa=[];this.fc=[];this.oc=[];this.Zf="";this.hf=this.Kj=this.group=!1;this.rh=null;c[1]&&(this.Zf=c[1][1].toLowerCase(),
this.group=!0,this.Kj=!!c[1][0],this.rh=[],this.hf=this.Kj,this.b.We.push(this),this.b.$f[this.Zf]=this);this.jc=c[2];this.T=c[4];this.group||(this.b.Gl[this.T.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Ob(this,d[a]);e.index=a;this.Qa.push(e);this.Al(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Pb(this,d[a]),e.index=a,this.fc.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.vm(c[a],this,this.oc);this.Sh=!1;this.Qa.length&&(this.Sh=null==this.Qa[0].type&&
this.Qa[0].Ya==Y.prototype.n.Io)}function g(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.jb))for(c=0,d=a.Fb.length;c<d;c++)e=a.Fb[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function a(a,b){this.Tb=a;this.sheet=a.sheet;this.b=a.b;this.P=[];this.ya=[];this.A={};this.index=-1;this.Gf=!1;this.Ya=this.b.xd(b[1]);this.trigger=0<b[3];this.am=2===b[3];this.gg=b[5];this.hs=b[6];this.T=b[7];this.b.Dd[this.T.toString()]=this;-1===b[0]?(this.type=null,this.Ea=this.Kk,this.he=null,this.wc=-1):(this.type=this.b.p[b[0]],
this.Ea=this.hs?this.Ss:this.Jk,b[2]?(this.he=this.type.Ih(b[2]),this.wc=this.type.uj(b[2])):(this.he=null,this.wc=-1),this.Tb.parent&&this.Tb.parent.yi());this.am&&(this.Ea=this.Ts);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var h=new Qb(this,e[c]);this.P.push(h)}this.ya.length=e.length}}function b(a,b){this.Tb=a;this.sheet=a.sheet;this.b=a.b;this.P=[];this.ya=[];this.A={};this.index=-1;this.Gf=!1;this.Ya=this.b.xd(b[1]);-1===b[0]?(this.type=null,this.Ea=this.Kk,this.he=null,this.wc=
-1):(this.type=this.b.p[b[0]],this.Ea=this.Jk,b[2]?(this.he=this.type.Ih(b[2]),this.wc=this.type.uj(b[2])):(this.he=null,this.wc=-1));this.T=b[3];this.b.zd[this.T.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var h=new Qb(this,e[c]);this.P.push(h)}this.ya.length=e.length}}function e(){H++;L.length===H&&L.push(new Rb);return L[H]}function c(a,b){this.kc=a;this.Tb=a.Tb;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.Rc=null;this.rd=0;this.get=null;this.Ql=0;this.Ca=
null;this.key=0;this.object=null;this.index=0;this.Yg=this.Oe=this.Yg=this.Oe=this.em=this.pe=this.Zg=null;this.rc=!1;var c,d,e;switch(b[0]){case 0:case 7:this.Rc=new Sb(this,b[1]);this.rd=0;this.get=this.Er;break;case 1:this.Rc=new Sb(this,b[1]);this.rd=0;this.get=this.Fr;break;case 5:this.Rc=new Sb(this,b[1]);this.rd=0;this.get=this.Jr;break;case 3:case 8:this.Ql=b[1];this.get=this.Cr;break;case 6:this.Ca=this.b.dk[b[1]];this.get=this.Kr;break;case 9:this.key=b[1];this.get=this.Ir;break;case 4:this.object=
this.b.p[b[1]];this.get=this.Lr;this.Tb.Al(this.object);this.kc instanceof Pb?this.Tb.yi():this.Tb.parent&&this.Tb.parent.yi();break;case 10:this.index=b[1];a.type&&a.type.D?(this.get=this.Gr,this.rc=!0):this.get=this.Hr;break;case 11:this.Zg=b[1];this.pe=null;this.get=this.Dr;break;case 2:case 12:this.em=b[1];this.get=this.Br;break;case 13:for(this.get=this.Mr,this.Oe=[],this.Yg=[],c=1,d=b.length;c<d;c++)e=new Qb(this.kc,b[c]),this.Oe.push(e),this.Yg.push(0)}}function d(a,b,c){this.sheet=a;this.parent=
b;this.b=a.b;this.ta=[];this.name=c[1];this.Jj=c[3];this.mg=!!c[4];this.Rh=!!c[5];this.T=c[6];this.b.Ef[this.T.toString()]=this;this.data=this.Jj;this.parent?(this.De=this.mg||this.Rh?-1:this.b.ct++,this.b.Cp.push(this)):(this.De=-1,this.b.Bp.push(this))}function k(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ta=[];this.bg=null;this.Sr=c[1];this.Sb=!0}function h(){this.ao=[];this.reset(null)}var y=[];p.prototype.toString=function(){return this.name};p.prototype.vm=function(a,b,c){switch(a[0]){case 0:a=
new Tb(this,b,a);if(a.jc)for(c.push(a),c=0,b=a.Qa.length;c<b;c++)a.Qa[c].trigger&&this.wm(a,c);else a.Gm()?this.wm(a,0):c.push(a);break;case 1:a=new Kb(this,b,a);c.push(a);break;case 2:a=new Ub(this,b,a),c.push(a)}};p.prototype.Aa=function(){var a,b;a=0;for(b=this.Hd.length;a<b;a++)this.Hd[a].Aa(a<b-1&&this.Hd[a+1].Sh)};p.prototype.kl=function(){O(this.ij);O(this.Qi);this.zl(this);O(this.Qi)};p.prototype.zl=function(a){var b,c,d,e,h=a.ij,g=a.Qi,f=this.tm.ec();b=0;for(c=f.length;b<c;++b)d=f[b],e=d.bg,
!d.Sb||a===e||-1<g.indexOf(e)||(g.push(e),e.zl(a),h.push(e))};p.prototype.Ea=function(a){this.b.wu||(this.Gj=!0,a||(this.b.Tj=!0));var b,c;b=0;for(c=this.Hd.length;b<c;b++){var d=this.Hd[b];d.Ea();this.b.aj(d.ta);this.b.Jd&&this.b.ab()}a||(this.b.Tj=!1)};p.prototype.wm=function(a,b){a.jc||this.b.Ji.push(a);var c,d,e=a.Qa[b],h;e.type?h=e.type.name:h="system";var g=(c=e.am)?this.cm:this.ko;g[h]||(g[h]=[]);h=g[h];g=e.Ya;if(c){if(e.P.length&&(e=e.P[0],1===e.type&&2===e.Rc.type)){e=e.Rc.value.toLowerCase();
c=0;for(d=h.length;c<d;c++)if(h[c].method==g){c=h[c].Tf;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];h.push({method:g,Tf:c})}}else{c=0;for(d=h.length;c<d;c++)if(h[c].method==g){h[c].Tf.push([a,b]);return}Z&&g===Z.prototype.n.Ve?h.unshift({method:g,Tf:[[a,b]]}):h.push({method:g,Tf:[[a,b]]})}};Ab=p;q.prototype.Fj=function(){return this.W?this.type.d.length:this.d.length};q.prototype.ub=function(){return this.W?this.type.d:this.d};q.prototype.Hg=function(a){a&&(a.b.Ra().Gb.jc?(this.W&&
(O(this.d),xa(this.Q,a.type.d),this.W=!1),a=this.Q.indexOf(a),-1!==a&&(this.d.push(this.Q[a]),this.Q.splice(a,1))):(this.W=!1,O(this.d),this.d[0]=a))};hb=q;window._c2hh_="5F12B40A1320188541012137DB7F4FF0BA08AA4D";r.prototype.Aa=function(a){var b,c=this.parent;if(this.group)for(this.Hi=!0;c;){if(!c.group){this.Hi=!1;break}c=c.parent}this.el=!this.Gm()&&(!this.parent||this.parent.group&&this.parent.Hi);this.qm=!!a;this.ae=this.ta.slice(0);for(c=this.parent;c;){a=0;for(b=c.ta.length;a<b;a++)this.zp(c.ta[a]);
c=c.parent}this.ta=m(this.ta);this.ae=m(this.ae);a=0;for(b=this.Qa.length;a<b;a++)this.Qa[a].Aa();a=0;for(b=this.fc.length;a<b;a++)this.fc[a].Aa();a=0;for(b=this.oc.length;a<b;a++)this.oc[a].Aa(a<b-1&&this.oc[a+1].Sh)};r.prototype.Ws=function(a){if(this.hf!==!!a){this.hf=!!a;var b;a=0;for(b=this.rh.length;a<b;++a)this.rh[a].po();0<b&&this.b.aa.oe&&this.b.aa.oe.kl()}};r.prototype.Al=function(a){g(a,this.ta)};r.prototype.zp=function(a){g(a,this.ae)};r.prototype.yi=function(){this.Zn=!0;this.parent&&
this.parent.yi()};r.prototype.Gm=function(){return this.Qa.length?this.Qa[0].trigger:!1};r.prototype.Ea=function(){var a,b,c=!1,d=this.b,e=this.b.Ra();e.Gb=this;var h=this.Qa;this.Sh||(e.lj=!1);if(this.jc){0===h.length&&(c=!0);e.Ga=0;for(a=h.length;e.Ga<a;e.Ga++)b=h[e.Ga],b.trigger||(b=b.Ea())&&(c=!0);(e.ze=c)&&this.vi()}else{e.Ga=0;for(a=h.length;e.Ga<a;e.Ga++)if(b=h[e.Ga].Ea(),!b){e.ze=!1;this.el&&d.Jd&&d.ab();return}e.ze=!0;this.vi()}this.vq(e)};r.prototype.vq=function(a){a.ze&&this.qm&&(a.lj=
!0);this.el&&this.b.Jd&&this.b.ab()};r.prototype.Qs=function(a){this.b.Ra().Gb=this;this.Qa[a].Ea()&&(this.vi(),this.b.Ra().ze=!0)};r.prototype.vi=function(){var a=this.b.Ra(),b;a.Rb=0;for(b=this.fc.length;a.Rb<b;a.Rb++)if(this.fc[a.Rb].Ea())return;this.Kn()};r.prototype.Ns=function(){var a=this.b.Ra(),b;for(b=this.fc.length;a.Rb<b;a.Rb++)if(this.fc[a.Rb].Ea())return;this.Kn()};r.prototype.Kn=function(){if(this.oc.length){var a,b,c,d,e=this.oc.length-1;this.b.pi(this);if(this.Zn)for(a=0,b=this.oc.length;a<
b;a++)c=this.oc[a],(d=!this.Hi||!this.group&&a<e)&&this.b.oi(c.ta),c.Ea(),d?this.b.Ke(c.ta):this.b.aj(c.ta);else for(a=0,b=this.oc.length;a<b;a++)this.oc[a].Ea();this.b.mi()}};r.prototype.Rs=function(){var a=this.b.Ra();a.Gb=this;var b=!1,c;a.Ga=0;for(c=this.Qa.length;a.Ga<c;a.Ga++)if(this.Qa[a.Ga].Ea())b=!0;else if(!this.jc)return!1;return this.jc?b:!0};r.prototype.Os=function(){this.b.qe++;var a=this.b.Ra().Ga,b=this.b.pi(this);if(!this.jc)for(b.Ga=a+1,a=this.Qa.length;b.Ga<a;b.Ga++)if(!this.Qa[b.Ga].Ea()){this.b.mi();
return}this.vi();this.b.mi()};r.prototype.bs=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Qa[b].type===a.type)return!1;return!0};Tb=r;a.prototype.Aa=function(){var a,b,c;a=0;for(b=this.P.length;a<b;a++)c=this.P[a],c.Aa(),c.rc&&(this.Gf=!0)};a.prototype.Ts=function(){return!0};a.prototype.Kk=function(){var a,b;a=0;for(b=this.P.length;a<b;a++)this.ya[a]=this.P[a].get();return Na(this.Ya.apply(this.b.Yc,this.ya),this.gg)};a.prototype.Ss=function(){var a,b;a=0;for(b=this.P.length;a<
b;a++)this.ya[a]=this.P[a].get();a=this.Ya.apply(this.he?this.he:this.type,this.ya);this.type.Mc();return a};a.prototype.Jk=function(){var a,b,c,d,e,h,g,f,k=this.type,l=k.R(),m=this.Tb.jc&&!this.trigger;b=0;var p=k.jb,q=k.D,y=k.ed,r=this.wc,L=-1<r,H=this.Gf,K=this.P,x=this.ya,z=this.gg,B=this.Ya,A;if(H)for(b=0,e=K.length;b<e;++b)h=K[b],h.rc||(x[b]=h.get(0));else for(b=0,e=K.length;b<e;++b)x[b]=K[b].get(0);if(l.W){O(l.d);O(l.Q);A=k.d;a=0;for(d=A.length;a<d;++a){f=A[a];if(H)for(b=0,e=K.length;b<e;++b)h=
K[b],h.rc&&(x[b]=h.get(a));L?(b=0,q&&(b=f.type.df[y]),b=B.apply(f.F[r+b],x)):b=B.apply(f,x);(g=Na(b,z))?l.d.push(f):m&&l.Q.push(f)}k.finish&&k.finish(!0);l.W=!1;k.Mc();return l.Fj()}c=0;A=(g=m&&!this.Tb.bs(this))?l.Q:l.d;var J=!1;a=0;for(d=A.length;a<d;++a){f=A[a];if(H)for(b=0,e=K.length;b<e;++b)h=K[b],h.rc&&(x[b]=h.get(a));L?(b=0,q&&(b=f.type.df[y]),b=B.apply(f.F[r+b],x)):b=B.apply(f,x);if(Na(b,z))if(J=!0,g){if(l.d.push(f),p)for(b=0,e=f.siblings.length;b<e;b++)h=f.siblings[b],h.type.R().d.push(h)}else{A[c]=
f;if(p)for(b=0,e=f.siblings.length;b<e;b++)h=f.siblings[b],h.type.R().d[c]=h;c++}else if(g){A[c]=f;if(p)for(b=0,e=f.siblings.length;b<e;b++)h=f.siblings[b],h.type.R().Q[c]=h;c++}else if(m&&(l.Q.push(f),p))for(b=0,e=f.siblings.length;b<e;b++)h=f.siblings[b],h.type.R().Q.push(h)}wa(A,c);if(p)for(q=k.Fb,a=0,d=q.length;a<d;a++)f=q[a].R(),g?wa(f.Q,c):wa(f.d,c);c=J;if(g&&!J)for(a=0,d=l.d.length;a<d;a++){f=l.d[a];if(H)for(b=0,e=K.length;b<e;b++)h=K[b],h.rc&&(x[b]=h.get(a));b=L?B.apply(f.F[r],x):B.apply(f,
x);if(Na(b,z)){J=!0;break}}k.finish&&k.finish(c||m);return m?J:l.Fj()};Ob=a;b.prototype.Aa=function(){var a,b,c;a=0;for(b=this.P.length;a<b;a++)c=this.P[a],c.Aa(),c.rc&&(this.Gf=!0)};b.prototype.Kk=function(){var a=this.b,b,c,d=this.P,e=this.ya;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.Ya.apply(a.Yc,e)};b.prototype.Jk=function(){var a=this.type,b=this.wc,c=a.ed,d=this.Gf,e=this.P,h=this.ya,g=this.Ya,f=a.R().ub(),a=a.D,k=-1<b,l,m,p,q,y,r;if(d)for(m=0,q=e.length;m<q;++m)y=e[m],y.rc||(h[m]=
y.get(0));else for(m=0,q=e.length;m<q;++m)h[m]=e[m].get(0);l=0;for(p=f.length;l<p;++l){r=f[l];if(d)for(m=0,q=e.length;m<q;++m)y=e[m],y.rc&&(h[m]=y.get(l));k?(m=0,a&&(m=r.type.df[c]),g.apply(r.F[b+m],h)):g.apply(r,h)}return!1};Pb=b;var L=[],H=-1;c.prototype.Aa=function(){var a,b;if(11===this.type)this.pe=this.b.jm(this.Zg,this.Tb.parent);else if(13===this.type)for(a=0,b=this.Oe.length;a<b;a++)this.Oe[a].Aa();this.Rc&&this.Rc.Aa()};c.prototype.ns=function(a){this.rc||!a||a.ka.Bi||(this.rc=!0)};c.prototype.Rn=
function(){this.rc=!0};c.prototype.Er=function(a){this.rd=a||0;a=e();this.Rc.get(a);H--;return a.data};c.prototype.Fr=function(a){this.rd=a||0;a=e();this.Rc.get(a);H--;return w(a.data)?a.data:""};c.prototype.Lr=function(){return this.object};c.prototype.Cr=function(){return this.Ql};c.prototype.Jr=function(a){this.rd=a||0;a=e();this.Rc.get(a);H--;return a.Ta()?this.b.qr(a.data):this.b.pr(a.data)};c.prototype.Kr=function(){return this.Ca};c.prototype.Ir=function(){return this.key};c.prototype.Hr=function(){return this.index};
c.prototype.Gr=function(a){a=a||0;var b=this.kc.type,c=null,c=b.R(),d=c.ub();if(d.length)c=d[a%d.length].type;else if(c.Q.length)c=c.Q[a%c.Q.length].type;else if(b.d.length)c=b.d[a%b.d.length].type;else return 0;return this.index+c.Bh[b.ed]};c.prototype.Dr=function(){return this.pe};c.prototype.Br=function(){return this.em};c.prototype.Mr=function(){var a,b;a=0;for(b=this.Oe.length;a<b;a++)this.Yg[a]=this.Oe[a].get();return this.Yg};Qb=c;d.prototype.Aa=function(){this.ta=m(this.ta)};d.prototype.Ys=
function(a){var b=this.b.im();this.parent&&!this.mg&&b?(this.De>=b.length&&(b.length=this.De+1),b[this.De]=a):this.data=a};d.prototype.Ar=function(){var a=this.b.im();return!this.parent||this.mg||!a||this.Rh?this.data:this.De>=a.length||"undefined"===typeof a[this.De]?this.Jj:a[this.De]};d.prototype.Ea=function(){!this.parent||this.mg||this.Rh||this.Ys(this.Jj)};Kb=d;k.prototype.toString=function(){return"include:"+this.bg.toString()};k.prototype.Aa=function(){this.bg=this.b.nj[this.Sr];this.sheet.tm.add(this);
this.ta=m(this.ta);for(var a=this.parent;a;)a.group&&a.rh.push(this),a=a.parent;this.po()};k.prototype.Ea=function(){this.parent&&this.b.Kg(this.b.p);this.bg.Gj||this.bg.Ea(!0);this.parent&&this.b.Ke(this.b.p)};k.prototype.po=function(){for(var a=this.parent;a;){if(a.group&&!a.hf){this.Sb=!1;return}a=a.parent}this.Sb=!0};Ub=k;h.prototype.reset=function(a){this.Gb=a;this.Rb=this.Ga=0;O(this.ao);this.lj=this.ze=!1};Jb=h})();
(function(){function f(g,a){this.kc=g;this.b=g.b;this.type=a[0];this.get=[this.Nq,this.Jq,this.Wq,this.Zq,this.yq,this.Xq,this.Rq,this.Gq,this.Qq,this.Vq,this.zq,this.Uq,this.Hq,this.Sq,this.Oq,this.Pq,this.Kq,this.Lq,this.Fq,this.Yq,this.Tq,this.Mq,this.Eq,this.Iq][this.type];var b=null;this.ld=this.P=this.ya=this.Ya=this.Fi=this.second=this.first=this.value=null;this.wc=-1;this.zc=null;this.vo=-1;this.pe=this.Zg=null;this.xf=!1;switch(this.type){case 0:case 1:case 2:this.value=a[1];break;case 3:this.first=
new Sb(g,a[1]);break;case 18:this.first=new Sb(g,a[1]);this.second=new Sb(g,a[2]);this.Fi=new Sb(g,a[3]);break;case 19:this.Ya=this.b.xd(a[1]);this.Ya!==Y.prototype.Xa.random&&this.Ya!==Y.prototype.Xa.Op||this.kc.Rn();this.ya=[];this.P=[];3===a.length?(b=a[2],this.ya.length=b.length+1):this.ya.length=1;break;case 20:this.ld=this.b.p[a[1]];this.wc=-1;this.Ya=this.b.xd(a[2]);this.xf=a[3];Xb.Function&&this.Ya===Xb.Function.prototype.Xa.xt&&this.kc.Rn();a[4]?this.zc=new Sb(g,a[4]):this.zc=null;this.ya=
[];this.P=[];6===a.length?(b=a[5],this.ya.length=b.length+1):this.ya.length=1;break;case 21:this.ld=this.b.p[a[1]];this.xf=a[2];a[3]?this.zc=new Sb(g,a[3]):this.zc=null;this.vo=a[4];break;case 22:this.ld=this.b.p[a[1]];this.ld.Ih(a[2]);this.wc=this.ld.uj(a[2]);this.Ya=this.b.xd(a[3]);this.xf=a[4];a[5]?this.zc=new Sb(g,a[5]):this.zc=null;this.ya=[];this.P=[];7===a.length?(b=a[6],this.ya.length=b.length+1):this.ya.length=1;break;case 23:this.Zg=a[1],this.pe=null}this.kc.ns(this.ld);4<=this.type&&17>=
this.type&&(this.first=new Sb(g,a[1]),this.second=new Sb(g,a[2]));if(b){var e,c;e=0;for(c=b.length;e<c;e++)this.P.push(new Sb(g,b[e]))}}function l(){++r;q.length===r&&q.push(new Rb);return q[r]}function m(g,a,b){var e,c;e=0;for(c=g.length;e<c;++e)g[e].get(b),a[e+1]=b.data}function p(g,a){this.type=g||Vb.Te;this.data=a||0;this.Ge=null;this.type==Vb.Te&&(this.data=Math.floor(this.data))}f.prototype.Aa=function(){23===this.type&&(this.pe=this.kc.b.jm(this.Zg,this.kc.Tb.parent));this.first&&this.first.Aa();
this.second&&this.second.Aa();this.Fi&&this.Fi.Aa();this.zc&&this.zc.Aa();if(this.P){var g,a;g=0;for(a=this.P.length;g<a;g++)this.P[g].Aa()}};var q=[],r=-1;f.prototype.Yq=function(g){var a=this.P,b=this.ya;b[0]=g;g=l();m(a,b,g);--r;this.Ya.apply(this.b.Yc,b)};f.prototype.Tq=function(g){var a=this.ld,b=this.ya,e=this.P,c=this.zc,d=this.Ya,f=this.kc.rd,h=a.R(),p=h.ub();if(!p.length)if(h.Q.length)p=h.Q;else{this.xf?g.Ob(""):g.la(0);return}b[0]=g;g.Ge=a;g=l();m(e,b,g);c&&(c.get(g),g.Ta()&&(f=g.data,p=
a.d));--r;a=p.length;if(f>=a||f<=-a)f%=a;0>f&&(f+=a);d.apply(p[f],b)};f.prototype.Eq=function(g){var a=this.ld,b=this.ya,e=this.P,c=this.zc,d=this.wc,f=this.Ya,h=this.kc.rd,p=a.R(),q=p.ub();if(!q.length)if(p.Q.length)q=p.Q;else{this.xf?g.Ob(""):g.la(0);return}b[0]=g;g.Ge=a;g=l();m(e,b,g);c&&(c.get(g),g.Ta()&&(h=g.data,q=a.d));--r;e=q.length;if(h>=e||h<=-e)h%=e;0>h&&(h+=e);h=q[h];q=0;a.D&&(q=h.type.df[a.ed]);f.apply(h.F[d+q],b)};f.prototype.Mq=function(g){var a=this.zc,b=this.ld,e=this.vo,c=this.kc.rd,
d=b.R(),f=d.ub();if(!f.length)if(d.Q.length)f=d.Q;else{this.xf?g.Ob(""):g.la(0);return}if(a){d=l();a.get(d);if(d.Ta()){c=d.data;f=b.d;0!==f.length&&(c%=f.length,0>c&&(c+=f.length));c=b.zj(c);b=c.Ha[e];w(b)?g.Ob(b):g.S(b);--r;return}--r}a=f.length;if(c>=a||c<=-a)c%=a;0>c&&(c+=a);c=f[c];f=0;b.D&&(f=c.type.Bh[b.ed]);b=c.Ha[e+f];w(b)?g.Ob(b):g.S(b)};f.prototype.Nq=function(g){g.type=Vb.Te;g.data=this.value};f.prototype.Jq=function(g){g.type=Vb.Se;g.data=this.value};f.prototype.Wq=function(g){g.type=Vb.String;
g.data=this.value};f.prototype.Zq=function(g){this.first.get(g);g.Ta()&&(g.data=-g.data)};f.prototype.yq=function(g){this.first.get(g);var a=l();this.second.get(a);g.Ta()&&a.Ta()&&(g.data+=a.data,a.jf()&&g.tf());--r};f.prototype.Xq=function(g){this.first.get(g);var a=l();this.second.get(a);g.Ta()&&a.Ta()&&(g.data-=a.data,a.jf()&&g.tf());--r};f.prototype.Rq=function(g){this.first.get(g);var a=l();this.second.get(a);g.Ta()&&a.Ta()&&(g.data*=a.data,a.jf()&&g.tf());--r};f.prototype.Gq=function(g){this.first.get(g);
var a=l();this.second.get(a);g.Ta()&&a.Ta()&&(g.data/=a.data,g.tf());--r};f.prototype.Qq=function(g){this.first.get(g);var a=l();this.second.get(a);g.Ta()&&a.Ta()&&(g.data%=a.data,a.jf()&&g.tf());--r};f.prototype.Vq=function(g){this.first.get(g);var a=l();this.second.get(a);g.Ta()&&a.Ta()&&(g.data=Math.pow(g.data,a.data),a.jf()&&g.tf());--r};f.prototype.zq=function(g){this.first.get(g);var a=l();this.second.get(a);a.lf()||g.lf()?this.Bq(g,a):this.Aq(g,a);--r};f.prototype.Bq=function(g,a){g.lf()&&
a.lf()?this.Dq(g,a):this.Cq(g,a)};f.prototype.Dq=function(g,a){g.data+=a.data};f.prototype.Cq=function(g,a){g.lf()?g.data+=(Math.round(1E10*a.data)/1E10).toString():g.Ob(g.data.toString()+a.data)};f.prototype.Aq=function(g,a){g.la(g.data&&a.data?1:0)};f.prototype.Uq=function(g){this.first.get(g);var a=l();this.second.get(a);g.Ta()&&a.Ta()&&(g.data||a.data?g.la(1):g.la(0));--r};f.prototype.Fq=function(g){this.first.get(g);g.data?this.second.get(g):this.Fi.get(g)};f.prototype.Hq=function(g){this.first.get(g);
var a=l();this.second.get(a);g.la(g.data===a.data?1:0);--r};f.prototype.Sq=function(g){this.first.get(g);var a=l();this.second.get(a);g.la(g.data!==a.data?1:0);--r};f.prototype.Oq=function(g){this.first.get(g);var a=l();this.second.get(a);g.la(g.data<a.data?1:0);--r};f.prototype.Pq=function(g){this.first.get(g);var a=l();this.second.get(a);g.la(g.data<=a.data?1:0);--r};f.prototype.Kq=function(g){this.first.get(g);var a=l();this.second.get(a);g.la(g.data>a.data?1:0);--r};f.prototype.Lq=function(g){this.first.get(g);
var a=l();this.second.get(a);g.la(g.data>=a.data?1:0);--r};f.prototype.Iq=function(g){var a=this.pe.Ar();ga(a)?g.S(a):g.Ob(a)};Sb=f;p.prototype.jf=function(){return this.type===Vb.Se};p.prototype.Ta=function(){return this.type===Vb.Te||this.type===Vb.Se};p.prototype.lf=function(){return this.type===Vb.String};p.prototype.tf=function(){this.jf()||(this.lf()&&(this.data=parseFloat(this.data)),this.type=Vb.Se)};p.prototype.la=function(g){this.type=Vb.Te;this.data=Math.floor(g)};p.prototype.S=function(g){this.type=
Vb.Se;this.data=g};p.prototype.Ob=function(g){this.type=Vb.String;this.data=g};p.prototype.Zs=function(g){ga(g)?(this.type=Vb.Se,this.data=g):w(g)?(this.type=Vb.String,this.data=g.toString()):(this.type=Vb.Te,this.data=0)};Rb=p;Vb={Te:0,Se:1,String:2}})();function Y(f){this.b=f;this.Qb=[]}
Y.prototype.kb=function(){var f={},l,m,p,q,r,g,a,b;f.waits=[];var e=f.waits,c;l=0;for(m=this.Qb.length;l<m;l++){g=this.Qb[l];c={t:g.time,st:g.bt,s:g.Wn,ev:g.Sf.T,sm:[],sols:{}};g.Sf.fc[g.Rb]&&(c.act=g.Sf.fc[g.Rb].T);p=0;for(q=g.ta.length;p<q;p++)c.sm.push(g.ta[p].T);for(r in g.Pb)if(g.Pb.hasOwnProperty(r)){a=this.b.p[parseInt(r,10)];b={sa:g.Pb[r].Ln,insts:[]};p=0;for(q=g.Pb[r].ue.length;p<q;p++)b.insts.push(g.Pb[r].ue[p].uid);c.sols[a.T.toString()]=b}e.push(c)}return f};
Y.prototype.zb=function(f){f=f.waits;var l,m,p,q,r,g,a,b,e,c,d;O(this.Qb);l=0;for(m=f.length;l<m;l++)if(g=f[l],b=this.b.Gl[g.ev.toString()]){e=-1;p=0;for(q=b.fc.length;p<q;p++)if(b.fc[p].T===g.act){e=p;break}if(-1!==e){a={Pb:{},ta:[],Vl:!1};a.time=g.t;a.bt=g.st||"";a.Wn=!!g.s;a.Sf=b;a.Rb=e;p=0;for(q=g.sm.length;p<q;p++)(b=this.b.Wf(g.sm[p]))&&a.ta.push(b);for(r in g.sols)if(g.sols.hasOwnProperty(r)&&(b=this.b.Wf(parseInt(r,10)))){e=g.sols[r];c={Ln:e.sa,ue:[]};p=0;for(q=e.insts.length;p<q;p++)(d=this.b.mm(e.insts[p]))&&
c.ue.push(d);a.Pb[b.index.toString()]=c}this.Qb.push(a)}}};
(function(){function f(){}function l(){}function m(){}var p=Y.prototype;f.prototype.Ko=function(){return!0};f.prototype.gp=function(){return!0};f.prototype.fp=function(){return!0};f.prototype.Co=function(g,a,b){return Wb(g,a,b)};f.prototype.Jo=function(g){var a=this.b.gf(),b=a.A.Every_lastTime||0,e=this.b.Kb.oa;"undefined"===typeof a.A.Every_seconds&&(a.A.Every_seconds=g);var c=a.A.Every_seconds;if(e>=b+c)return a.A.Every_lastTime=b+c,e>=a.A.Every_lastTime+.04&&(a.A.Every_lastTime=e),a.A.Every_seconds=
g,!0;e<b-.1&&(a.A.Every_lastTime=e);return!1};f.prototype.Qo=function(g){return(g=this.b.$f[g.toLowerCase()])&&g.hf};f.prototype.Io=function(){var g=this.b.Ra();return g.lj?!1:!g.ze};f.prototype.xl=function(){return!0};f.prototype.bp=function(){return!0};f.prototype.Pi=function(){return!0};f.prototype.yl=function(){return!0};f.prototype.hp=function(){return!0};f.prototype.eh=function(){return!0};f.prototype.yo=function(g,a,b){return Ja(Q(g),Q(b))<=Q(a)};f.prototype.Po=function(g,a){return La(Q(g),
Q(a))};f.prototype.No=function(g,a,b){g=Ia(g);a=Ia(a);b=Ia(b);return La(b,a)?La(g,a)&&!La(g,b):!(!La(g,a)&&La(g,b))};p.n=new f;l.prototype.Xo=function(g){if(!this.b.ng&&!this.b.Lf){var a=this.b.Lb.indexOf(this.b.aa);if(!g||0!==a)if(g||a!==this.b.Lb.length-1)this.b.Lf=this.b.Lb[a+(g?-1:1)]}};l.prototype.Go=function(g,a,b,e){if(a&&g&&(a=this.b.fj(g,a,b,e))){this.b.Xb++;var c;this.b.trigger(Object.getPrototypeOf(g.ka).n.Ue,a);if(a.jb)for(b=0,e=a.siblings.length;b<e;b++)c=a.siblings[b],this.b.trigger(Object.getPrototypeOf(c.type.ka).n.Ue,
c);this.b.Xb--;g=g.R();g.W=!1;O(g.d);g.d[0]=a;if(a.jb)for(b=0,e=a.siblings.length;b<e;b++)c=a.siblings[b],g=c.type.R(),g.W=!1,O(g.d),g.d[0]=c}};var q=[],r=[];p.ga=new l;m.prototype["int"]=function(g,a){w(a)?(g.la(parseInt(a,10)),isNaN(g.data)&&(g.data=0)):g.la(a)};m.prototype["float"]=function(g,a){w(a)?(g.S(parseFloat(a)),isNaN(g.data)&&(g.data=0)):g.S(a)};m.prototype.random=function(g,a,b){void 0===b?g.S(Math.random()*a):g.S(Math.random()*(b-a)+a)};m.prototype.sqrt=function(g,a){g.S(Math.sqrt(a))};
m.prototype.abs=function(g,a){g.S(Math.abs(a))};m.prototype.round=function(g,a){g.la(Math.round(a))};m.prototype.floor=function(g,a){g.la(Math.floor(a))};m.prototype.ceil=function(g,a){g.la(Math.ceil(a))};m.prototype.sin=function(g,a){g.S(Math.sin(Q(a)))};m.prototype.cos=function(g,a){g.S(Math.cos(Q(a)))};m.prototype.tan=function(g,a){g.S(Math.tan(Q(a)))};m.prototype.asin=function(g,a){g.S(Ea(Math.asin(a)))};m.prototype.acos=function(g,a){g.S(Ea(Math.acos(a)))};m.prototype.atan=function(g,a){g.S(Ea(Math.atan(a)))};
m.prototype.exp=function(g,a){g.S(Math.exp(a))};m.prototype.log10=function(g,a){g.S(Math.log(a)/Math.LN10)};m.prototype.max=function(g){var a=arguments[1];"number"!==typeof a&&(a=0);var b,e,c;b=2;for(e=arguments.length;b<e;b++)c=arguments[b],"number"===typeof c&&a<c&&(a=c);g.S(a)};m.prototype.min=function(g){var a=arguments[1];"number"!==typeof a&&(a=0);var b,e,c;b=2;for(e=arguments.length;b<e;b++)c=arguments[b],"number"===typeof c&&a>c&&(a=c);g.S(a)};m.prototype.bf=function(g){g.S(this.b.bf)};m.prototype.Bf=
function(g){g.S(this.b.Bf)};m.prototype.time=function(g){g.S(this.b.Kb.oa)};m.prototype.qc=function(g){g.la(this.b.qc)};m.prototype.ji=function(g){g.la(this.b.ji)};m.prototype.sj=function(g){g.la(this.b.sj)};m.prototype.j=function(g,a,b,e,c){g.S(Ea(U(a,b,e,c)))};m.prototype.js=function(g){g.la(this.b.aa.height)};m.prototype.left=function(g,a,b){g.Ob(w(a)?a.substr(0,b):"")};m.prototype.right=function(g,a,b){g.Ob(w(a)?a.substr(a.length-b):"")};m.prototype.replace=function(g,a,b,e){w(a)&&w(b)&&w(e)?
g.Ob(a.replace(new RegExp(Wa(b),"gi"),e)):g.Ob(w(a)?a:"")};m.prototype.trim=function(g,a){g.Ob(w(a)?a.trim():"")};m.prototype.Op=function(g){var a=N(Math.random()*(arguments.length-1));g.Zs(arguments[a+1])};m.prototype.dj=function(g){g.S(this.b.dj/1E3)};m.prototype.ci=function(g){g.S(this.b.ci)};p.Xa=new m;p.Ps=function(){var g,a,b,e,c,d,f=this.b.Ra();g=0;for(b=this.Qb.length;g<b;g++){e=this.Qb[g];if(-1===e.time){if(!e.Wn)continue}else if(e.time>this.b.Kb.oa)continue;f.Gb=e.Sf;f.Rb=e.Rb;f.Ga=0;for(a in e.Pb)e.Pb.hasOwnProperty(a)&&
(c=this.b.p[parseInt(a,10)].R(),d=e.Pb[a],c.W=d.Ln,xa(c.d,d.ue),c=d,O(c.ue),r.push(c));e.Sf.Ns();this.b.aj(e.ta);e.Vl=!0}a=g=0;for(b=this.Qb.length;g<b;g++)e=this.Qb[g],this.Qb[a]=e,e.Vl?(Pa(e.Pb),O(e.ta),q.push(e)):a++;wa(this.Qb,a)}})();
(function(){gb=function(f,m){var p=f[1],q=f[3],r=f[4],g=f[5],a=f[6],b=f[7],e=f[8];m.n||(m.n={});m.ga||(m.ga={});m.Xa||(m.Xa={});var c=m.n,d=m.ga,k=m.Xa;q&&(c.Bt=function(a,b){return Wb(this.x,a,b)},c.Fo=function(a,b){return Wb(this.y,a,b)},c.Gt=function(){var a=this.k;this.ba();var b=this.ea;return!(b.right<a.Y||b.bottom<a.Z||b.left>a.da||b.top>a.ca)},c.To=function(){this.ba();var a=this.ea,b=this.b.aa;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},c.St=function(a,b,c){var d=this.R(),
e=d.ub();if(!e.length)return!1;var g=e[0],f=g,k=Ma(g.x,g.y,b,c),l,m,p;l=1;for(m=e.length;l<m;l++)if(g=e[l],p=Ma(g.x,g.y,b,c),0===a&&p<k||1===a&&p>k)k=p,f=g;d.Hg(f);return!0},d.iu=function(a){this.x!==a&&(this.x=a,this.J())},d.ju=function(a){this.y!==a&&(this.y=a,this.J())},d.eu=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.J()},d.fu=function(a,b){var c=a.sr(this);if(c){var d;c.Vf?(d=c.Vf(b,!0),c=c.Vf(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.J()}},d.Lt=
function(a){0!==a&&(this.x+=Math.cos(this.j)*a,this.y+=Math.sin(this.j)*a,this.J())},d.Kt=function(a,b){0!==b&&(this.x+=Math.cos(Q(a))*b,this.y+=Math.sin(Q(a))*b,this.J())},k.wp=function(a){a.S(this.x)},k.xp=function(a){a.S(this.y)},k.bf=function(a){a.S(this.b.Jh(this))});r&&(c.At=function(a,b){return Wb(this.width,a,b)},c.yt=function(a,b){return Wb(this.height,a,b)},d.qp=function(a){this.width!==a&&(this.width=a,this.J())},d.bu=function(a){this.height!==a&&(this.height=a,this.J())},d.gu=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.J()},k.mu=function(a){a.S(this.width)},k.Dt=function(a){a.S(this.height)},k.tt=function(a){this.ba();a.S(this.ea.left)},k.wt=function(a){this.ba();a.S(this.ea.top)},k.ut=function(a){this.ba();a.S(this.ea.right)},k.qt=function(a){this.ba();a.S(this.ea.bottom)});g&&(c.yo=function(a,b){return Ja(this.j,Q(b))<=Q(a)},c.Po=function(a){return La(this.j,Q(a))},c.No=function(a,b){var c=Ia(a),d=Ia(b),e=Ga(this.j);return La(d,c)?La(e,c)&&
!La(e,d):!(!La(e,c)&&La(e,d))},d.Zt=function(a){a=Q(Fa(a));isNaN(a)||this.j===a||(this.j=a,this.J())},d.ip=function(a){0===a||isNaN(a)||(this.j+=Q(a),this.j=Ga(this.j),this.J())},d.Wt=function(a){0===a||isNaN(a)||(this.j-=Q(a),this.j=Ga(this.j),this.J())},d.Xt=function(a,b){var c=Ka(this.j,Q(b),Q(a));isNaN(c)||this.j===c||(this.j=c,this.J())},d.Yt=function(a,b,c){a=Ka(this.j,Math.atan2(c-this.y,b-this.x),Q(a));isNaN(a)||this.j===a||(this.j=a,this.J())},d.np=function(a,b){var c=Math.atan2(b-this.y,
a-this.x);isNaN(c)||this.j===c||(this.j=c,this.J())},k.pt=function(a){a.S(Ha(this.j))});p||(c.Eo=function(a,b,c){return Wb(this.Ha[a],b,c)},c.Oo=function(a){return this.Ha[a]},c.Tt=function(a,b){var c=this.R(),d=c.ub();if(!d.length)return!1;var e=d[0],g=e,f=e.Ha[b],k,l,m;k=1;for(l=d.length;k<l;k++)if(e=d[k],m=e.Ha[b],0===a&&m<f||1===a&&m>f)f=m,g=e;c.Hg(g);return!0},c.Rt=function(a){var b,c,d,e,g;if(this.b.gf().gg){g=this.R();if(g.W)for(g.W=!1,O(g.d),O(g.Q),d=this.d,b=0,c=d.length;b<c;b++)e=d[b],e.uid===
a?g.Q.push(e):g.d.push(e);else{d=b=0;for(c=g.d.length;b<c;b++)e=g.d[b],g.d[d]=e,e.uid===a?g.Q.push(e):d++;wa(g.d,d)}this.Mc();return!!g.d.length}e=this.b.mm(a);if(!e)return!1;g=this.R();if(!g.W&&-1===g.d.indexOf(e))return!1;if(this.D)for(a=e.type.qa,b=0,c=a.length;b<c;b++){if(a[b]===this)return g.Hg(e),this.Mc(),!0}else if(e.type===this)return g.Hg(e),this.Mc(),!0;return!1},c.Ue=function(){return!0},c.dp=function(){return!0},d.cu=function(a,b){var c=this.Ha;ga(c[a])?c[a]=ga(b)?b:parseFloat(b):w(c[a])&&
(c[a]=w(b)?b:b.toString())},d.xo=function(a,b){var c=this.Ha;ga(c[a])?c[a]=ga(b)?c[a]+b:c[a]+parseFloat(b):w(c[a])&&(c[a]=w(b)?c[a]+b:c[a]+b.toString())},d.sp=function(a,b){var c=this.Ha;ga(c[a])&&(c[a]=ga(b)?c[a]-b:c[a]-parseFloat(b))},d.lp=function(a,b){this.Ha[a]=b?1:0},d.ku=function(a){this.Ha[a]=1-this.Ha[a]},d.Ho=function(){this.b.Re(this)},d.Wo||(d.Wo=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.b.ai(this,b,!0);this.Ad&&this.Ad();if(this.F)for(a=0,b=this.F.length;a<b;++a)c=
this.F[a],c.Ad&&c.Ad()}),k.Ct=function(a){var b=a.Ge.d.length,c,d,e;c=0;for(d=this.b.xc.length;c<d;c++)e=this.b.xc[c],a.Ge.D?0<=e.type.qa.indexOf(a.Ge)&&b++:e.type===a.Ge&&b++;a.la(b)},k.Vt=function(a){a.la(a.Ge.R().ub().length)},k.lu=function(a){a.la(this.uid)},k.Et=function(a){a.la(this.Yf())},k.zo||(k.zo=function(a){a.Ob(JSON.stringify(this.b.Lk(this,!0)))}));a&&(c.Ht=function(){return this.visible},d.hu=function(a){!a!==!this.visible&&(this.visible=!!a,this.b.fa=!0)},c.zt=function(a,b){return Wb(cb(100*
this.opacity),a,b)},d.du=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.fa=!0)},k.Opacity=function(a){a.S(cb(100*this.opacity))});b&&(c.Ft=function(a){return a?this.k===a:!1},c.Ut=function(a){var b=this.R(),c=b.ub();if(!c.length)return!1;var d=c[0],e=d,g,f;g=1;for(f=c.length;g<f;g++)if(d=c[g],0===a){if(d.k.index>e.k.index||d.k.index===e.k.index&&d.Sc()>e.Sc())e=d}else if(d.k.index<e.k.index||d.k.index===e.k.index&&d.Sc()<e.Sc())e=d;b.Hg(e);return!0},d.Ot=function(){var a=
this.k,b=a.d;b.length&&b[b.length-1]===this||(a.wf(this,!1),a.If(this,!1),this.b.fa=!0)},d.Mt=function(){var a=this.k,b=a.d;b.length&&b[0]===this||(a.wf(this,!1),a.Fs(this),this.b.fa=!0)},d.Nt=function(a){a&&a!=this.k&&(this.k.wf(this,!0),this.k=a,a.If(this,!0),this.b.fa=!0)},d.ou=function(a,b){var c=0===a;if(b){var d=b.lr(this);d&&d.uid!==this.uid&&(this.k.index!==d.k.index&&(this.k.wf(this,!0),this.k=d.k,d.k.If(this,!0)),this.k.os(this,d,c),this.b.fa=!0)}},k.Jt=function(a){a.la(this.k.sn)},k.It=
function(a){a.Ob(this.k.name)},k.nu=function(a){a.la(this.Sc())});e&&(d.$t=function(a,b){if(this.b.m){var c=this.type.yj(b);if(!(0>c)){var d=1===a;this.yd[c]!==d&&(this.yd[c]=d,this.Jc(),this.b.fa=!0)}}},d.au=function(a,b,c){if(this.b.m){var d=this.type.yj(a);0>d||(a=this.type.L[d],d=this.xa[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.m.yr(a.Fa,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Sb&&(this.b.fa=!0))))}})};Bb=function(){this.Yi=this.Ti=!0;this.type.fh=!0;this.b.fa=!0;var f,m,p=this.Ui;f=0;for(m=
p.length;f<m;++f)p[f](this);this.k.cc&&this.ba()};Cb=function(f){f&&this.Ui.push(f)};Eb=function(){if(this.Ti){var f=this.ea,m=this.Pa;f.set(this.x,this.y,this.x+this.width,this.y+this.height);f.offset(-this.wb*this.width,-this.xb*this.height);this.j?(f.offset(-this.x,-this.y),m.Tn(f,this.j),m.offset(this.x,this.y),m.Hl(f)):m.$d(f);f.normalize();this.Ti=!1;this.kt()}};var f=new sa(0,0,0,0);Fb=function(){if(this.k.cc){var l=this.k.$a,m=this.ea;f.set(l.pb(m.left),l.qb(m.top),l.pb(m.right),l.qb(m.bottom));
this.Cb.Rf(f)||(this.Cb.right<this.Cb.left?l.update(this,null,f):l.update(this,this.Cb,f),this.Cb.Ye(f),this.k.Fc=!0)}};Gb=function(){if(this.Yi&&this.Oc){this.ba();var l=this.type.qh,m=this.ea;f.set(l.pb(m.left),l.qb(m.top),l.pb(m.right),l.qb(m.bottom));this.Ed.Rf(f)||(this.Ed.right<this.Ed.left?l.update(this,null,f):l.update(this,this.Ed,f),this.Ed.Ye(f),this.Yi=!1)}};Db=function(f,m){return this.ea.hb(f,m)&&this.Pa.hb(f,m)?this.td?this.zu(f,m):this.G&&!this.G.hd()?(this.G.$c(this.width,this.height,
this.j),this.G.hb(f-this.x,m-this.y)):!0:!1};xb=function(){this.type.Ki();return this.te};Hb=function(){this.k.ml();return this.Kc};Ib=function(){O(this.X);var f,m,p,q=!0;f=0;for(m=this.yd.length;f<m;f++)this.yd[f]&&(p=this.type.L[f],this.X.push(p),p.Dc||(q=!1));this.uo=!!this.X.length;this.qd=q};yb=function(){return"Inst"+this.Fn};jb=function(f){if(f&&f.jb&&f.type!=this){var m,p,q;m=0;for(p=f.siblings.length;m<p;m++)if(q=f.siblings[m],q.type==this)return q}f=this.R().ub();return f.length?f[0]:null};
kb=function(f){var m=this.R().ub();return m.length?m[f.Yf()%m.length]:null};ib=function(){if(this.Af&&!this.D){var f,m;f=0;for(m=this.d.length;f<m;f++)this.d[f].te=f;var p=f,q=this.b.xc;f=0;for(m=q.length;f<m;++f)q[f].type===this&&(q[f].te=p++);this.Af=!1}};vb=function(f){if(f<this.d.length)return this.d[f];f-=this.d.length;var m=this.b.xc,p,q;p=0;for(q=m.length;p<q;++p)if(m[p].type===this){if(0===f)return m[p];--f}return null};lb=function(){return this.sd[this.Pc]};mb=function(){this.Pc++;this.Pc===
this.sd.length?this.sd.push(new hb(this)):(this.sd[this.Pc].W=!0,O(this.sd[this.Pc].Q))};pb=function(){this.Pc++;this.Pc===this.sd.length&&this.sd.push(new hb(this));var f=this.sd[this.Pc],m=this.sd[this.Pc-1];m.W?f.W=!0:(f.W=!1,xa(f.d,m.d));O(f.Q)};qb=function(){this.Pc--};rb=function(f){var m,p,q,r,g,a=0;if(!this.D)for(m=0,p=this.qa.length;m<p;m++)for(g=this.qa[m],q=0,r=g.wa.length;q<r;q++){if(f===g.wa[q].name)return this.A.lastBehIndex=a,g.wa[q];a++}m=0;for(p=this.wa.length;m<p;m++){if(f===this.wa[m].name)return this.A.lastBehIndex=
a,this.wa[m];a++}return null};sb=function(f){return this.Ih(f)?this.A.lastBehIndex:-1};tb=function(f){var m,p;m=0;for(p=this.L.length;m<p;m++)if(this.L[m].name===f)return m;return-1};ub=function(){if(this.jb&&!this.D){var f,m,p,q,r,g,a;this.Ki();g=this.R();var b=g.W,e=(f=this.b.Ra())&&f.Gb&&f.Gb.jc;f=0;for(m=this.Fb.length;f<m;f++)if(r=this.Fb[f],r!==this&&(r.Ki(),a=r.R(),a.W=b,!b)){O(a.d);p=0;for(q=g.d.length;p<q;++p)a.d[p]=r.zj(g.d[p].te);if(e)for(O(a.Q),p=0,q=g.Q.length;p<q;++p)a.Q[p]=r.zj(g.Q[p].te)}}};
wb=function(){return"Type"+this.T};Wb=function(f,m,p){if("undefined"===typeof f||"undefined"===typeof p)return!1;switch(m){case 0:return f===p;case 1:return f!==p;case 2:return f<p;case 3:return f<=p;case 4:return f>p;case 5:return f>=p;default:return!1}}})();var ec={};function hc(f){this.b=f}
(function(){function f(){}var l=hc.prototype;l.ua=function(f){this.ka=f;this.b=f.b};l.ua.prototype.V=function(){};l.ja=function(f){this.type=f;this.b=f.b;this.mf=Array(256);this.Xg=Array(256);this.vd=0};var m=l.ja.prototype;m.V=function(){var f=this;this.b.yb||(jQuery(document).keydown(function(m){f.rk(m)}),jQuery(document).keyup(function(m){f.sk(m)}))};var p=[32,33,34,35,36,37,38,39,40,44];m.rk=function(f){var m=!1;window!=window.top&&-1<p.indexOf(f.which)&&(f.preventDefault(),m=!0,f.stopPropagation());
if(this.mf[f.which])this.Xg[f.which]&&!m&&f.preventDefault();else{this.mf[f.which]=!0;this.vd=f.which;this.b.Oh=!0;this.b.trigger(hc.prototype.n.$o,this);var g=this.b.trigger(hc.prototype.n.tl,this),a=this.b.trigger(hc.prototype.n.ep,this);this.b.Oh=!1;if(g||a)this.Xg[f.which]=!0,m||f.preventDefault()}};m.sk=function(f){this.mf[f.which]=!1;this.vd=f.which;this.b.Oh=!0;this.b.trigger(hc.prototype.n.sl,this);var m=this.b.trigger(hc.prototype.n.wl,this),g=this.b.trigger(hc.prototype.n.ul,this);this.b.Oh=
!1;if(m||g||this.Xg[f.which])this.Xg[f.which]=!0,f.preventDefault()};m.Je=function(){var f;for(f=0;256>f;++f)if(this.mf[f]){this.mf[f]=!1;this.vd=f;this.b.trigger(hc.prototype.n.sl,this);var m=this.b.trigger(hc.prototype.n.wl,this),g=this.b.trigger(hc.prototype.n.ul,this);if(m||g)this.Xg[f]=!0}};m.kb=function(){return{triggerKey:this.vd}};m.zb=function(f){this.vd=f.triggerKey};f.prototype.Ro=function(f){return this.mf[f]};f.prototype.tl=function(f){return f===this.vd};f.prototype.$o=function(){return!0};
f.prototype.sl=function(){return!0};f.prototype.wl=function(f){return f===this.vd};f.prototype.ep=function(f){return f===this.vd};f.prototype.ul=function(f){return f===this.vd};l.n=new f;l.ga=new function(){};l.Xa=new function(){}})();function Z(f){this.b=f}
(function(){function f(){if(0===this.hj.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.zf?b.drawImage(this.U,this.uf,this.vf,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.U,0,0,this.width,this.height);this.hj=a.toDataURL("image/png")}return this.hj}function l(){}function m(a){a[0]=0;a[1]=0;a[2]=0;k.push(a)}function p(a,b){return a<b?""+a+","+b:""+b+","+a}function q(a,b,c,d){b=b.uid;c=c.uid;var e=p(b,c);if(a.hasOwnProperty(e))a[e][2]=
d;else{var f=k.length?k.pop():[0,0,0];f[0]=b;f[1]=c;f[2]=d;a[e]=f}}function r(a,b,c){b=p(b.uid,c.uid);a.hasOwnProperty(b)&&(m(a[b]),delete a[b])}function g(a,b,c){b=p(b.uid,c.uid);if(a.hasOwnProperty(b))return h=a[b][2],!0;h=-2;return!1}function a(){}var b=Z.prototype;b.ua=function(a){this.ka=a;this.b=a.b};var e=b.ua.prototype;e.V=function(){if(!this.D){var a,b,c,d,e,g,h,k,m;this.tc=[];this.ag=!1;a=0;for(b=this.Eb.length;a<b;a++){e=this.Eb[a];h={};h.name=e[0];h.speed=e[1];h.loop=e[2];h.Hk=e[3];h.Ik=
e[4];h.zn=e[5];h.T=e[6];h.frames=[];c=0;for(d=e[7].length;c<d;c++)g=e[7][c],k={},k.al=g[0],k.bl=g[1],k.uf=g[2],k.vf=g[3],k.width=g[4],k.height=g[5],k.duration=g[6],k.wb=g[7],k.xb=g[8],k.Ij=g[9],k.li=g[10],k.An=g[11],k.zf=0!==k.width,k.hj="",k.ru=f,m={left:0,top:0,right:1,bottom:1},k.Tk=m,k.N=null,(m=this.b.fr(g[0]))?k.U=m:(k.U=new Image,k.U.Qp=g[0],k.U.ej=g[1],k.U.Ip=null,this.b.pl(k.U,g[0])),h.frames.push(k),this.tc.push(k);this.Eb[a]=h}}};e.ro=function(){var a,b,c;a=0;for(b=this.d.length;a<b;a++)c=
this.d[a],c.uh=c.Va.N};e.Gg=function(){if(!this.D){var a,b,c;a=0;for(b=this.tc.length;a<b;++a)c=this.tc[a],c.U.Ip=null,c.N=null;this.ag=!1;this.ro()}};e.ki=function(){if(!this.D&&this.d.length){var a,b,c;a=0;for(b=this.tc.length;a<b;++a)c=this.tc[a],c.N=this.b.m.bi(c.U,!1,this.b.na,c.An);this.ro()}};e.ik=function(){if(!this.D&&!this.ag&&this.b.m){var a,b,c;a=0;for(b=this.tc.length;a<b;++a)c=this.tc[a],c.N=this.b.m.bi(c.U,!1,this.b.na,c.An);this.ag=!0}};e.jl=function(){if(!this.D&&!this.d.length&&
this.ag){var a,b,c;a=0;for(b=this.tc.length;a<b;++a)c=this.tc[a],this.b.m.deleteTexture(c.N),c.N=null;this.ag=!1}};var c=[];e.xk=function(a){var b,d,e;O(c);b=0;for(d=this.tc.length;b<d;++b)e=this.tc[b].U,-1===c.indexOf(e)&&(a.drawImage(e,0,0),c.push(e))};b.ja=function(a){this.type=a;this.b=a.b;a=this.type.Eb[0].frames[0].li;this.lc?this.G.Og(a):this.G=new Xa(a)};var d=b.ja.prototype;d.V=function(){this.visible=0===this.K[0];this.Mh=this.kg=!1;this.Oc=0!==this.K[3];this.ma=this.hm(this.K[1])||this.type.Eb[0];
this.C=this.K[2];0>this.C&&(this.C=0);this.C>=this.ma.frames.length&&(this.C=this.ma.frames.length-1);var a=this.ma.frames[this.C];this.G.Og(a.li);this.wb=a.wb;this.xb=a.xb;this.Ze=this.ma.speed;this.Gd=this.ma.Ik;1===this.type.Eb.length&&1===this.type.Eb[0].frames.length||0===this.Ze||(this.b.Gi(this),this.kg=!0);this.lc?this.Lc.reset():this.Lc=new Va;this.fd=this.Lc.oa;this.ge=!0;this.Zc=0;this.fe=!0;this.Xe=this.Bl="";this.Ol=0;this.ph=-1;this.type.ik();var b,c,d,e,f,g,h,a=0;for(b=this.type.Eb.length;a<
b;a++)for(e=this.type.Eb[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.U.width,f.height=f.U.height),f.zf&&(h=f.U,g=f.Tk,g.left=f.uf/h.width,g.top=f.vf/h.height,g.right=(f.uf+f.width)/h.width,g.bottom=(f.vf+f.height)/h.height,0===f.uf&&0===f.vf&&f.width===h.width&&f.height===h.height&&(f.zf=!1));this.Va=this.ma.frames[this.C];this.uh=this.Va.N};d.kb=function(){var a={a:this.ma.T,f:this.C,cas:this.Ze,fs:this.fd,ar:this.Zc,at:this.Lc.oa,rt:this.Gd};this.ge||(a.ap=this.ge);this.fe||
(a.af=this.fe);return a};d.zb=function(a){var b=this.hr(a.a);b&&(this.ma=b);this.C=a.f;0>this.C&&(this.C=0);this.C>=this.ma.frames.length&&(this.C=this.ma.frames.length-1);this.Ze=a.cas;this.fd=a.fs;this.Zc=a.ar;this.Lc.reset();this.Lc.oa=a.at;this.ge=a.hasOwnProperty("ap")?a.ap:!0;this.fe=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.Gd=a.rt:this.Gd=this.ma.Ik;this.Va=this.ma.frames[this.C];this.uh=this.Va.N;this.G.Og(this.Va.li);this.wb=this.Va.wb;this.xb=this.Va.xb};d.Si=function(a){this.C=
a?0:this.ma.frames.length-1;this.ge=!1;this.Bl=this.ma.name;this.Mh=!0;this.b.trigger(Z.prototype.n.Zo,this);this.b.trigger(Z.prototype.n.Yo,this);this.Mh=!1;this.Zc=0};d.Fl=function(){return this.Lc.oa};d.$b=function(){this.Lc.add(this.b.Jh(this));this.Xe.length&&this.Wl();0<=this.ph&&this.Xl();var a=this.Lc.oa,b=this.ma,c=b.frames[this.C],d=c.duration/this.Ze;this.ge&&a>=this.fd+d&&(this.fe?this.C++:this.C--,this.fd+=d,this.C>=b.frames.length&&(b.zn?(this.fe=!1,this.C=b.frames.length-2):b.loop?
this.C=this.Gd:(this.Zc++,this.Zc>=b.Hk?this.Si(!1):this.C=this.Gd)),0>this.C&&(b.zn?(this.C=1,this.fe=!0,b.loop||(this.Zc++,this.Zc>=b.Hk&&this.Si(!0))):b.loop?this.C=this.Gd:(this.Zc++,this.Zc>=b.Hk?this.Si(!0):this.C=this.Gd)),0>this.C?this.C=0:this.C>=b.frames.length&&(this.C=b.frames.length-1),a>this.fd+b.frames[this.C].duration/this.Ze&&(this.fd=a),a=b.frames[this.C],this.Ve(c,a),this.b.fa=!0)};d.hm=function(a){var b,c,d;b=0;for(c=this.type.Eb.length;b<c;b++)if(d=this.type.Eb[b],db(d.name,a))return d;
return null};d.hr=function(a){var b,c,d;b=0;for(c=this.type.Eb.length;b<c;b++)if(d=this.type.Eb[b],d.T===a)return d;return null};d.Wl=function(){var a=this.ma.frames[this.C],b=this.hm(this.Xe);this.Xe="";!b||db(b.name,this.ma.name)&&this.ge||(this.ma=b,this.Ze=b.speed,this.Gd=b.Ik,0>this.C&&(this.C=0),this.C>=this.ma.frames.length&&(this.C=this.ma.frames.length-1),1===this.Ol&&(this.C=0),this.ge=!0,this.fd=this.Lc.oa,this.fe=!0,this.Ve(a,this.ma.frames[this.C]),this.b.fa=!0)};d.Xl=function(){var a=
this.ma.frames[this.C],b=this.C;this.C=N(this.ph);0>this.C&&(this.C=0);this.C>=this.ma.frames.length&&(this.C=this.ma.frames.length-1);b!==this.C&&(this.Ve(a,this.ma.frames[this.C]),this.fd=this.Lc.oa,this.b.fa=!0);this.ph=-1};d.Ve=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.wb=b.wb;this.xb=b.xb;this.G.Og(b.li);this.J();this.Va=b;this.uh=b.N;c=0;for(d=this.F.length;c<d;c++)e=this.F[c],e.vs&&e.vs(a,b);this.b.trigger(Z.prototype.n.Ve,
this)};d.yc=function(a){a.globalAlpha=this.opacity;var b=this.Va,c=b.zf,d=b.U,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.j&&0<=g&&0<=h)e-=this.wb*g,f-=this.xb*h,this.b.Cc&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.uf,b.vf,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h);else{this.b.Cc&&(e=Math.round(e),f=Math.round(f));a.save();var k=0<g?1:-1,m=0<h?1:-1;a.translate(e,f);1===k&&1===m||a.scale(k,m);a.rotate(this.j*k*m);e=0-this.wb*ka(g);f=0-this.xb*ka(h);c?a.drawImage(d,b.uf,
b.vf,b.width,b.height,e,f,ka(g),ka(h)):a.drawImage(d,e,f,ka(g),ka(h));a.restore()}};d.le=function(a){this.tb(a)};d.tb=function(a){a.Ma(this.uh);a.Yd(this.opacity);var b=this.Va,c=this.Pa;if(this.b.Cc){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.zf?a.Vc(c.Na+d,c.Oa+e,c.nb+d,c.ob+e,c.fb+d,c.gb+e,c.cb+d,c.eb+e,b.Tk):a.Le(c.Na+d,c.Oa+e,c.nb+d,c.ob+e,c.fb+d,c.gb+e,c.cb+d,c.eb+e)}else b.zf?a.Vc(c.Na,c.Oa,c.nb,c.ob,c.fb,c.gb,c.cb,c.eb,b.Tk):a.Le(c.Na,c.Oa,c.nb,c.ob,c.fb,c.gb,c.cb,c.eb)};
d.nr=function(a){var b=this.Va,c,d;c=0;for(d=b.Ij.length;c<d;c++)if(db(a,b.Ij[c][0]))return c;return-1};d.Vf=function(a,b){var c=this.Va,d=c.Ij,e;w(a)?e=this.nr(a):e=a-1;e=N(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.wb)*this.width,d=d[e][2],d=(d-c.xb)*this.height,c=Math.cos(this.j);e=Math.sin(this.j);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var k=[],h=-2,y=[];l.prototype.cp=function(a){if(!a)return!1;var b=this.b,c=b.gf(),d=c.type,e=null;c.A.collmemory?e=c.A.collmemory:
(e={},c.A.collmemory=e);c.A.spriteCreatedDestroyCallback||(c.A.spriteCreatedDestroyCallback=!0,b.yp(function(a){var b=c.A.collmemory;a=a.uid;var d,e;for(d in b)b.hasOwnProperty(d)&&(e=b[d],e[0]===a||e[1]===a)&&(m(b[d]),delete b[d])}));var f=d.R(),k=a.R(),f=f.ub(),l,n,p,t,I,W,ja,K=this.b.qc,x=K-1,z=b.Ra().Gb;for(n=0;n<f.length;n++){p=f[n];k.W?(p.ba(),this.b.vj(p.k,a,p.ea,y),l=y,this.b.Ap(p,a,l)):l=k.ub();for(t=0;t<l.length;t++)I=l[t],b.be(p,I)||b.Np(p,I)?(W=g(e,p,I),W=!W||h<x,q(e,p,I,K),W&&(b.oi(z.ta),
W=d.R(),ja=a.R(),W.W=!1,ja.W=!1,d===a?(W.d.length=2,W.d[0]=p,W.d[1]=I,d.Mc()):(W.d.length=1,ja.d.length=1,W.d[0]=p,ja.d[0]=I,d.Mc(),a.Mc()),z.Os(),b.Ke(z.ta))):r(e,p,I);O(y)}return!1};var L=null,H=new ba,n=!1,t=[],C=new sa(0,0,0,0);e.finish=function(a){if(n){if(a){var b=this.b.Ra().Gb.jc;a=L.R();var c=H.ec(),d,e;if(a.W){a.W=!1;O(a.d);d=0;for(e=c.length;d<e;++d)a.d[d]=c[d];if(b)for(O(a.Q),d=0,e=L.d.length;d<e;++d)c=L.d[d],H.contains(c)||a.Q.push(c)}else if(b)for(b=a.d.length,d=0,e=c.length;d<e;++d)a.d[b+
d]=c[d],Ca(a.Q,c[d]);else xa(a.d,c);L.Mc()}H.clear();n=!1}};l.prototype.Uo=function(a){if(a){var b=!1,c,d,e,f=this.b.gf(),g=f.type,f=f.gg;c=a.R();d=this.b.Ra().Gb.jc;var h;c.W?(this.ba(),C.Ye(this.ea),C.offset(0,0),this.b.vj(this.k,a,C,t),h=t):h=d?this.b.$r()&&!c.Q.length&&c.d.length?c.d:c.Q:c.d;L=a;n=g!==a&&!f;c=0;for(d=h.length;c<d;c++)if(e=h[c],this.b.be(this,e)){b=!0;if(f)break;g!==a&&H.add(e)}O(t);a=b}else a=!1;return a};l.prototype.Mo=function(a){return this.Xe.length?db(this.Xe,a):db(this.ma.name,
a)};l.prototype.Do=function(a,b){return Wb(this.C,a,b)};l.prototype.Yo=function(a){return db(this.Bl,a)};l.prototype.Zo=function(){return!0};l.prototype.Ve=function(){return!0};b.n=new l;a.prototype.rp=function(a,b,c){if(a&&b&&(b=this.b.fj(a,b,this.Vf(c,!0),this.Vf(c,!1)))){"undefined"!==typeof b.j&&(b.j=this.j,b.J());this.b.Xb++;var d,e,f;this.b.trigger(Object.getPrototypeOf(a.ka).n.Ue,b);if(b.jb)for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],this.b.trigger(Object.getPrototypeOf(f.type.ka).n.Ue,
f);this.b.Xb--;d=this.b.jr();c=!1;if(fa(d.A.Spawn_LastExec)||d.A.Spawn_LastExec<this.b.qe)c=!0,d.A.Spawn_LastExec=this.b.qe;if(a!=this.type&&(a=a.R(),a.W=!1,c?(O(a.d),a.d[0]=b):a.d.push(b),b.jb))for(d=0,e=b.siblings.length;d<e;d++)f=b.siblings[d],a=f.type.R(),a.W=!1,c?(O(a.d),a.d[0]=f):a.d.push(f)}};a.prototype.jp=function(a,b){this.Xe=a;this.Ol=b;this.kg||(this.b.Gi(this),this.kg=!0);this.Mh||this.Wl()};a.prototype.kp=function(a){this.ph=a;this.kg||(this.b.Gi(this),this.kg=!0);this.Mh||this.Xl()};
b.ga=new a;b.Xa=new function(){}})();function ic(f){this.b=f}
(function(){function f(){return a.length?a.pop():{}}function l(b){var e,c;e=0;for(c=b.length;e<c;e++)a.push(b[e]);O(b)}function m(a){return a.length&&" "===a.charAt(a.length-1)?a.substring(0,a.length-1):a}function p(){}var q=ic.prototype;q.V=function(){q.ga.qp=function(a){this.width!==a&&(this.width=a,this.Pe=!0,this.J())}};q.ua=function(a){this.ka=a;this.b=a.b};var r=q.ua.prototype;r.V=function(){};r.Gg=function(){if(!this.D){var a,e,c;a=0;for(e=this.d.length;a<e;a++)c=this.d[a],c.Tc=null,c.Fe=null,
c.Mb=null}};q.ja=function(a){this.type=a;this.b=a.b;this.lc?O(this.Rd):this.Rd=[];this.Pe=!0};r=q.ja.prototype;r.V=function(){this.text=this.K[0];this.visible=0===this.K[1];this.font=this.K[2];this.color=this.K[3];this.Lh=this.K[4];this.Mi=this.K[5];this.ql=0===this.K[7];this.ck=this.Vh=this.width;this.Uh=this.height;this.hk=this.K[8];this.Eh=this.cf="";this.eo=this.fo=this.Jg=0;this.ys();this.Mb=this.Fe=this.Tc=null;this.qn=!1;this.qg=this.b.qc;this.lc?this.Wd.set(0,0,1,1):this.Wd=new sa(0,0,1,1);
this.b.m&&this.b.Gi(this)};r.ys=function(){var a=this.font.split(" "),e;for(e=0;e<a.length;e++)if("pt"===a[e].substr(a[e].length-2,2)){this.Jg=parseInt(a[e].substr(0,a[e].length-2));this.Bk=Math.ceil(this.Jg/72*96)+4;0<e&&(this.Eh=a[e-1]);this.cf=a[e+1];for(e+=2;e<a.length;e++)this.cf+=" "+a[e];break}};r.kb=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Lh,va:this.Mi,wr:this.ql,lho:this.hk,fn:this.cf,fs:this.Eh,ps:this.Jg,pxh:this.Bk,tw:this.fo,th:this.eo,lrt:this.qg}};r.zb=function(a){this.text=
a.t;this.font=a.f;this.color=a.c;this.Lh=a.ha;this.Mi=a.va;this.ql=a.wr;this.hk=a.lho;this.cf=a.fn;this.Eh=a.fs;this.Jg=a.ps;this.Bk=a.pxh;this.fo=a.tw;this.eo=a.th;this.qg=a.lrt;this.Pe=!0;this.ck=this.Vh=this.width;this.Uh=this.height};r.$b=function(){if(this.b.m&&this.Mb&&300<=this.b.qc-this.qg){var a=this.k;this.ba();var e=this.ea;if(e.right<a.Y||e.bottom<a.Z||e.left>a.da||e.top>a.ca)this.b.m.deleteTexture(this.Mb),this.Tc=this.Fe=this.Mb=null}};r.Ie=function(){this.Tc=this.Fe=null;this.b.m&&
this.Mb&&this.b.m.deleteTexture(this.Mb);this.Mb=null};r.Fl=function(){this.font=this.Eh+" "+this.Jg.toString()+"pt "+this.cf;this.Pe=!0;this.b.fa=!0};r.yc=function(a,e){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=e?1:this.opacity;var c=1;e&&(c=Math.abs(this.k.Jb()),a.save(),a.scale(c,c));if(this.Pe||this.width!==this.ck)this.type.ka.up(this.text,this.Rd,a,this.width,this.ql),this.Pe=!1,this.ck=this.width;this.ba();var c=e?0:this.Pa.Na,d=e?0:this.Pa.Oa;this.b.Cc&&(c=
c+.5|0,d=d+.5|0);0===this.j||e||(a.save(),a.translate(c,d),a.rotate(this.j),d=c=0);var f=d+this.height,g=this.Bk,g=g+this.hk,m,l;1===this.Mi?d+=Math.max(this.height/2-this.Rd.length*g/2,0):2===this.Mi&&(d+=Math.max(this.height-this.Rd.length*g-2,0));for(l=0;l<this.Rd.length&&!(m=c,1===this.Lh?m=c+(this.width-this.Rd[l].width)/2:2===this.Lh&&(m=c+(this.width-this.Rd[l].width)),a.fillText(this.Rd[l].text,m,d),d+=g,d>=f-g);l++);(0!==this.j||e)&&a.restore();this.qg=this.b.qc};r.tb=function(a){if(!(1>
this.width||1>this.height)){var e=this.Pe||this.qn;this.qn=!1;var c=this.k.Jb(),d=this.k.Ib(),f=this.Wd,g=c*this.width,m=c*this.height,l=Math.ceil(g),p=Math.ceil(m),n=Math.abs(l),q=Math.abs(p),r=this.b.I/2,v=this.b.H/2;this.Fe||(this.Tc=document.createElement("canvas"),this.Tc.width=n,this.Tc.height=q,this.Vh=n,this.Uh=q,e=!0,this.Fe=this.Tc.getContext("2d"));if(n!==this.Vh||q!==this.Uh)this.Tc.width=n,this.Tc.height=q,this.Mb&&(a.deleteTexture(this.Mb),this.Mb=null),e=!0;e&&(this.Fe.clearRect(0,
0,n,q),this.yc(this.Fe,!0),this.Mb||(this.Mb=a.sb(n,q,this.b.na,this.b.we)),a.ol(this.Tc,this.Mb,this.b.we));this.Vh=n;this.Uh=q;a.Ma(this.Mb);a.Yd(this.opacity);a.mc();a.translate(-r,-v);a.ac();var u=this.Pa,e=this.k.ra(u.Na,u.Oa,!0,!0),n=this.k.ra(u.Na,u.Oa,!1,!0),q=this.k.ra(u.nb,u.ob,!0,!0),r=this.k.ra(u.nb,u.ob,!1,!0),v=this.k.ra(u.fb,u.gb,!0,!0),D=this.k.ra(u.fb,u.gb,!1,!0),T=this.k.ra(u.cb,u.eb,!0,!0),u=this.k.ra(u.cb,u.eb,!1,!0);if(this.b.Cc||0===this.j&&0===d)var X=(e+.5|0)-e,F=(n+.5|0)-
n,e=e+X,n=n+F,q=q+X,r=r+F,v=v+X,D=D+F,T=T+X,u=u+F;0===this.j&&0===d?(q=e+l,r=n,v=q,D=n+p,T=e,u=D,f.right=1,f.bottom=1):(f.right=g/l,f.bottom=m/p);a.Vc(e,n,q,r,v,D,T,u,f);a.mc();a.scale(c,c);a.ti(-this.k.Ib());a.translate((this.k.Y+this.k.da)/-2,(this.k.Z+this.k.ca)/-2);a.ac();this.qg=this.b.qc}};var g=[];q.tp=function(a){O(g);for(var e="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)e.length&&(g.push(e),e=""),g.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do e+=a.charAt(d),d++;while(d<a.length&&
(" "===a.charAt(d)||"\t"===a.charAt(d)));g.push(e);e=""}else d<a.length&&(e+=c,d++);e.length&&g.push(e)};var a=[];q.up=function(a,e,c,d,g){if(a&&a.length)if(2>=d)l(e);else{if(100>=a.length&&-1===a.indexOf("\n")){var h=c.measureText(a).width;if(h<=d){l(e);e.push(f());e[0].text=a;e[0].width=h;return}}this.vp(a,e,c,d,g)}else l(e)};q.vp=function(b,e,c,d,k){k&&(this.tp(b),b=g);var h="",l,p,q,n=0;for(q=0;q<b.length;q++)"\n"===b[q]?(n>=e.length&&e.push(f()),h=m(h),p=e[n],p.text=h,p.width=c.measureText(h).width,
n++,h=""):(l=h,h+=b[q],p=c.measureText(h).width,p>=d&&(n>=e.length&&e.push(f()),l=m(l),p=e[n],p.text=l,p.width=c.measureText(l).width,n++,h=b[q],k||" "!==h||(h="")));h.length&&(n>=e.length&&e.push(f()),h=m(h),p=e[n],p.text=h,p.width=c.measureText(h).width,n++);for(q=n;q<e.length;q++)a.push(e[q]);e.length=n};q.n=new function(){};p.prototype.mp=function(a){ga(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Pe=!0,this.b.fa=!0)};q.ga=new p;q.Xa=new function(){}})();
function jc(f){this.b=f}
(function(){var f=jc.prototype;f.ua=function(f){this.ka=f;this.b=f.b};var l=f.ua.prototype;l.V=function(){this.D||(this.U=new Image,this.U.ej=this.bl,this.b.pl(this.U,this.al),this.N=this.pattern=null)};l.Gg=function(){this.D||(this.N=null)};l.ki=function(){if(!this.D&&this.d.length){this.N||(this.N=this.b.m.bi(this.U,!0,this.b.na,this.cl));var f,l;f=0;for(l=this.d.length;f<l;f++)this.d[f].N=this.N}};l.ik=function(){this.D||this.N||!this.b.m||(this.N=this.b.m.bi(this.U,!0,this.b.na,this.cl))};l.jl=
function(){this.D||this.d.length||!this.N||(this.b.m.deleteTexture(this.N),this.N=null)};l.xk=function(f){f.drawImage(this.U,0,0)};f.ja=function(f){this.type=f;this.b=f.b};l=f.ja.prototype;l.V=function(){this.visible=0===this.K[0];this.Wd=new sa(0,0,0,0);this.rm=!1;this.U=this.type.U;this.b.m?(this.type.ik(),this.N=this.type.N):(this.type.pattern||(this.type.pattern=this.b.pa.createPattern(this.type.U,"repeat")),this.pattern=this.type.pattern)};l.Ad=function(){this.rm=!1;this.U=this.type.U};l.Ie=
function(){this.b.m&&this.rm&&this.N&&(this.b.m.deleteTexture(this.N),this.N=null)};l.yc=function(f){f.globalAlpha=this.opacity;f.save();f.fillStyle=this.pattern;var l=this.x,q=this.y;this.b.Cc&&(l=Math.round(l),q=Math.round(q));var r=-(this.wb*this.width),g=-(this.xb*this.height),a=r%this.U.width,b=g%this.U.height;0>a&&(a+=this.U.width);0>b&&(b+=this.U.height);f.translate(l,q);f.rotate(this.j);f.translate(a,b);f.fillRect(r-a,g-b,this.width,this.height);f.restore()};l.le=function(f){this.tb(f)};l.tb=
function(f){f.Ma(this.N);f.Yd(this.opacity);var l=this.Wd;l.right=this.width/this.U.width;l.bottom=this.height/this.U.height;var q=this.Pa;if(this.b.Cc){var r=Math.round(this.x)-this.x,g=Math.round(this.y)-this.y;f.Vc(q.Na+r,q.Oa+g,q.nb+r,q.ob+g,q.fb+r,q.gb+g,q.cb+r,q.eb+g,l)}else f.Vc(q.Na,q.Oa,q.nb,q.ob,q.fb,q.gb,q.cb,q.eb,l)};f.n=new function(){};f.ga=new function(){};f.Xa=new function(){}})();function kc(f){this.b=f}
(function(){function f(a){a%=d.length;0>a&&(a+=d.length);return a}function l(){var a,b,c,e;a=0;for(b=d.length;a<b;++a)c=d[a],(e=d[f(a-1)])&&!c&&(h=a),!e&&c&&(L=a)}var m=kc.prototype;m.ua=function(a){this.ka=a;this.b=a.b};var p=m.ua.prototype,q=!1,r=null,g=null;p.V=function(){this.D||q||(q=!0,r=new Image,r.ej=15E3,this.b.pl(r,"penumbra.png"))};p.Gg=function(){if(!this.D){this.Nb=this.N=null;var a,b,c;a=0;for(b=this.d.length;a<b;++a)c=this.d[a],c.N=null,c.Nb=null}};p.ki=function(){if(!this.D){var a,
b;a=0;for(b=this.d.length;a<b;++a)this.d[a].Sl()}};m.ja=function(a){this.type=a;this.b=a.b};p=m.ja.prototype;p.V=function(){if(!g){var a=r.width,b=r.height,c=document.createElement("canvas");c.width=a;c.height=b;c=c.getContext("2d");c.clearRect(0,0,a,b);c.drawImage(r,0,0,a,b);g=c.getImageData(0,0,a,b).data}this.Pd=this.x;this.Qd=this.y;this.Qm=this.K[0];this.Ab=1E3;this.rf=this.K[1];this.Ml=this.K[2];this.tag=this.K[3];this.ek=this.fk=this.gk=0;this.Jm=this.x;this.Km=this.y;this.Nb=this.N=null;this.b.m?
this.Sl():this.rf=0;this.b.ft(this)};p.Nl=function(a){return 1===this.Ml?db(this.tag,a):2===this.Ml?!db(this.tag,a):!0};p.Vg=function(){if(this.Jm!==this.x||this.Km!==this.y)this.Pd=this.x,this.Qd=this.y;var a=this.k,b=(a.Y+a.da)/2,c=(a.Z+a.ca)/2,d=a.da-a.Y+this.Ab,e=a.ca-a.Z+this.Ab;if(b!==this.x||c!==this.y||d!==this.width||e!==this.height)this.x=b,this.y=c,this.width=d,this.height=e,this.J();this.Jm=this.x;this.Km=this.y;this.Ab=15*Ma(a.Y,a.Z,a.da,a.ca)};p.Ie=function(){this.b.m&&(this.N&&(this.b.m.deleteTexture(this.N),
this.N=null),this.Nb&&(this.b.m.deleteTexture(this.Nb),this.Nb=null))};p.kb=function(){return{}};p.zb=function(){};var a=[],b=[];p.nm=function(){this.b.Qk&&(this.b.Cj(this.k,this.b.Qk.uu,this.ea,a),Ra(a))};var e=[],c=0,d=[],k=[],h=-1,y=-1,L=-1,H=-1,n=0,t=0,C=[],v=0,u=0,D=0,T=0,X=0,F=0,M=0,V=0,G=new Xa([]);p.yc=function(c){this.nm();c.save();c.fillStyle="rgba("+this.gk+","+this.fk+","+this.ek+","+this.opacity+")";var e,f,g,h,k,l,m,n,p,q;e=0;for(f=a.length;e<f;++e)if(g=a[e],g.A.shadowcasterEnabled&&
this.Nl(g.A.shadowcasterTag))if(g.ba(),m=g.A.shadowcasterHeight,g.td){g.wj(this.ea,b);n=g.x;p=g.y;g=0;for(h=b.length;g<h;++g){k=b[g];q=k.Ek;k.pd?(k=k.pd,l=q.left,q=q.top):(G.$d(q,0,0),k=G,q=l=0);this.oh(k,n+l,p+q,m,!1);c.beginPath();c.moveTo(C[0],C[1]);k=2;for(l=C.length;k<l;k+=2)c.lineTo(C[k],C[k+1]);c.closePath();c.fill();O(d);O(C)}O(b)}else{g.G&&!g.G.hd()?(g.G.$c(g.width,g.height,g.j),k=g.G):(G.Zd(g.Pa,g.x,g.y,g.width,g.height),k=G);this.oh(k,g.x,g.y,m,Na(0>g.width,0>g.height));c.beginPath();c.moveTo(C[0],
C[1]);g=2;for(h=C.length;g<h;g+=2)c.lineTo(C[g],C[g+1]);c.closePath();c.fill();O(d);O(C)}c.restore();O(a)};p.tr=function(a,b,d,f){c=a.Zb;O(e);var g,h=a.Ba;t=n=0;var k;for(k=0;k<c;++k)g=2*k,a=h[g]+b,g=h[g+1]+d,f?(e.unshift(g),e.unshift(a)):(e.push(a),e.push(g)),n+=a,t+=g;n/=c;t/=c};p.oh=function(a,b,f,g,m){this.tr(a,b,f,m);var n;O(d);O(k);O(C);H=y=L=h=-1;f=this.Pd;m=this.Qd;if(0<this.rf)this.Wi(-this.rf),l(),xa(k,d),y=h,H=L,O(d),L=h=-1,this.Wi(this.rf),l(),-1!==h&&-1!==L&&-1!==y&&-1!==H&&this.Kp();
else for(this.Wi(0),l(),a=0;a<c;++a)n=2*a,b=e[n],n=e[n+1],this.Jp(a,f,m,b,n,g)};p.Jp=function(a,b,c,e,g,k){var l;l=d[f(a-1)];var m=a===h,n=a===L;d[a]||l?(a=U(b,c,e,g),l=Ma(b,c,e,g),k=this.Lp(b,c,e,g,k),b+=Math.cos(a)*(l+k),c+=Math.sin(a)*(l+k)):(b=e,c=g);n&&(C.push(e),C.push(g));C.push(b);C.push(c);m&&(C.push(e),C.push(g))};p.Wi=function(a){var b=this.Pd,f=this.Qd,g=b,h=f,k,l,m,p,q;for(k=0;k<c;++k)l=2*k,m=k+1,m=m===c?0:2*m,p=e[l],l=e[l+1],q=e[m],m=e[m+1],0!==a&&(h=U(b,f,n,t)-Math.PI/2,g=b+Math.cos(h)*
a,h=f+Math.sin(h)*a),d.push(Ja(U(p,l,g,h),U(p,l,q,m)-Math.PI/2)>=Math.PI/2)};var R=0,E=0;p.Kp=function(){for(var a=y,b,d,f;a=a%c,b=2*a,d=e[b],f=e[b+1],C.push(d),C.push(f),a!==L;++a);var g=this.rf,h=U(this.Pd,this.Qd,n,t),a=this.Pd+Math.cos(h-Math.PI/2)*g,k=this.Qd+Math.sin(h-Math.PI/2)*g,h=U(a,k,d,f),l=Ma(a,k,d,f),a=a+Math.cos(h)*(l+this.Ab),k=k+Math.sin(h)*(l+this.Ab);b=2*y;var m=e[b];b=e[b+1];var h=U(this.Pd,this.Qd,n,t),p=this.Pd+Math.cos(h+Math.PI/2)*g,q=this.Qd+Math.sin(h+Math.PI/2)*g,h=U(p,
q,m,b),l=Ma(p,q,m,b),g=p+Math.cos(h)*(l+this.Ab),h=q+Math.sin(h)*(l+this.Ab);X=d;F=f;v=m;u=b;var r,H,G,l=a-d,p=k-f;r=g-m;H=h-b;G=-r*p+l*H;0===G?d=!1:(q=(-p*(d-m)+l*(f-b))/G,G=-r*p+l*H,0===G?d=!1:(m=(r*(f-b)-H*(d-m))/G,0<=q&&1>=q&&0<=m&&1>=m?(R=d+m*l,E=f+m*p,d=!0):d=!1));d?(C.push(R),C.push(E),M=R,V=E,D=R,T=E):(C.push(a),C.push(k),C.push(g),C.push(h),M=a,V=k,D=g,T=h)};p.Lp=function(a,b,c,d,e){if(e>=this.Qm)return this.Ab;if(0>=e)return 0;a=Ma(a,b,c,d);a=Math.atan(a/(this.Qm-e));e=e*Math.tan(a);e>=
this.Ab&&(e=this.Ab);0>e&&(e=0);return e};p.tb=function(c){c.Yd(this.opacity);this.nm();var e,f,g,k,l,m,n,p,q,r;e=0;for(f=a.length;e<f;++e)if(g=a[e],g.A.shadowcasterEnabled&&this.Nl(g.A.shadowcasterTag))if(g.ba(),l=g.A.shadowcasterHeight,g.td){g.wj(this.ea,b);n=g.x;p=g.y;g=0;for(k=b.length;g<k;++g)m=b[g],q=m.Ek,m.pd?(m=m.pd,r=q.left,q=q.top):(G.$d(q,0,0),m=G,q=r=0),this.oh(m,n+r,p+q,l,!1),6>C.length||(c.Ma(this.N),c.Rl(C),-1<h&&-1<y&&(c.Ma(this.Nb),this.zh(c,!0)),-1<L&&-1<H&&(c.Ma(this.Nb),this.zh(c,
!1)),O(d),O(C));O(b)}else g.G&&!g.G.hd()?(g.G.$c(g.width,g.height,g.j),m=g.G):(G.Zd(g.Pa,g.x,g.y,g.width,g.height),m=G),this.oh(m,g.x,g.y,l,Na(0>g.width,0>g.height)),6>C.length||(c.Ma(this.N),c.Rl(C),-1<h&&-1<y&&(c.Ma(this.Nb),this.zh(c,!0)),-1<L&&-1<H&&(c.Ma(this.Nb),this.zh(c,!1)),O(d),O(C));O(a)};p.zh=function(a,b){var c=this.Pd,d=this.Qd,f,g,k,l,m,p;b?(k=v,l=u,m=D,p=T):(k=X,l=F,m=M,p=V);var q=this.rf,r=U(c,d,n,t),C=Math.PI/2;b&&(C=-C);c+=Math.cos(r+C)*q;d+=Math.sin(r+C)*q;q=!1;if(b){if(q=h!==
y)f=e[2*h],g=e[2*h+1]}else if(q=L!==H)f=e[2*H],g=e[2*H+1];var r=q?U(f,g,k,l):U(c,d,k,l),C=k+Math.cos(r)*this.Ab,E=l+Math.sin(r)*this.Ab,G,R,oa,nb=oa=0,ob=1;q&&(oa=U(c,d,f,g),G=f+Math.cos(oa)*this.Ab,R=g+Math.sin(oa)*this.Ab,c=U(k,l,m,p),oa=Ja(r,oa)/Ja(c,oa),r=Ma(f,g,k,l),r=r/(r+this.Ab),c=U(0,1,oa,0),d=Ma(0,1,oa,0),nb+=Math.cos(c)*r*d,ob+=Math.sin(c)*r*d);a.Hn(k,l,m,p,C,E,C,E,nb,ob,1,oa,oa);q&&a.Hn(f,g,C,E,G,R,G,R,0,1,oa,0,0)};p.Sl=function(){this.b.m&&(this.N&&(this.b.m.deleteTexture(this.N),this.N=
null),this.Nb&&(this.b.m.deleteTexture(this.Nb),this.Nb=null),this.Rp(),this.Up())};p.Rp=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.gk+","+this.fk+","+this.ek+")";b.fillRect(0,0,16,16);this.N=this.b.m.sb(16,16,!1,!1,!0);this.b.m.ol(a,this.N)};p.Up=function(){var a=r.width,b=r.height,c=this.gk,d=this.fk,e=this.ek,f=g,h=document.createElement("canvas");h.width=a;h.height=b;var k=h.getContext("2d"),l=k.createImageData(a,b),
m=l.data,n,p;n=0;for(p=m.length;n<p;n+=4)m[n]=c,m[n+1]=d,m[n+2]=e,m[n+3]=f[n+3];k.putImageData(l,0,0);this.Nb=this.b.m.sb(a,b,this.b.na,!1,!1);this.b.m.ol(h,this.Nb)};m.n=new function(){};m.ga=new function(){};m.Xa=new function(){}})();function lc(f){this.b=f}
(function(){var f=lc.prototype;f.ua=function(f){this.behavior=f;this.b=f.b};f.ua.prototype.V=function(){};f.ja=function(f,l){this.type=f;this.behavior=f.behavior;this.i=l;this.b=f.b};var l=f.ja.prototype;l.V=function(){var f=this.K[0];this.rb=this.K[1];this.Hh=this.K[2];this.Gp=0!==this.K[3];this.Pk=0!==this.K[4];this.B=Math.cos(this.i.j)*f;this.u=Math.sin(this.i.j)*f;this.Wh=this.i.x;this.Xh=this.i.y;this.nf=this.i.j;this.Ii=0;this.enabled=0!==this.K[5]};l.kb=function(){return{acc:this.rb,g:this.Hh,
dx:this.B,dy:this.u,lx:this.Wh,ly:this.Xh,lka:this.nf,t:this.Ii,e:this.enabled}};l.zb=function(f){this.rb=f.acc;this.Hh=f.g;this.B=f.dx;this.u=f.dy;this.Wh=f.lx;this.Xh=f.ly;this.nf=f.lka;this.Ii=f.t;this.enabled=f.e};l.$b=function(){if(this.enabled){var f=this.b.Jh(this.i),l,q;this.i.j!==this.nf&&(this.Pk&&(l=Ma(0,0,this.B,this.u),this.B=Math.cos(this.i.j)*l,this.u=Math.sin(this.i.j)*l),this.nf=this.i.j);0!==this.rb&&(l=Ma(0,0,this.B,this.u),q=0===this.B&&0===this.u?this.i.j:U(0,0,this.B,this.u),
l+=this.rb*f,0>l&&(l=0),this.B=Math.cos(q)*l,this.u=Math.sin(q)*l);0!==this.Hh&&(this.u+=this.Hh*f);this.Wh=this.i.x;this.Xh=this.i.y;if(0!==this.B||0!==this.u)if(this.i.x+=this.B*f,this.i.y+=this.u*f,this.Ii+=Ma(0,0,this.B*f,this.u*f),this.Pk&&(this.i.j=U(0,0,this.B,this.u),this.i.J(),this.nf=this.i.j),this.i.J(),this.Gp&&(l=this.b.Hc(this.i)))this.b.Lg(this.i,l),l=Ma(0,0,this.B,this.u),q=this.b.Mp(this.i,this.Wh,this.Xh),this.B=Math.cos(q)*l,this.u=Math.sin(q)*l,this.i.x+=this.B*f,this.i.y+=this.u*
f,this.i.J(),this.Pk&&(this.nf=this.i.j=q,this.i.J()),this.b.Ak(this.i,this.B/l,this.u/l,Math.max(2.5*l*f,30))||this.b.Gn(this.i,100)}};f.n=new function(){};f.ga=new function(){};f.Xa=new function(){}})();function mc(f){this.b=f}
(function(){function f(){}function l(){}var m=mc.prototype;m.ua=function(f){this.behavior=f;this.b=f.b};m.ua.prototype.V=function(){};m.ja=function(f,l){this.type=f;this.behavior=f.behavior;this.i=l;this.b=f.b;this.Wk=this.Vk=this.Uk=this.Xk=this.Hj=this.Mg=this.rg=this.Qf=this.Wg=!1;this.ak=this.$j=this.Zj=this.bk=-1;this.u=this.B=0};var p=m.ja.prototype;p.V=function(){this.Ag=this.K[0];this.rb=this.K[1];this.Qc=this.K[2];this.kj=this.K[3];this.Ri=this.K[4];this.Vp=1===this.K[5];this.enabled=0!==
this.K[6];this.Vp&&!this.b.yb&&(jQuery(document).keydown(function(f){return function(l){f.rk(l)}}(this)),jQuery(document).keyup(function(f){return function(l){f.sk(l)}}(this)))};p.kb=function(){return{dx:this.B,dy:this.u,enabled:this.enabled,maxspeed:this.Ag,acc:this.rb,dec:this.Qc,ignoreInput:this.Hj}};p.zb=function(f){this.B=f.dx;this.u=f.dy;this.enabled=f.enabled;this.Ag=f.maxspeed;this.rb=f.acc;this.Qc=f.dec;this.Hj=f.ignoreInput;this.Wk=this.Vk=this.Uk=this.Xk=this.Mg=this.rg=this.Qf=this.Wg=
!1;this.ak=this.$j=this.Zj=this.bk=-1};p.rk=function(f){var l=this.b.qc;switch(f.which){case 37:f.preventDefault();this.$j<l&&(this.rg=!0);break;case 38:f.preventDefault();this.bk<l&&(this.Wg=!0);break;case 39:f.preventDefault();this.ak<l&&(this.Mg=!0);break;case 40:f.preventDefault(),this.Zj<l&&(this.Qf=!0)}};p.sk=function(f){var l=this.b.qc;switch(f.which){case 37:f.preventDefault();this.rg=!1;this.$j=l;break;case 38:f.preventDefault();this.Wg=!1;this.bk=l;break;case 39:f.preventDefault();this.Mg=
!1;this.ak=l;break;case 40:f.preventDefault(),this.Qf=!1,this.Zj=l}};p.Je=function(){this.Mg=this.rg=this.Qf=this.Wg=!1};p.$b=function(){var f=this.b.Jh(this.i),l=this.rg||this.Vk,g=this.Mg||this.Wk,a=this.Wg||this.Xk,b=this.Qf||this.Uk;this.Uk=this.Xk=this.Wk=this.Vk=!1;if(this.enabled){var e=this.b.Hc(this.i);if(e&&(this.b.Lg(this.i,e),!this.b.Gn(this.i)))return;this.Hj&&(b=a=g=l=!1);0===this.kj?g=l=!1:1===this.kj&&(b=a=!1);2===this.kj&&(a||b)&&(g=l=!1);l==g&&(0>this.B?(this.B+=this.Qc*f,0<this.B&&
(this.B=0)):0<this.B&&(this.B-=this.Qc*f,0>this.B&&(this.B=0)));a==b&&(0>this.u?(this.u+=this.Qc*f,0<this.u&&(this.u=0)):0<this.u&&(this.u-=this.Qc*f,0>this.u&&(this.u=0)));l&&!g&&(this.B=0<this.B?this.B-(this.rb+this.Qc)*f:this.B-this.rb*f);g&&!l&&(this.B=0>this.B?this.B+(this.rb+this.Qc)*f:this.B+this.rb*f);a&&!b&&(this.u=0<this.u?this.u-(this.rb+this.Qc)*f:this.u-this.rb*f);b&&!a&&(this.u=0>this.u?this.u+(this.rb+this.Qc)*f:this.u+this.rb*f);if(0!==this.B||0!==this.u){Math.sqrt(this.B*this.B+this.u*
this.u)>this.Ag&&(e=Math.atan2(this.u,this.B),this.B=this.Ag*Math.cos(e),this.u=this.Ag*Math.sin(e));g=this.i.x;a=this.i.y;l=this.i.j;this.i.x+=this.B*f;this.i.J();if(e=this.b.Hc(this.i))this.b.Ak(this.i,0>this.B?1:-1,0,Math.abs(Math.floor(this.B*f)))||(this.i.x=g),this.B=0,this.i.J(),this.b.Lg(this.i,e);this.i.y+=this.u*f;this.i.J();if(e=this.b.Hc(this.i))this.b.Ak(this.i,0,0>this.u?1:-1,Math.abs(Math.floor(this.u*f)))||(this.i.y=a),this.u=0,this.i.J(),this.b.Lg(this.i,e);f=cb(this.B);e=cb(this.u);
0===f&&0===e||!this.i.type.ka.es||(1===this.Ri?this.i.j=Ia(90*Math.round(Ea(Math.atan2(e,f))/90)):2===this.Ri?this.i.j=Ia(45*Math.round(Ea(Math.atan2(e,f))/45)):3===this.Ri&&(this.i.j=Math.atan2(e,f)));this.i.J();this.i.j!=l&&(e=this.b.Hc(this.i))&&(this.i.j=l,this.i.J(),this.b.Lg(this.i,e))}}};f.prototype.So=function(){return 1E-10<Math.sqrt(this.B*this.B+this.u*this.u)};m.n=new f;l.prototype.op=function(f){this.B=f};l.prototype.pp=function(f){this.u=f};m.ga=new l;m.Xa=new function(){}})();
function nc(f){this.b=f}
(function(){function f(){}var l=nc.prototype;l.ua=function(a){this.behavior=a;this.b=a.b};var m=l.ua.prototype;m.V=function(){this.He=[]};m.er=function(a){var b,e,c;b=0;for(e=a.F.length;b<e;++b)if(c=a.F[b],c instanceof nc.prototype.ja&&c.type===this)return c;return null};l.ja=function(a,b){this.type=a;this.behavior=a.behavior;this.i=b;this.b=a.b};m=l.ja.prototype;m.V=function(){this.qs=this.K[0];this.Dk=this.K[1];this.cj=Q(this.K[2]);this.to=0!==this.K[3]};m.Ie=function(){};m.kb=function(){var a=
{r:this.Dk,c:this.cj,t:[]},b,e;b=0;for(e=this.type.He.length;b<e;b++)a.t.push(this.type.He[b].T);return a};m.zb=function(a){this.Dk=a.r;this.cj=a.c;O(this.type.He);var b,e,c;b=0;for(e=a.t.length;b<e;b++)(c=this.b.Wf(a.t[b]))&&this.type.He.push(c)};m.$b=function(){};var p=[],q=new sa(0,0,0,0);m.Rr=function(a,b){var e=this.i.x,c=this.i.y,d=this.i.j;0>this.i.width&&(d+=Math.PI);if(Ma(e,c,a,b)>this.Dk||Ja(d,U(e,c,a,b))>this.cj/2)return!1;var f,g;q.set(e,c,a,b);q.normalize();if(0===this.qs)for(this.to?
this.b.om(this.i.k,q,p):(d=this.b.Yk)&&Aa(p,d.Bg.ec()),d=0,f=p.length;d<f;++d){if(g=p[d],g.A.solidEnabled&&g!==this.i&&this.b.bo(e,c,a,b,g))return O(p),!1}else{if(this.to)this.b.Cj(this.i.k,this.type.He,q,p);else for(d=0,f=this.type.He.length;d<f;++d)Aa(p,this.type.He[d].d);d=0;for(f=p.length;d<f;++d)if(g=p[d],g!==this.i&&this.b.bo(e,c,a,b,g))return O(p),!1}O(p);return!0};var r=new ba,g=new ba;f.prototype.Lo=function(a){if(!a)return!1;var b,e,c,d,f,h,l,m,p=this.b.kr().R();a=a.R();var n=p.ub(),q=a.ub();
p.W&&O(p.Q);a.W&&O(a.Q);var C=this.b.gf().gg;b=0;for(c=n.length;b<c;++b){f=n[b];m=!1;h=this.er(f);e=0;for(d=q.length;e<d;++e)l=q[e],f!==l&&Na(h.Rr(l.x,l.y),C)&&(m=!0,g.add(l));m&&r.add(f)}b=r.ec();e=g.ec();p.W=!1;a.W=!1;xa(p.d,b);xa(a.d,e);r.clear();g.clear();return p.Fj()};l.n=new f;l.ga=new function(){};l.Xa=new function(){}})();function oc(f){this.b=f}
(function(){var f=oc.prototype;f.ua=function(f){this.behavior=f;this.b=f.b};f.ua.prototype.V=function(){};f.ja=function(f,m){this.type=f;this.behavior=f.behavior;this.i=m;this.b=f.b;this.mode=0};f=f.ja.prototype;f.V=function(){this.mode=this.K[0]};f.$b=function(){};f.Vg=function(){this.i.ba();var f=this.i.ea,m=this.i.k.Ca,p=!1;0===this.mode?(0>this.i.x&&(this.i.x=0,p=!0),0>this.i.y&&(this.i.y=0,p=!0),this.i.x>m.width&&(this.i.x=m.width,p=!0),this.i.y>m.height&&(this.i.y=m.height,p=!0)):(0>f.left&&
(this.i.x-=f.left,p=!0),0>f.top&&(this.i.y-=f.top,p=!0),f.right>m.width&&(this.i.x-=f.right-m.width,p=!0),f.bottom>m.height&&(this.i.y-=f.bottom-m.height,p=!0));p&&this.i.J()}})();function pc(f){this.b=f;this.Sk=this.Ai=this.Qg=this.Rk=0}
(function(){var f=pc.prototype;f.ua=function(f){this.behavior=f;this.b=f.b};f.ua.prototype.V=function(){};f.ja=function(f,l){this.type=f;this.behavior=f.behavior;this.i=l;this.b=f.b};var l=f.ja.prototype;l.V=function(){this.enabled=0!==this.K[0]};l.kb=function(){return{smg:this.behavior.Rk,ss:this.behavior.Qg,se:this.behavior.Ai,smd:this.behavior.Sk}};l.zb=function(f){this.behavior.Rk=f.smg;this.behavior.Qg=f.ss;this.behavior.Ai=f.se;this.behavior.Sk=f.smd};l.$b=function(){};l.Vg=function(){if(this.enabled){var f=
this.behavior.Bg.ec(),l=0,q=0,r,g,a,b=0;r=0;for(g=f.length;r<g;r++){a:{a=f[r];for(var e=void 0,c=void 0,d=void 0,e=0,c=a.F.length;e<c;++e)if(d=a.F[e],d.behavior instanceof pc){a=d;break a}a=null}a&&a.enabled&&(l+=f[r].x,q+=f[r].y,++b)}f=this.i.k.Ca;g=this.b.Kb.oa;a=r=0;g>=this.behavior.Qg&&g<this.behavior.Ai&&(r=this.behavior.Rk*Math.min(this.b.Bf,1),0===this.behavior.Sk&&(r*=1-(g-this.behavior.Qg)/(this.behavior.Ai-this.behavior.Qg)),g=Math.random()*Math.PI*2,a=Math.random()*r,r=Math.cos(g)*a,a*=
Math.sin(g));f.Nk(l/b+r);f.Ok(q/b+a)}};f.ga=new function(){}})();function gc(f){this.b=f}(function(){var f=gc.prototype;f.ua=function(f){this.behavior=f;this.b=f.b};f.ua.prototype.V=function(){};f.ja=function(f,l){this.type=f;this.behavior=f.behavior;this.i=l;this.b=f.b};var l=f.ja.prototype;l.V=function(){this.i.A.solidEnabled=0!==this.K[0]};l.$b=function(){};f.n=new function(){};f.ga=new function(){}})();
function fc(){return[hc,kc,ic,Z,jc,pc,mc,oc,gc,nc,lc,Y.prototype.n.Ko,ic.prototype.ga.mp,Z.prototype.ga.kp,Y.prototype.n.Qo,hc.prototype.n.Ro,Z.prototype.n.Mo,Z.prototype.n.Uo,Z.prototype.n.Oo,Z.prototype.ga.jp,Z.prototype.n.Do,Z.prototype.ga.lp,Z.prototype.ga.sp,hc.prototype.n.tl,Z.prototype.ga.rp,Z.prototype.ga.xo,Z.prototype.n.cp,Z.prototype.ga.Ho,Z.prototype.n.To,Z.prototype.n.Eo,mc.prototype.n.So,Z.prototype.n.Fo,Y.prototype.Xa.js,Y.prototype.ga.Xo,mc.prototype.ga.pp,mc.prototype.ga.op,nc.prototype.n.Lo,
Z.prototype.ga.np,Z.prototype.Xa.wp,Z.prototype.Xa.xp,Y.prototype.Xa.random,Y.prototype.n.Jo,Y.prototype.ga.Go,Z.prototype.ga.ip,Y.prototype.n.Co]};
